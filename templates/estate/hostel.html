{% load static %}
{% load automobile_filters %}
{% load static %}

<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">

<title>OMAN</title>

<!-- Fav Icon -->
<link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">

{% comment %} <!-- Google Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,300;0,400;0,600;0,700;0,800;0,900;1,300;1,400;1,600;1,700;1,800;1,900&display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600;700&display=swap" rel="stylesheet"> {% endcomment %}

<!-- Stylesheets -->
<link href="{% static 'assets/css/fonts' %}" rel="stylesheet" media="screen">
<link href="{% static 'assets/css/font-awesome-all.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/flaticon.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/owl.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/bootstrap.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/jquery.fancybox.min.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/animate.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/nice-select.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/color.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/style.css' %}" rel="stylesheet">
<link href="{% static 'assets/css/responsive.css' %}" rel="stylesheet">
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

</head>
<style>
    /* Show dropdown on hover */
.navbar .dropdown:hover .dropdown-menu {
    display: block;
    opacity: 1;
    visibility: visible;
}

/* Optional: Smooth transition effect */
.dropdown-menu {
    display: none; /* Hide by default */
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}
.property-video{
        width:300px;
      }

</style>
<style>

.location-icon {
    position: absolute;
    top: 50%;
    left: 10px;
    transform: translateY(-50%);
    font-size: 18px;
    background: linear-gradient(45deg, red, orange);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.search-input {
    font-family: 'FontStyle6', Arial, sans-serif;
    padding: 10px;
    width: 70%; 
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
}
.search-btn {
    position: absolute;
    right: 0;
    padding: 5px 10px;
    background: linear-gradient(45deg, #EB362D, #F9AD1F, #EB362D, #F9AD1F); /* Gradient background */
    border: none;
    border-radius: 0 10px 20px 0;
    cursor: pointer;
}

.search-btn i {
    color: #fff; /* White color for the icon */
}

/* Adjust spacing for the right section */
.row.align-items-center {
    display: flex;
    justify-content: space-between;
}



/* Small line between Sign In and Add Post */
.separator {
    width: 1px;
    height: 30px;
    background-color: #ccc;
    margin: 0 10px;
}

/* Underline below Sign In */
.sign-in a {
    position: relative;
    display: inline-block;
    text-decoration: none;
    color: black;
    font-family: 'FontStyle6', Arial, sans-serif;
    {% comment %} font-weight: bold; {% endcomment %}
}

.sign-in a::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: #333;
}
.theme-btn-one {
    background: linear-gradient(60deg, #F9AD1F, #EB362D);
    
    color: white;
    padding: 10px 20px;
    border-radius: 20px;
    text-decoration: none;
    margin-right: 10px;
    font-size:14px;
    display: inline-block; /* Allows padding and margin */
    text-align: center; /* Centers text horizontally */
    line-height: 20px; /* Adjust this value to match the button height for vertical centering */
}

.theme-btn-two {
    background: linear-gradient(60deg, #F9AD1F, #EB362D);
    color: white;
    margin-top:-1px;
    padding: 0px 10px;
    border-radius: 16px;
    text-decoration: none;
    margin-right: 10px;
    font-size: 12px;
    display: inline-block; /* Allows padding and margin */
    text-align: center; /* Centers text horizontally */
    line-height: 20px; /* Adjust this value to match the button height for vertical centering */
}
.theme-btn-three {
    background: linear-gradient(60deg, #F9AD1F, #EB362D);
    color: white;
    margin-top:-1px;
    padding: 0px 10px;
    border-radius: 16px;
    text-decoration: none;
    margin-right: 10px;
    font-size: 12px;
    display: inline-block; /* Allows padding and margin */
    text-align: center; /* Centers text horizontally */
    line-height: 20px; /* Adjust this value to match the button height for vertical centering */
}

/* Small line between Sign In and Add Post */
.separator {
    width: 1px;
    height: 50px;
    background-color: #ccc;
    margin: 0 10px;
}

/* Underline below Sign In */
.sign-in a {
    position: relative;
    display: inline-block;
    text-decoration: none;
    color: black;
    font-family: 'FontStyle6', Arial, sans-serif;
    font-weight: normal;
}

.sign-in a::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 100%;
    height: 2px;
    background-color: #333;
}
/* Style for the "Log in or sign up" link */
.login-link {
    position: relative;
    display: inline-block;
    text-decoration: none;
    color: black;
    {% comment %} font-weight: bold; {% endcomment %}
    font-size: 14px; /* Reduced font size */
    transition: font-size 0.3s ease, color 0.3s ease; /* Smooth transition for font size and color */
}



/* Animated underline effect with gradient */
.login-link::after {
    content: '';
    position: absolute;
    bottom: -5px;
    left: 0;
    width: 0;
    height: 2px;
    background: linear-gradient( #F9AD1F, #EB362D); /* Gradient from orange to red */
    transition: width 0.3s ease; /* Animate the width of the underline */
}

/* Hover effects on the link */
.login-link:hover {
    color: linear-gradient( #F9AD1F, #EB362D); /* Change text color on hover */
    
}

.login-link:hover::after {
    width: 100%; /* Expand underline to full width on hover */
}


/* Center the navbar */
.main-menu {
    text-align: center;
    margin: 0 auto;
    padding: 0;
  
}

.main-menu .navigation {
    display: inline-block; /* Center the navigation items */
    list-style-type: none;
    margin: 0;
    padding: 0;
}

.main-menu .navigation > li {
    display: inline-block;
   
}

.main-menu .navigation > li > a {
    text-decoration: none;
    color: #000; /* Default color */
    padding: 10px 18px;
}

.main-menu .navigation > li > a:hover {
    color: #007bff; /* Change color on hover */
}

.gradient-button {
    display: inline-block;
    background: linear-gradient( #F9AD1F, #EB362D);
    padding: 5px;
    border-radius: 30px;
    color: white;
    font-weight: bold;
    text-decoration: none;
    transition: background 0.3s ease, filter 0.3s ease;
    filter: blur(0px); /* Initial blur level */
}

.gradient-button:hover {
    background: linear-gradient( #F9AD1F, #EB362D);
    filter: blur(18px); /* Add a blur effect on hover */
}

.gradient-button span {
    font-size: 12px;
}

/* Hide the mobile toggle on larger screens */
@media (min-width: 768px) {
    .mobile-nav-toggler {
        display: none;
    }
}

 #l1{
    padding: 28px 0px;
    margin-right:-10px;
  }


</style>
<style>
    /* Ensure the navbar content stays in a single line */
.navbar .ml-auto {
    display: flex;
    align-items: center;
    flex-wrap: nowrap;
    
}

/* Prevent text from breaking */
.sign-in a, .dropdown-toggle {
    white-space: nowrap;
}

/* Adjust dropdown alignment */
.dropdown-menu {
    min-width: 200px;
    text-align: left;
}

/* Mobile adjustments */
@media (max-width: 768px) {
    .navbar .ml-auto {
        justify-content: flex-end;
        margin-top: -5px;
    }

    .sign-in a {
        font-size: 12px;
        padding: 5px 10px;
    }

    .dropdown-toggle {
        display: flex;
        align-items: center;
        margin-left: -95px;
    }

    .user-image {
        width: 18px;
        height: 18px;
    }
}

@media (max-width: 480px) {
    .navbar .ml-auto {
        flex-direction: row;
        align-items: center;
    }

    .sign-in a {
        font-size: 10px;
       
    }

    .dropdown-menu {
        font-size: 12px;
    }
}

</style>




<style>
    
    .dropdown {
        position: relative;
    }
    
    .real-estate-container {
        display: flex;
        align-items: :
        gap: 20px;
        color:black;
        padding: 10px 12px;
    }
    
    .real-estate-container {
        display: flex;
        align-items: :
        gap: 20px;
        color:black;
        padding: 10px 13px;
    }
    
    .real-estate-container > a {
        text-decoration: none; /* Removes underline from links */
        color:black;
        position: relative;
        display: block;
        text-align: center;
        font-size: 14px;
        line-height: 30px;
    
        font-weight: 600;
        opacity: 1;
    }
    .real-estate-container > a:hover {
       
        color:#E35D20 !important;
      
    }
    
    .theme-btn-one.exclusive-btn:hover {
        background-color: #ff7647; /* Slightly lighter color on hover */
    }
    .search-box {
        position: relative;
        width:240px;
        border-color:#15818E;
    }
    
    /* Make the search field smaller and position it closer to the logo */
    .search-box {
        display: inline-flex;
        align-items: center;
     
        margin-left: -170px;
    }
    
 
    .location-icon3 {
        position: absolute;
        top: 26%;
        left: 45px;
        height:23px;
       
    }
    .location-icon2 {
        position: absolute;
        top: 50%;
        left: 10px;
        transform: translateY(-50%);
        height:25px;
    
    }
    .location-icon1 {
        position: absolute;
        top: 50%;
        left: 10px;
        transform: translateY(-50%);
        height:23px;
      
    }
    
.search-input {
    position: relative; /* Ensure this is set */
    width: 83%;
    font-family: 'FontStyle6', Arial, sans-serif;
    font-size: 12px;
    padding-left: 35px; /* Space for the location icon */
    padding-right: 50px; /* Space for the dropdown icon */
    height: 30px;
    padding: 0.32rem;
    border-radius: 10px 10px 10px 10px;
    border: 1px solid #7ECAB6;
    box-shadow: none;
    cursor: pointer;
    background: #f9f9f9;
}

.location-icon {
    position: absolute;
    top: 50%;
    left: 10px;
    transform: translateY(-50%);
    height: 20px;
    z-index: 1; /* Ensure it appears on top */
}

.dropdown-icon {
    position: absolute;
    top: 50%;
    right: 10px;
    transform: translateY(-50%);
    font-size: 12px;
    background: linear-gradient(45deg, red, orange);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    cursor: pointer;
    transition: transform 0.3s ease;
}
    .search-box {
        position: relative; /* Ensure the dropdown is positioned relative to the search box */
        width: 240px; /* Set a fixed width for the search box */
    }
    .regions-list {
        font-family: 'FontStyle6', Arial, sans-serif;
        position: absolute;
        top: 100%;
        left: 0;
        background: white;
        z-index: 1000;
        width: 200px; /* Adjust width as needed */
        max-height: 1700px; /* Set a maximum height */
        overflow: hidden; /* Prevent scrollbars */
        display: none; /* Initially hidden */
        box-shadow: 8px 8px 8px rgba(0, 0, 0, 0.1);
    }
    
    .region-item {
        margin-bottom: 10px;
        position: relative;
        white-space: nowrap; /* Prevent text from wrapping */
        overflow: hidden; /* Hide overflow */
        text-overflow: ellipsis; /* Show ellipsis for overflowed text */
    }
    
    .region-item:hover .region-header {
        background-color: #f0f0f0; /* Change the background color on hover */
        cursor: pointer;
        color: #E35D20;
    }
    .cities-container {
        position: absolute;
        margin-top:-50px;
        left: 190px;
        width:400px;
        background: white;
        padding: 10px;
        display: none; /* Hidden by default */
        z-index: 2000;
    }
    .cities-list {
        font-family: 'FontStyle6', Arial, sans-serif;
        list-style: none;
        padding-left: 20px;
        margin: 0;
    }
    .cities-list li:hover{
        background-color: #f0f0f0; /* Change the background color on hover */
        cursor: pointer;
        color:#E35D20;
    }
    .region-header i {
        transition: transform 0.3s ease;
    }
    
    .region-item:hover .cities-container {
        display: block; /* Display cities container on hover */
    }
    
    .region-item:hover .region-header i {
        transform: rotate(90deg); /* Rotate the arrow icon */
    }
    .region-item:hover .cities-container {
        display: block;
    }
    
    .cities-container {
        transition: all 0.3s ease-in-out;
    }
    
    .lang1{
        margin-left:10px;
        font-weight:bold;
        margin-top:-4px;
    }
    .icon-logo {
        display: flex;
        flex-direction: column;
        align-items: center; /* Center align icon and text */
        margin: 0 5px; /* Consistent spacing between each icon-text pair */
    }
    
    .icon-logo img {
        width: 27px;
        height: 27px;
        margin-bottom: 5px; /* Add space between the icon and the text */
        transition: transform 0.3s ease; /* Smooth scale effect for hover */
    }
    .icon-logo p{
        font-size: 12px;
        text-align: center;
        margin-top: 5px;
        color: #333; /* Default color */
        transition: color 0.3s ease; /* Smooth color transition for text */
        font-family: 'FontStyle6', Arial, sans-serif;
        font-weight: normal;
    }
    .submenu-columns .column li img {
        width: 15px; /* Adjust image size */
        height: 15px;
        margin-right: 10px; /* Add spacing between image and text */
        vertical-align: middle; /* Align image with text */
    }
    
    .icon-logo:hover img {
        transform: scale(1.1); /* Slightly enlarge the icon on hover */
    }
    
    .icon-logo{
        font-size: 12px;
        text-align: center;
        margin-top: 5px;
        color: #333; /* Default color */
        transition: color 0.3s ease; /* Smooth color transition for text */  
        font-weight: normal;
    }
    
    
    .icon-logo:hover .icon-text {
        color: linear-gradient( #F9AD1F, #EB362D);
    }
    .icon-container {
        display: flex;
        justify-content: center; /* Center all icons horizontally */
        gap: 10px; 
    }
    
        /* Submenu */
        .submenu {
            display: none;
            margin: 10px 0;
            padding: 10px;
        
            border: 1px solid #ccc;
            position: absolute; /* Absolute positioning for placement */
            margin-top: -10px; /* Align with the parent item vertically */
            left: 100%; /* Position to the right of the parent item */
            z-index: 1000; /* Ensure it's above other elements */
            font-family: 'FontStyle6', Arial, sans-serif;
            font-size: 14px;
           
        }
        
        /* Submenu Columns */
        .submenu-columns {
            display: flex;
            margin-left:10px;
            gap: 120px;
            font-family: 'FontStyle6', Arial, sans-serif;
            background-color: #F5F6F7;
            text-align: justify;
        }
        
        /* Column */
        .column {
            list-style: none;
            padding: 0;
            width: 220px;
          
        }
        
        /* Column Links */
        .column li a {
            display: block;
            text-decoration: none;
            color: #333;
            padding: 5px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        .column li a:hover {
           
            color:  #E35D20;
            padding: 5px;
            border-radius: 4px;
            transition: background-color 0.2s;
        }
        
        
        
        /* Dropdown Hover Effect */
        .dropdown:hover > .submenu {
            display: block; /* Show submenu on hover */
        }
        .current-location{
            width:25px;
        }
    

        @media (max-width: 480px) {
            .search-box {
                margin-top: 105px;
                margin-left: -230px;
            }
        }
        .allcities{
            padding-left:5px;
            margin-bottom:5px;
            font-family: 'FontStyle6', Arial, sans-serif;font-size:13px;
            background : none; 
            border: none;  
            cursor: pointer;"
        }
        .allcities:hover {
            background-color: #f0f0f0; /* Change the background color on hover */
            cursor: pointer;
            color: #E35D20;
        }
    
    </style>




<!-- page wrapper -->
<body>

    <div class="boxed_wrapper">



        <!-- main header -->
        <header class="main-header">
            
            <!-- header-lower -->
            <div class="header-lower1">
                <div class="auto-container">
                    <div class="outer-box">
                        

                            <!-- Logo Section -->
    
                            
                                <div class="logo-box">
                                    <figure class="logo">
                                        <a href="{% url 'index' %}">
                                            <img src="{% static 'assets/images/logo.png' %}" style="height:50px;" alt="Oman">
                                        </a>
                                    </figure>
                                </div>
                                <div class="col-md-3 col-12" style="margin-right: -180px;">
                                    <div class="search-box" style="position: relative;">
                                        <img src="{% static 'assets/images/Icons-03.png' %}" alt="Location Icon" class="location-icon">
                                        <div class="search-input" onclick="toggleDropdown()" style="padding-top:6px;padding-left:30px; cursor: pointer; background: #f9f9f9;">
                                            {% if selected_city %}
                                                {{ selected_city }}
                                            {% elif selected_region %}
                                                {{ selected_region }}  {# Now it shows "Muscat" instead of "MS" #}
                                            {% else %}
                                                All Cities
                                            {% endif %}
                                            <i class="fas fa-chevron-down dropdown-icon"></i>
                                        </div>
                                        
                                        <ul id="regions-list" class="regions-list" style="display: none;  border: 1px solid #ccc; border-radius: 5px; margin-top: 5px; background: white; padding: 10px;">
                                            <li>
                                                <input type="text" id="region-search" placeholder="Search for Location" oninput="filterRegionsAndCities()" style="width: 100%; padding: 4px; font-size:12px; margin-bottom: 10px; border: 1px solid #7ECAB6; border-radius: 7px;">
                                            </li>
                                            <li>
                                                <img src="{% static 'assets/images/2-02.png' %}" alt="Location Icon" class="current-location">
                                                <button style="background : none; border: none; color:rgb(218, 16, 16); cursor: pointer;font-size:15px;font-weight:bold">Use current location</button>
                                            </li>
                                            <li>
                                               <p class="text-dark p-2" style=" font-family: 'FontStyle6', Arial, sans-serif;font-size:13px;margin-bottom:-5px;">Search for Location</p>
                                            </li>
                                            <li onclick="selectCity('All Cities', '')" class="allcities">All Cities</li>
                                            <li class="region-item">
                                                <div class="region-header" data-region-id="MS" onclick="selectRegion('MS')" style="padding-left:5px; cursor: pointer;font-size:13.5px;">
                                                    Muscat
                                                    <i class="fas fa-chevron-right arrow-icon" id="arrow-MS" style="float: right;background: linear-gradient(45deg, red, orange); -webkit-background-clip: text; -webkit-text-fill-color: transparent;font-size:13px;"></i>
                                                </div>
                                            </li>
                                            <li class="region-item">
                                                <div class="region-header" data-region-id="DH" onclick="selectRegion('DH')" style="padding-left:5px; cursor: pointer;font-size:13.5px;">
                                                    Dhofar
                                                    <i class="fas fa-chevron-right arrow-icon" id="arrow-DH" style="float: right;background: linear-gradient(45deg, red, orange); -webkit-background-clip: text; -webkit-text-fill-color: transparent;font-size:13px;"></i>
                                                </div>
                                            </li>
                                            <li class="region-item">
                                                <div class="region-header" data-region-id="BT" onclick="selectRegion('BT')" style="padding-left:5px; cursor: pointer;font-size:13.5px;">
                                                   Al Batinah
                                                    <i class="fas fa-chevron-right arrow-icon" id="arrow-BT" style="float: right;background: linear-gradient(45deg, red, orange); -webkit-background-clip: text; -webkit-text-fill-color: transparent;font-size:13px;"></i>
                                                </div>
                                            </li>
                                            <li class="region-item">
                                                <div class="region-header" data-region-id="DA" onclick="selectRegion('DA')" style="padding-left:5px; cursor: pointer;font-size:13.5px;">
                                                    Al Dakhiliya
                                                    <i class="fas fa-chevron-right arrow-icon" id="arrow-DA" style="float: right;background: linear-gradient(45deg, red, orange); -webkit-background-clip: text; -webkit-text-fill-color: transparent;font-size:13px;"></i>
                                                </div>
                                            </li>
                                            <li class="region-item">
                                                <div class="region-header" data-region-id="SH" onclick="selectRegion('SH')" style="padding-left:5px; cursor: pointer;font-size:13.5px;">
                                                    Al Sharqiya
                                                    <i class="fas fa-chevron-right arrow-icon" id="arrow-SH" style="float: right;background: linear-gradient(45deg, red, orange); -webkit-background-clip: text; -webkit-text-fill-color: transparent;font-size:13px;"></i>
                                                </div>
                                            </li>
                                            <li class="region-item">
                                                <div class="region-header" data-region-id="BZ" onclick="selectRegion('BZ')" style="padding-left:5px; cursor: pointer;font-size:13.5px;">
                                                    Al Buraimi
                                                    <i class="fas fa-chevron-right arrow-icon" id="arrow-BZ" style="float: right;background: linear-gradient(45deg, red, orange); -webkit-background-clip: text; -webkit-text-fill-color: transparent;font-size:13px;"></i>
                                                </div>
                                            </li>
                                            <li class="region-item">
                                                <div class="region-header" data-region-id="DZ" onclick="selectRegion('DZ')" style="padding-left:5px; cursor: pointer;font-size:13.5px;">
                                                   Musandam
                                                    <i class="fas fa-chevron-right arrow-icon" id="arrow-DZ" style="float: right;background: linear-gradient(45deg, red, orange); -webkit-background-clip: text; -webkit-text-fill-color: transparent;font-size:13px;"></i>
                                                </div>
                                            </li>
                                            <li class="region-item">
                                                <div class="region-header" data-region-id="WT" onclick="selectRegion('WT')" style="padding-left:5px; cursor: pointer;font-size:13.5px;">
                                                    Al Wusta
                                                    <i class="fas fa-chevron-right arrow-icon" id="arrow-WT" style="float: right;background: linear-gradient(45deg, red, orange); -webkit-background-clip: text; -webkit-text-fill-color: transparent;font-size:13px;"></i>
                                                </div>
                                            </li>
                                            <li class="region-item">
                                                <div class="region-header" data-region-id="ZU" onclick="selectRegion('ZU')" style="padding-left:5px; cursor: pointer;font-size:13.5px;">
                                                    Al Dhahirah
                                                    <i class="fas fa-chevron-right arrow-icon" id="arrow-ZU" style="float: right;background: linear-gradient(45deg, red, orange); -webkit-background-clip: text; -webkit-text-fill-color: transparent;font-size:13px;"></i>
                                                </div>
                                            </li>
                                            
                                        </ul>
                                       <!-- Cities container moved outside regions-list -->
<div class="cities-container" id="cities-container-MS" style="display: none;max-height: 280px;overflow-y: auto;">
    <ul class="cities-list" id="cities-MS" style="padding-left: 20px;">
        <li><button onclick="selectCity('Al Amarat', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Amarat</button></li>
        <li><button onclick="selectCity('Al Bustan', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Bustan</button></li>
        <li><button onclick="selectCity('Al Ghubrah', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Ghubrah</button></li>
        <li><button onclick="selectCity('Al Hail', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Hail</button></li>
        <li><button onclick="selectCity('Al Hamriyah', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Hamriyah</button></li>
        <li><button onclick="selectCity('Al Khoud', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Khoud</button></li>
        <li><button onclick="selectCity('Al Khuwair', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Khuwair</button></li>
        <li><button onclick="selectCity('Al Maabilah', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Maabilah</button></li>
        <li><button onclick="selectCity('Al Mawaleh', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Mawaleh</button></li>
        <li><button onclick="selectCity('Al Rusayl', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Rusayl</button></li>
        <li><button onclick="selectCity('Al Seeb', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Seeb</button></li>
        <li><button onclick="selectCity('Al Sifah', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Sifah</button></li>
        <li><button onclick="selectCity('Al Wadi Al Kabir', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Wadi Al Kabir</button></li>
        <li><button onclick="selectCity('Ansab', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Ansab</button></li>
        <li><button onclick="selectCity('Azaiba', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Azaiba</button></li>
        <li><button onclick="selectCity('Barr Al Jissah', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Barr Al Jissah</button></li>
        <li><button onclick="selectCity('Bosher', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Bosher</button></li>
        <li><button onclick="selectCity('Darsait', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Darsait</button></li>
        <li><button onclick="selectCity('Ghala', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Ghala</button></li>
        <li><button onclick="selectCity('Madinat As Sultan Qaboos', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Madinat As Sultan Qaboos</button></li>
        <li><button onclick="selectCity('Misfah', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Misfah</button></li>
        <li><button onclick="selectCity('Muscat - Other', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Muscat - Other</button></li>
        <li><button onclick="selectCity('Muscat Hills', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Muscat Hills</button></li>
        <li><button onclick="selectCity('Mutrah', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Mutrah</button></li>
        <li><button onclick="selectCity('Qantab', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Qantab</button></li>
        <li><button onclick="selectCity('Qurayyat', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Qurayyat</button></li>
        <li><button onclick="selectCity('Qurum', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Qurum</button></li>
        <li><button onclick="selectCity('Ruwi', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Ruwi</button></li>
        <li><button onclick="selectCity('Sadab', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Sadab</button></li>
        <li><button onclick="selectCity('Sultan Haitham City', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Sultan Haitham City</button></li>
        <li><button onclick="selectCity('The Wave (Almouj)', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">The Wave (Almouj)</button></li>
        <li><button onclick="selectCity('Yiti', 'MS')" style="background: none; border: none; cursor: pointer;font-size:13px;">Yiti</button></li>
    </ul>
</div>

                                       <div class="cities-container" id="cities-container-DH" style="display: none;">
    <ul class="cities-list" id="cities-DH" style="padding-left: 20px;">
        <li><button onclick="selectCity('Al Mazyona', 'DH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Mazyona</button></li>
        <li><button onclick="selectCity('Dhalkut', 'DH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Dhalkut</button></li>
        <li><button onclick="selectCity('Mirbat', 'DH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Mirbat</button></li>
        <li><button onclick="selectCity('Muqshin', 'DH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Muqshin</button></li>
        <li><button onclick="selectCity('Rakhyut', 'DH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Rakhyut</button></li>
        <li><button onclick="selectCity('Sadah', 'DH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Sadah</button></li>
        <li><button onclick="selectCity('Salalah', 'DH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Salalah</button></li>
        <li><button onclick="selectCity('Shalim and The Hallaniyat Island', 'DH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Shalim and The Hallaniyat Island</button></li>
        <li><button onclick="selectCity('Taqah', 'DH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Taqah</button></li>
        <li><button onclick="selectCity('Thumrait', 'DH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Thumrait</button></li>
    </ul>
</div>

                                       
                                      <!-- Al Batinah -->
<div class="cities-container" id="cities-container-BT" style="display: none;">
    <ul class="cities-list" id="cities-BT" style="padding-left: 20px;">
        <li><button onclick="selectCity('Al Awabi', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al 'Awabi</button></li>
        <li><button onclick="selectCity('Al Khaboura', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Khaboura</button></li>
        <li><button onclick="selectCity('Al Masna', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Masn'a</button></li>
        <li><button onclick="selectCity('Al Rustaq', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Rustaq</button></li>
        <li><button onclick="selectCity('Barka', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Barka</button></li>
        <li><button onclick="selectCity('Liwa', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Liwa</button></li>
        <li><button onclick="selectCity('Nakhl', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Nakhl</button></li>
        <li><button onclick="selectCity('Saham', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Saham</button></li>
        <li><button onclick="selectCity('Shinas', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Shinas</button></li>
        <li><button onclick="selectCity('Sohar', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Sohar</button></li>
        <li><button onclick="selectCity('Suwaiq', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Suwaiq</button></li>
        <li><button onclick="selectCity('Wadi Al Maawal', 'BT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Wadi Al Ma'awal</button></li>
    </ul>
</div>


<!-- Al Dakhiliyah -->
<div class="cities-container" id="cities-container-DA" style="display: none;">
    <ul class="cities-list" id="cities-DA" style="padding-left: 20px;">
        <li><button onclick="selectCity('Adam', 'DA')" style="background: none; border: none; cursor: pointer;font-size:13px;">Adam</button></li>
        <li><button onclick="selectCity('Bahla', 'DA')" style="background: none; border: none; cursor: pointer;font-size:13px;">Bahla</button></li>
        <li><button onclick="selectCity('Bidbid', 'DA')" style="background: none; border: none; cursor: pointer;font-size:13px;">Bidbid</button></li>
        <li><button onclick="selectCity('Hamra', 'DA')" style="background: none; border: none; cursor: pointer;font-size:13px;">Hamra</button></li>
        <li><button onclick="selectCity('Izki', 'DA')" style="background: none; border: none; cursor: pointer;font-size:13px;">Izki</button></li>
        <li><button onclick="selectCity('Manah', 'DA')" style="background: none; border: none; cursor: pointer;font-size:13px;">Manah</button></li>
        <li><button onclick="selectCity('Nizwa', 'DA')" style="background: none; border: none; cursor: pointer;font-size:13px;">Nizwa</button></li>
        <li><button onclick="selectCity('Sumail', 'DA')" style="background: none; border: none; cursor: pointer;font-size:13px;">Sumail</button></li>
    </ul>
</div>

<!-- Al Dhahirah -->
<div class="cities-container" id="cities-container-ZU" style="display: none;margin-top: -90px;">
    <ul class="cities-list" id="cities-DH" style="padding-left: 20px;">
        <li><button onclick="selectCity('Dhank', 'ZU')" style="background: none; border: none; cursor: pointer;font-size:13px;">Dhank</button></li>
        <li><button onclick="selectCity('Ibri', 'ZU')" style="background: none; border: none; cursor: pointer;font-size:13px;">Ibri</button></li>
        <li><button onclick="selectCity('Yunqul', 'ZU')" style="background: none; border: none; cursor: pointer;font-size:13px;">Yunqul</button></li>
    </ul>
</div>  
<!-- Al Wusta -->
<div class="cities-container" id="cities-container-AW" style="display: none;">
    <ul class="cities-list" id="cities-AW" style="padding-left: 20px;">
        <li><button onclick="selectCity('Al Duqum', 'AW')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Duqum</button></li>
        <li><button onclick="selectCity('Al Jazur', 'AW')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Jazur</button></li>
        <li><button onclick="selectCity('Haima', 'AW')" style="background: none; border: none; cursor: pointer;font-size:13px;">Haima</button></li>
        <li><button onclick="selectCity('Mahut', 'AW')" style="background: none; border: none; cursor: pointer;font-size:13px;">Mahut</button></li>
    </ul>
</div>

<!-- Ash Sharqiyah North -->
<div class="cities-container" id="cities-container-SH" style="display: none;max-height: 157px;overflow-y: auto;">
    <ul class="cities-list" id="cities-SH" style="padding-left: 20px;">
        <li><button onclick="selectCity('Al Kamil and Al Waafi', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Kamil and Al Waafi</button></li>
        <li><button onclick="selectCity('Al Mudaibi', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Mudaibi</button></li>
        <li><button onclick="selectCity('Al Qabil', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Qabil</button></li>
        <li><button onclick="selectCity('Bidiya', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Bidiya</button></li>
        <li><button onclick="selectCity('Dima and Al Taaiyin', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Dima and Al Taaiyin</button></li>
        <li><button onclick="selectCity('Ibra', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Ibra</button></li>
        <li><button onclick="selectCity('Ja\'alan Bani Bu Ali', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Ja'alan Bani Bu Ali</button></li>
        <li><button onclick="selectCity('Jalan Bani Buhassan', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Jalan Bani Buhassan</button></li>
        <li><button onclick="selectCity('Masira', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Masira</button></li>
        <li><button onclick="selectCity('Sur', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Sur</button></li>
        <li><button onclick="selectCity('Wadi Bani Khalid', 'SH')" style="background: none; border: none; cursor: pointer;font-size:13px;">Wadi Bani Khalid</button></li>
    </ul>
</div>


<!-- Al Buraimi -->
<div class="cities-container" id="cities-container-BZ" style="display: none;">
    <ul class="cities-list" id="cities-BR" style="padding-left: 20px;">
        <li><button onclick="selectCity('Al Buraimi', 'BZ')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Buraimi</button></li>
        <li><button onclick="selectCity('Al Sinainah', 'BZ')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Sinainah</button></li>
        <li><button onclick="selectCity('Mahdhah', 'BZ')" style="background: none; border: none; cursor: pointer;font-size:13px;">Mahdhah</button></li>
    </ul>
</div>

<!-- Al Wusta Cities -->
<div class="cities-container" id="cities-container-WT" style="display: none;">
    <ul class="cities-list" id="cities-WT" style="padding-left: 20px;">
        <li><button onclick="selectCity('Al Duqum', 'WT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Duqum</button></li>
        <li><button onclick="selectCity('Al Jazur', 'WT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Al Jazur</button></li>
        <li><button onclick="selectCity('Haima', 'WT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Haima</button></li>
        <li><button onclick="selectCity('Mahut', 'WT')" style="background: none; border: none; cursor: pointer;font-size:13px;">Mahut</button></li>
    </ul>
</div>

<!-- Masandam Cities -->
<div class="cities-container" id="cities-container-DZ" style="display: none;">
    <ul class="cities-list" id="cities-DZ" style="padding-left: 20px;">
        <li><button onclick="selectCity('Bukha', 'DZ')" style="background: none; border: none; cursor: pointer;font-size:13px;">Bukha</button></li>
        <li><button onclick="selectCity('Dibba', 'DZ')" style="background: none; border: none; cursor: pointer;font-size:13px;">Dibba</button></li>
        <li><button onclick="selectCity('Khasab', 'DZ')" style="background: none; border: none; cursor: pointer;font-size:13px;">Khasab</button></li>
        <li><button onclick="selectCity('Madha', 'DZ')" style="background: none; border: none; cursor: pointer;font-size:13px;">Madha</button></li>
    </ul>
</div>



                                        <div class="lang1" style="position: relative; cursor: pointer;" onclick="translateText()">عربي</div>

<script>
    function translateText() {
        // Add your translation logic here
        alert(' language triggered!');
}
</script>
                                    </div>
                                </div>
                                
                                
                                <script>
  // Toggle the visibility of the region dropdown
function toggleDropdown() {
    const regionsList = document.getElementById('regions-list');
    const dropdownIcon = document.querySelector('.dropdown-icon');

    if (regionsList.style.display === 'none' || regionsList.style.display === '') {
        regionsList.style.display = 'block';
        dropdownIcon.classList.remove('fa-chevron-down');
        dropdownIcon.classList.add('fa-chevron-up');
    } else {
        regionsList.style.display = 'none';
        dropdownIcon.classList.remove('fa-chevron-up');
        dropdownIcon.classList.add('fa-chevron-down');
    }
}

// Handle selecting a city
function selectCity(city, region) {
    const url = new URL(window.location.href);
    url.searchParams.set('city', city);  // Set the selected city
    url.searchParams.set('region', region);  // Set the selected region
    window.location.href = url;  // Redirect to the updated URL
}
function selectRegion(region) {
    const url = new URL(window.location.href);

    // Set the selected region
    url.searchParams.set('region', region);

    // Remove the city parameter if it exists
    url.searchParams.delete('city');

    // Get the region name from the corresponding element
    const regionNameElement = document.querySelector(`.region-header[data-region-id="${region}"]`);
    const regionName = regionNameElement ? regionNameElement.innerText : '';

    // Update the search input to show the selected region name
    const searchInput = document.querySelector('.search-input');
    searchInput.innerHTML = `${regionName} <i class="fas fa-chevron-down dropdown-icon"></i>`;

    // Hide all cities containers
    const citiesContainers = document.querySelectorAll('.cities-container');
    citiesContainers.forEach(container => {
        container.style.display = 'none';  // Hide all cities containers
    });

    // Redirect to the updated URL with the region name
    window.location.href = url;
}

// Close the dropdown or cities container if clicked outside
document.addEventListener('click', function(event) {
    const regionsList = document.getElementById('regions-list');
    const citiesContainers = document.querySelectorAll('.cities-container');
    const searchBox = document.querySelector('.search-box');

    const isClickInsideSearchBox = searchBox.contains(event.target);
    const isClickInsideRegionsList = regionsList.contains(event.target);
    const isClickInsideCities = Array.from(citiesContainers).some(container => container.contains(event.target));

    // Close the regions list and cities containers if clicked outside of both
    if (!isClickInsideSearchBox && !isClickInsideRegionsList && !isClickInsideCities) {
        regionsList.style.display = 'none';  // Close the regions list
        const dropdownIcon = document.querySelector('.dropdown-icon');
        dropdownIcon.classList.remove('fa-chevron-up');
        dropdownIcon.classList.add('fa-chevron-down');

        citiesContainers.forEach(container => {
            container.style.display = 'none';  // Close all cities containers
        });
    }
});
function filterRegionsAndCities() {
    const searchInput = document.getElementById('region-search').value.toLowerCase();
    const regionItems = document.querySelectorAll('.region-item');

    // If the search input is empty, show all regions and hide all cities
    if (searchInput === '') {
        regionItems.forEach(regionItem => {
            const citiesContainer = document.getElementById(`cities-container-${regionItem.querySelector('.region-header').dataset.regionId}`);
            regionItem.style.display = 'block'; // Show the region
            citiesContainer.style.display = 'none'; // Hide the cities container
        });
        return; // Exit the function early
    }

    // Filter regions based on search
    regionItems.forEach(regionItem => {
        const regionHeader = regionItem.querySelector('.region-header').innerText.toLowerCase();
        const regionId = regionItem.querySelector('.region-header').dataset.regionId;
        const citiesContainer = document.getElementById(`cities-container-${regionId}`);
        const cityButtons = citiesContainer.querySelectorAll('li');

        // Check if the region matches the search input
        let regionMatches = regionHeader.includes(searchInput);
        let cityMatches = false;

        // Check if any city matches the search input
        cityButtons.forEach(cityButton => {
            const cityName = cityButton.innerText.toLowerCase();
            if (cityName.includes(searchInput)) {
                cityButton.style.display = 'block'; // Show the city
                cityMatches = true; // Set cityMatches to true if a city matches
            } else {
                cityButton.style.display = 'none'; // Hide the city
            }
        });

        // Display the region if it matches or if any city matches
        if (regionMatches) {
            regionItem.style.display = 'block'; // Show the region
            citiesContainer.style.display = 'none'; // Keep cities container hidden
        } else if (cityMatches) {
            regionItem.style.display = 'block'; // Show the region
            citiesContainer.style.display = 'none'; // Keep cities container hidden
        } else {
            regionItem.style.display = 'none'; // Hide the region
            citiesContainer.style.display = 'none'; // Hide the cities container
        }
    });
}
function toggleCitiesOnHover(region, isClicked = false) {
    // Hide all cities containers first (only if it's not clicked)
    if (!isClicked) {
        const citiesContainers = document.querySelectorAll('.cities-container');
        citiesContainers.forEach(container => {
            container.style.display = 'none';  // Hide all cities containers
        });
    }

    // Show the cities for the hovered or clicked region
    const citiesContainer = document.getElementById(`cities-container-${region}`);
    const arrowIcon = document.getElementById(`arrow-${region}`);
    const regionItem = document.querySelector(`.region-header[data-region-id="${region}"]`);

    // Calculate the position of the cities container
    const regionItemRect = regionItem.getBoundingClientRect();
    const offsetTop = regionItemRect.bottom + window.scrollY; // Get the bottom position of the region item

    citiesContainer.style.top = `${offsetTop}px`; // Set the top position of the cities container
    citiesContainer.style.display = 'block';  // Show cities for this region
    arrowIcon.classList.remove('fa-chevron-right');
    arrowIcon.classList.add('fa-chevron-left');
}

// Hide cities when mouse leaves region
function hideCitiesOnMouseOut(region) {
    const citiesContainer = document.getElementById(`cities-container-${region}`);
    const arrowIcon = document.getElementById(`arrow-${region}`);

    // Hide cities when mouse leaves (only if it's not clicked)
    if (!citiesContainer.classList.contains('clicked')) {
        citiesContainer.style.display = 'none';
        arrowIcon.classList.remove('fa-chevron-left');
        arrowIcon.classList.add('fa-chevron-right');
    }
}

// Handle clicking on a region to keep cities visible
function handleRegionClick(region) {
    const citiesContainer = document.getElementById(`cities-container-${region}`);
    
    // Toggle the clicked state
    citiesContainer.classList.toggle('clicked');  // Adds or removes 'clicked' class

    // If clicked, keep the cities visible
    if (citiesContainer.classList.contains('clicked')) {
        toggleCitiesOnHover(region, true);  // Pass `true` to indicate this is a click
    } else {
        citiesContainer.style.display = 'none';  // Hide cities when clicked again
    }
}

// Ensure the cities containers are hidden by default when the page loads
window.addEventListener('DOMContentLoaded', () => {
    const regionItems = document.querySelectorAll('.region-item');
    regionItems.forEach(item => {
        const regionId = item.querySelector('.region-header').dataset.regionId;
        
        // Show cities on mouseover (hover effect)
        item.addEventListener('mouseover', () => {
            toggleCitiesOnHover(regionId);
        });

        // Hide cities on mouseout (only if it's not clicked)
        item.addEventListener('mouseout', () => {
            hideCitiesOnMouseOut(regionId);
        });

        // Add click effect to regions
        item.addEventListener('click', () => {
            handleRegionClick(regionId);
        });

        // Add mouseover and mouseout events to cities container
        const citiesContainer = document.getElementById(`cities-container-${regionId}`);
        citiesContainer.addEventListener('mouseover', () => {
            citiesContainer.style.display = 'block'; // Keep cities visible on hover
        });

        citiesContainer.addEventListener('mouseout', () => {
            hideCitiesOnMouseOut(regionId); // Hide cities when mouse leaves
        });
    });
});
                                </script>
                                 <style>
                                    /* Mobile responsiveness */
                            @media (max-width: 768px) {
                                .icon-container {
                                    display: none;
                                }}
                            
                               
                            @media (max-width: 480px) {
                                .icon-container {
                                    display: none;
                                }
                            
                               
                            
                                .separator {
                                    display: none;
                                }
                            }
                                </style>
                                
    
    
    
                            <!-- Right Section: Icons, Login, and Add Post -->
    
                            <div class="col-md-6 col-12 d-flex justify-content-end align-items-center flex-wrap">
    
                                <div class="d-flex align-items-center justify-content-center flex-wrapn mx-3">
    
                                    <div class="icon-container">
                                        <div class="icon-logo">
                                            <a href="{% if user.is_authenticated %}{% url 'favorites' user.id %}{% else %}{% url 'login' %}{% endif %}">
                                                <img src="{% static 'assets/images/Icons-05.png' %}" alt="Logo 1">
                                            </a>
                                            <p>Favorites</p>
                                        </div>
                                    
                                        <div class="icon-logo">
                                            <a href="{% if user.is_authenticated %}{% url 'user_chat' %}{% else %}{% url 'login' %}{% endif %}">
                                                <img src="{% static 'assets/images/Icons-06.png' %}" alt="Logo 2">
                                            </a>
                                            <p>Chat</p>
                                        </div>
                                    
                                        <div class="icon-logo">
                                            <a href="{% if user.is_authenticated %}{% url 'adss1' user.id %}{% else %}{% url 'login' %}{% endif %}">
                                                <img src="{% static 'assets/images/Icons-07.png' %}" alt="Logo 3">
                                            </a>
                                            <p>My Ads</p>
                                        </div>
                                    </div>

    
                                    <div class="separator"></div>
    
    
                                    <!-- Login Section -->
                                    <nav class="navbar navbar-expand-lg navbar-light">
                                        <div class="ml-auto current dropdown">
                                            {% if user.is_authenticated %}
                                                {% if not user.is_superuser and not user.is_staff %}
                                                    <!-- Regular user dropdown -->
                                                    <span class="dropdown-toggle" id="userDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="cursor: pointer;">
                                                        {% if user.image %}
                                                            <img src="{{ user.image.url }}" alt="{{ user.username }}" class="user-image" style="width: 20px; height: 20px; border-radius: 50%; margin-right: 8px;">
                                                        {% else %}
                                                            <img src="{% static 'assets/images/resource/author-1.png' %}" alt="{{ user.username }}" class="user-image" style="width: 20px; height: 20px; border-radius: 50%; margin-right: 8px;">
                                                        {% endif %}
                                                        {{ user.username|title }}
                                                    </span>
                                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                                                        <a class="dropdown-item" href="{% url 'userprofile' user.id %}">My Profile</a>
                                                        <a class="dropdown-item" href="{% url 'jobapplication' user.id %}">My Job Application</a>
                                                        <a class="dropdown-item" href="{% url 'adss1' user.id %}">My Ads</a>
                                                        <a class="dropdown-item" href="{% url 'user_chat' %}">Chat</a>
                                                        <a class="dropdown-item" href="{% url 'account_settings' user.id %}">Account Settings</a>
                                                        <a class="dropdown-item" href="{% url 'favorites' user.id %}">Favorites</a>
                                                        <div class="dropdown-divider"></div>
                                                        <a class="dropdown-item" href="{% url 'logout' %}">Sign out</a>
                                                    </div>
                                                {% elif user.is_superuser %}
                                                    <!-- Admin user content -->
                                                    <span class="navbar-text">Admin</span>
                                                    <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                                                        <a class="dropdown-item" href="{% url 'admin_dashboard' %}">Admin Dashboard</a>
                                                        <div class="dropdown-divider"></div>
                                                        <a class="dropdown-item" href="{% url 'adminlogout' %}">Sign out</a>
                                                    </div>
                                                {% endif %}
                                            {% else %}
                                            <div class="sign-in">
    
                                                <a href="{% url 'login1' %}" class="login-link">
        
                                                    Log in or sign up
        
                                                </a>
        
                                            </div>
                                            {% endif %}
                                        </div>
                                    </nav>
                                    
    
    
                                    <div class="separator"></div>
                                    <div class="btn-box">
                                        {% if user.is_authenticated %}
                                            {% if not user.is_superuser and not user.is_staff %}
                                                <a href="{% url 'listingads' %}" class="theme-btn-one mt-2">
                                                   </i>Add Post
                                                </a>
                                            {% endif %}
                                        {% else %}
                                            <a href="{% url 'sign' %}" class="theme-btn-one mt-2">
                                               </i>Add Post
                                            </a>
                                        {% endif %}
                                     </div>
                                    <!-- Add Post Button -->

    
                                </div>
    
                            </div>
    
                        
                       
                        
                        
                    </div>
                    
                </div>
                
            </div>
          
            <hr style="margin-top: -20px;">
             <!-- header-lower -->
             <div class="header-lower">
                <div class="auto-container">
                    <div class="outer-box">
                        
                        <div class="menu-area">
                            <!--Mobile Navigation Toggler-->
                            <div class="mobile-nav-toggler">
                                <i class="icon-bar"></i>
                                <i class="icon-bar"></i>
                                <i class="icon-bar"></i>
                            </div>
                            <nav class="main-menu navbar-expand-md navbar-light">
                                <div class="collapse navbar-collapse show clearfix" id="navbarSupportedContent">
                                    <ul class="navigation clearfix" style="margin-top: -40px; margin-bottom: -50px;">
                                        <li class="dropdown pl-5">
                                            <a href="{% url 'index2' %}">Motors</a>
                                            <ul class="dropdown-menu">
                                              <!-- Cars Section -->
                                              <li class="dropdown">
                                                <a href="{% url 'car' %}?listing_type=sell">Car</a>
                                                <ul class="submenu submenu-right two-column" id="carMakesSell">
                                                    <div class="submenu-columns">
                                                      <!-- First Column -->
                                                      <div class="column" id="column1Sell">
                                                        <li><a href="{% url 'car_make' make='Abarath' %}?listing_type=sell"> <img src="{% static 'assets/images/make/abarth.svg' %}" alt="Abarath">Abarath</a></li>
                                                        <li><a href="{% url 'car_make' make='Acura' %}?listing_type=sell"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Acura">Acura</a></li>
                                                        <li><a href="{% url 'car_make' make='Alfa Romeo' %}?listing_type=sell"> <img src="{% static 'assets/images/make/alfa.svg' %}" alt="Abarath">Alfa Romeo</a></li>
                                                        <li><a href="{% url 'car_make' make='Aston Martin' %}?listing_type=sell"> <img src="{% static 'assets/images/make/aston.svg' %}" alt="Abarath">Aston Martin</a></li>
                                                        <li><a href="{% url 'car_make' make='Audi' %}?listing_type=sell"> <img src="{% static 'assets/images/make/audi.svg' %}" alt="Abarath">Audi</a></li>
                                                        <li><a href="{% url 'car_make' make='Avatar' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Avatr.svg' %}" alt="Abarath">Avatar</a></li>
                                                        <li><a href="{% url 'car_make' make='BAIC' %}?listing_type=sell"> <img src="{% static 'assets/images/make/baic.svg' %}" alt="Abarath">BAIC</a></li>
                                                        <li><a href="{% url 'car_make' make='Bentley' %}?listing_type=sell"> <img src="{% static 'assets/images/make/bentley.svg' %}" alt="Abarath">Bentley</a></li>
                                                        <li><a href="{% url 'car_make' make='Bestune' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Bestune.svg' %}" alt="Abarath">Bestune</a></li>
                                                        <li><a href="{% url 'car_make' make='BMW' %}?listing_type=sell"> <img src="{% static 'assets/images/make/bmw.svg' %}" alt="Abarath">BMW</a></li>
                                                        <li><a href="{% url 'car_make' make='Borgward' %}?listing_type=sell"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Borgward</a></li>
                                                        <li><a href="{% url 'car_make' make='Buick' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Buick.svg' %}" alt="Abarath">Buick</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='BYD' %}?listing_type=sell"> <img src="{% static 'assets/images/make/byd-1.svg' %}" alt="Abarath">BYD</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Cadillac' %}?listing_type=sell"> <img src="{% static 'assets/images/make/cadillac-1.svg' %}" alt="Abarath">Cadillac</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Changan' %}?listing_type=sell"> <img src="{% static 'assets/images/make/changan-automobile-logo-1.svg' %}" alt="Abarath">Changan</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Chery' %}?listing_type=sell"> <img src="{% static 'assets/images/make/chery-3.svg' %}" alt="Abarath">Chery</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Chevrolet' %}?listing_type=sell"> <img src="{% static 'assets/images/make/chevrolet-10.svg' %}" alt="Abarath">Chevrolet</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Chrysler' %}?listing_type=sell"> <img src="{% static 'assets/images/make/chrysler-2.svg' %}" alt="Abarath">Chrysler</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Citroen' %}?listing_type=sell"> <img src="{% static 'assets/images/make/citroen-2016-logo-1.svg' %}" alt="Abarath">Citroen</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Daewoo' %}?listing_type=sell"> <img src="{% static 'assets/images/make/daewoo-1.svg'%}" alt="Abarath">Daewoo</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Daihatsu' %}?listing_type=sell"> <img src="{% static 'assets/images/make/daihatsu-1.svg' %}" alt="Abarath">Daihatsu</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='DFM' %}?listing_type=sell"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">DFM</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='DFSK' %}?listing_type=sell"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">DFSK</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Dodge' %}?listing_type=sell"> <img src="{% static 'assets/images/make/dodge.svg' %}" alt="Abarath">Dodge</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Dongfeng' %}?listing_type=sell"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Dongfeng</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='FAW' %}?listing_type=sell"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">FAW</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Ferrari' %}?listing_type=sell"> <img src="{% static 'assets/images/make/ferrari-ges.svg' %}" alt="Abarath">Ferrari</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Fiat' %}?listing_type=sell"> <img src="{% static 'assets/images/make/fiat-3.svg' %}" alt="Abarath">Fiat</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Ford' %}?listing_type=sell"><img src="{% static 'assets/images/make/ford-8.svg' %}" alt="Ford">Ford</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Forthing' %}?listing_type=sell"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Forthing</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Foton' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Foton-Logo-1.svg' %}" alt="Abarath">Foton</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='GAC' %}?listing_type=sell"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">GAC</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Geely' %}?listing_type=sell"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Geely</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Genesis' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Genesis Auto.svg' %}" alt="Abarath">Genesis</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='GMC' %}?listing_type=sell"> <img src="{% static 'assets/images/make/gmc-1.svg' %}" alt="Abarath">GMC</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Great Wall' %}?listing_type=sell"> <img src="{% static 'assets/images/make/great-wall-automotive.svg' %}" alt="Abarath">Great Wall</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Haval' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Haval-1XyidkX8_brandlogos.net.svg' %}" alt="Abarath">Haval</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Hawtai' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Hawtai-Motor-Logo-1.svg' %}" alt="Abarath">Hawtai</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Honda' %}?listing_type=sell"> <img src="{% static 'assets/images/make/honda-automobiles-1.svg' %}" alt="Abarath">Honda</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Hongqi' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Hongqi-Logo-3.svg' %}" alt="Abarath">Hongqi</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Hummer' %}?listing_type=sell"> <img src="{% static 'assets/images/make/hummer.svg' %}" alt="Abarath">Hummer</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Hunaghai' %}?listing_type=sell"> <img src="{% static 'assets/images/make/hyundai-automobiles-1.svg' %}" alt="Abarath">Hunaghai</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Hyundai' %}?listing_type=sell"> <img src="{% static 'assets/images/make/hyundai-automobiles-1.svg' %}" alt="Abarath">Hyundai</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='IM' %}?listing_type=sell"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">IM</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Ineos' %}?listing_type=sell"> <img src="{% static 'assets/images/make/INEOS and Grenadier Vector.svg' %}" alt="Abarath">Ineos</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Infiniti' %}?listing_type=sell"> <img src="{% static 'assets/images/make/infiniti-logo-1.svg' %}" alt="Abarath">Infiniti</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Iran Khodro' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Iran_Khodro-Logo.wine.svg' %}" alt="Abarath">Iran Khodro</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Isuzu' %}?listing_type=sell"> <img src="{% static 'assets/images/make/isuzu-2.svg' %}" alt="Abarath">Isuzu</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='JAC' %}?listing_type=sell"> <img src="{% static 'assets/images/make/JAC-Logo-8.svg' %}" alt="Abarath">JAC</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Jaguar' %}?listing_type=sell"> <img src="{% static 'assets/images/make/jaguar-cars.svg' %}" alt="Abarath">Jaguar</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Jeep' %}?listing_type=sell"> <img src="{% static 'assets/images/make/jeep-7.svg' %}" alt="Abarath">Jeep</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Jetour' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Jetour-Logo-3.svg' %}" alt="Abarath">Jetour</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='JMC' %}?listing_type=sell"> <img src="{% static 'assets/images/make/JMC-Logo-2.svg' %}" alt="Abarath">JMC</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='JMEV' %}?listing_type=sell"> <img src="{% static 'assets/images/make/' %}" alt="Abarath">JMEV</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Kaiyi' %}?listing_type=sell"> <img src="{% static 'assets/images/make/Kaiyi-Logo-2.svg' %}" alt="Abarath">Kaiyi</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Kia' %}?listing_type=sell"> <img src="{% static 'assets/images/make/kia-4.svg' %}" alt="Abarath">Kia</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Lada' %}?listing_type=sell"> <img src="{% static 'assets/images/make/lada-logo.svg' %}" alt="Abarath">Lada</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Lamborghini' %}?listing_type=sell"> <img src="{% static 'assets/images/make/lamborghini.svg' %}" alt="Abarath">Lamborghini</a></li> 
                                                    </div>

<!-- Second Column -->
<div class="column" id="column2Sell">
<li><a href="{% url 'car_make' make='Lancia' %}?listing_type=sell"><img src="{% static 'assets/images/make/Lancia.svg' %}" alt="Abarath">Lancia</a></li>
<li><a href="{% url 'car_make' make='Land Rover' %}?listing_type=sell"><img src="{% static 'assets/images/make/landrover.svg' %}" alt="Abarath">Land Rover</a></li>
<li><a href="{% url 'car_make' make='Leapmotor' %}?listing_type=sell"><img src="{% static 'assets/images/make/LeapMotor.svg' %}" alt="Abarath">Leapmotor</a></li>
<li><a href="{% url 'car_make' make='Lexus' %}?listing_type=sell"><img src="{% static 'assets/images/make/Lexus.svg' %}" alt="Abarath">Lexus</a></li>
<li><a href="{% url 'car_make' make='Lifan' %}?listing_type=sell"><img src="{% static 'assets/images/make/Lifan.svg' %}" alt="Abarath">Lifan</a></li>
<li><a href="{% url 'car_make' make='Lincoln' %}?listing_type=sell"><img src="{% static 'assets/images/make/lincoln.svg' %}" alt="Abarath">Lincoln</a></li>
<li><a href="{% url 'car_make' make='Ling Box' %}?listing_type=sell"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Ling Box</a></li>
<li><a href="{% url 'car_make' make='Lotus' %}?listing_type=sell"><img src="{% static 'assets/images/make/lotus.svg' %}" alt="Abarath">Lotus</a></li>
<li><a href="{% url 'car_make' make='Mahindra' %}?listing_type=sell"><img src="{% static 'assets/images/make/Mahindra.svg' %}" alt="Abarath">Mahindra</a></li>
<li><a href="{% url 'car_make' make='Maruti Suzuki' %}?listing_type=sell"><img src="{% static 'assets/images/make/suzuki.svg' %}" alt="Abarath">Maruti Suzuki</a></li>
<li><a href="{% url 'car_make' make='Maserati' %}?listing_type=sell"><img src="{% static 'assets/images/make/maserati.svg' %}" alt="Abarath">Maserati</a></li>
<li><a href="{% url 'car_make' make='Maxus' %}?listing_type=sell"><img src="{% static 'assets/images/make/Maxus.svg' %}" alt="Abarath">Maxus</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Mazda' %}?listing_type=sell"><img src="{% static 'assets/images/make/mazda-2.svg' %}" alt="Abarath">Mazda</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Mclaren' %}?listing_type=sell"><img src="{% static 'assets/images/make/mclaren-10.svg' %}" alt="Abarath">Mclaren</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Mercedes Benz' %}?listing_type=sell"><img src="{% static 'assets/images/make/mercedes.svg' %}" alt="Abarath">Mercedes Benz</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Mercury' %}?listing_type=sell"><img src="{% static 'assets/images/make/mercury-2.svg' %}" alt="Abarath">Mercury</a></li>
<li class="hidden"><a href="{% url 'car_make' make='MG' %}?listing_type=sell"><img src="{% static 'assets/images/make/mg.svg' %}" alt="Abarath">MG</a></li>
<li class="hidden"><a href="{% url 'car_make' make='MINI' %}?listing_type=sell"><img src="{% static 'assets/images/make/Mini.svg' %}" alt="Abarath">MINI</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Mitsubishi' %}?listing_type=sell"><img src="{% static 'assets/images/make/mitsubishi.svg' %}" alt="Abarath">Mitsubishi</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Neta' %}?listing_type=sell"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Neta</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Nissan' %}?listing_type=sell"><img src="{% static 'assets/images/make/nissan-6.svg' %}" alt="Abarath">Nissan</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Opel' %}?listing_type=sell"><img src="{% static 'assets/images/make/Opel_Automobile-Ohqcbsms3_brandlogos.net.svg' %}" alt="Abarath">Opel</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Pagani' %}?listing_type=sell"><img src="{% static 'assets/images/make/pagani.svg' %}" alt="Abarath">Pagani</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Peugeot' %}?listing_type=sell"><img src="{% static 'assets/images/make/peugeot.svg' %}" alt="Abarath">Peugeot</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Polestar' %}?listing_type=sell"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Polestar</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Pontiac' %}?listing_type=sell"><img src="{% static 'assets/images/make/pontiac-6.svg' %}" alt="Abarath">Pontiac</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Porsche' %}?listing_type=sell"><img src="{% static 'assets/images/make/Porsche.svg' %}" alt="Porsche">Porsche</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Proton' %}?listing_type=sell"><img src="{% static 'assets/images/make/proton-logo.svg' %}" alt="Abarath">Proton</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Rabdan' %}?listing_type=sell"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Rabdan</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Renault' %}?listing_type=sell"><img src="{% static 'assets/images/make/renault.svg' %}" alt="Abarath">Renault</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Rolls Royce' %}?listing_type=sell"><img src="{% static 'assets/images/make/rolls-royce.svg' %}" alt="Abarath">Rolls Royce</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Rox' %}?listing_type=sell"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Rox</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Saab' %}?listing_type=sell"><img src="{% static 'assets/images/make/saab-1.svg' %}" alt="Abarath">Saab</a></li>
<li class="hidden"><a href="{% url 'car_make' make='SAIPA' %}?listing_type=sell"><img src="{% static 'assets/images/make/saipa.svg' %}" alt="Abarath">SAIPA</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Samsung' %}?listing_type=sell"><img src="{% static 'assets/images/make/samsung-6.svg' %}" alt="Abarath">Samsung</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Saturn' %}?listing_type=sell"><img src="{% static 'assets/images/make/saturn-5.svg' %}" alt="Abarath">Saturn</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Scion' %}?listing_type=sell"><img src="{% static 'assets/images/make/scion.svg' %}" alt="Abarath">Scion</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Seat' %}?listing_type=sell"><img src="{% static 'assets/images/make/seat-1.svg' %}" alt="Abarath">Seat</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Skoda' %}?listing_type=sell"><img src="{% static 'assets/images/make/skoda-6.svg' %}" alt="Abarath">Skoda</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Skywell' %}?listing_type=sell"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Skywell</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Smart' %}?listing_type=sell"><img src="{% static 'assets/images/make/smart.svg' %}" alt="Abarath">Smart</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Soueast' %}?listing_type=sell"><img src="{% static 'assets/images/make/Soueast-logo.svg' %}" alt="Abarath">Soueast</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Spyker' %}?listing_type=sell"><img src="{% static 'assets/images/make/Spyker_Cars-Logo.wine.svg' %}" alt="Abarath">Spyker</a></li>
<li class="hidden"><a href="{% url 'car_make' make='SsangYong' %}?listing_type=sell"><img src="{% static 'assets/images/make/ssangyong.svg' %}" alt="Abarath">SsangYong</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Subaru' %}?listing_type=sell"><img src="{% static 'assets/images/make/subaru-9.svg' %}" alt="Abarath">Subaru</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Suzuki' %}?listing_type=sell"><img src="{% static 'assets/images/make/suzuki.svg' %}" alt="Abarath">Suzuki</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Tank' %}?listing_type=sell"><img src="{% static 'assets/images/make/' %}" alt="Abarath">Tank</a></li>
<li class="hidden"><a href="{% url 'car_make' make='TATA' %}?listing_type=sell"><img src="{% static 'assets/images/make/tata-1.svg' %}" alt="Abarath">TATA</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Tesla' %}?listing_type=sell"><img src="{% static 'assets/images/make/tesla-pure.svg' %}" alt="Tesla">Tesla</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Toyota' %}?listing_type=sell"><img src="{% static 'assets/images/make/toyota.svg' %}" alt="Toyota">Toyota</a></li>
<li class="hidden"><a href="{% url 'car_make' make='VGV' %}?listing_type=sell"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">VGV</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Volkswagen' %}?listing_type=sell"><img src="{% static 'assets/images/make/volkswagen.svg' %}" alt="Ford">Volkswagen</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Volvo' %}?listing_type=sell"><img src="{% static 'assets/images/make/volvo.svg' %}" alt="Abarath">Volvo</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Weltmeister' %}?listing_type=sell"><img src="{% static 'assets/images/make/Weltmeister-Logo-1.svg' %}" alt="Abarath">Weltmeister</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Wuling' %}?listing_type=sell"><img src="{% static 'assets/images/make/2007-Wuling-Logo-SVG-Vector.svg' %}" alt="Abarath">Wuling</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Yudo' %}?listing_type=sell"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Yudo</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Zeekr' %}?listing_type=sell"><img src="{% static 'assets/images/make/ZEEKR_id7FsW9S7t_1.svg' %}" alt="Abarath">Zeekr</a></li>
</div>
                                                    </div>
                                                    <li class="view-more" style="margin-left: 280px;">
                                                        <a href="javascript:void(0);" id="viewMoreBtnSell">
                                                            View All
                                                            <img src="{% static 'assets/images/2-03.png' %}" alt="View More" class="view-more-icon" />
                                                        </a>
                                                    </li>
                                                </ul>
                                            </li>
                                             <!-- Cars Section -->
                                             <li class="dropdown">
                                                <a href="{% url 'car' %}?listing_type=rent">Rental Car</a>
                                                <ul class="submenu submenu-right two-column" id="carMakesRent">
                                                    <div class="submenu-columns">
                                                       <!-- First Column -->
                                                       <div class="column" id="column1Rent">
                                                        <li><a href="{% url 'car_make' make='Abarath' %}?listing_type=rent"> <img src="{% static 'assets/images/make/abarth.svg' %}" alt="Abarath">Abarath</a></li>
                                                        <li><a href="{% url 'car_make' make='Acura' %}?listing_type=rent"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Acura">Acura</a></li>
                                                        <li><a href="{% url 'car_make' make='Alfa Romeo' %}?listing_type=rent"> <img src="{% static 'assets/images/make/alfa.svg' %}" alt="Abarath">Alfa Romeo</a></li>
                                                        <li><a href="{% url 'car_make' make='Aston Martin' %}?listing_type=rent"> <img src="{% static 'assets/images/make/aston.svg' %}" alt="Abarath">Aston Martin</a></li>
                                                        <li><a href="{% url 'car_make' make='Audi' %}?listing_type=rent"> <img src="{% static 'assets/images/make/audi.svg' %}" alt="Abarath">Audi</a></li>
                                                        <li><a href="{% url 'car_make' make='Avatar' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Avatr.svg' %}" alt="Abarath">Avatar</a></li>
                                                        <li><a href="{% url 'car_make' make='BAIC' %}?listing_type=rent"> <img src="{% static 'assets/images/make/baic.svg' %}" alt="Abarath">BAIC</a></li>
                                                        <li><a href="{% url 'car_make' make='Bentley' %}?listing_type=rent"> <img src="{% static 'assets/images/make/bentley.svg' %}" alt="Abarath">Bentley</a></li>
                                                        <li><a href="{% url 'car_make' make='Bestune' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Bestune.svg' %}" alt="Abarath">Bestune</a></li>
                                                        <li><a href="{% url 'car_make' make='BMW' %}?listing_type=rent"> <img src="{% static 'assets/images/make/bmw.svg' %}" alt="Abarath">BMW</a></li>
                                                        <li><a href="{% url 'car_make' make='Borgward' %}?listing_type=rent"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Borgward</a></li>
                                                        <li><a href="{% url 'car_make' make='Buick' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Buick.svg' %}" alt="Abarath">Buick</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='BYD' %}?listing_type=rent"> <img src="{% static 'assets/images/make/byd-1.svg' %}" alt="Abarath">BYD</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Cadillac' %}?listing_type=rent"> <img src="{% static 'assets/images/make/cadillac-1.svg' %}" alt="Abarath">Cadillac</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Changan' %}?listing_type=rent"> <img src="{% static 'assets/images/make/changan-automobile-logo-1.svg' %}" alt="Abarath">Changan</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Chery' %}?listing_type=rent"> <img src="{% static 'assets/images/make/chery-3.svg' %}" alt="Abarath">Chery</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Chevrolet' %}?listing_type=rent"> <img src="{% static 'assets/images/make/chevrolet-10.svg' %}" alt="Abarath">Chevrolet</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Chrysler' %}?listing_type=rent"> <img src="{% static 'assets/images/make/chrysler-2.svg' %}" alt="Abarath">Chrysler</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Citroen' %}?listing_type=rent"> <img src="{% static 'assets/images/make/citroen-2016-logo-1.svg' %}" alt="Abarath">Citroen</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Daewoo' %}?listing_type=rent"> <img src="{% static 'assets/images/make/daewoo-1.svg'%}" alt="Abarath">Daewoo</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Daihatsu' %}?listing_type=rent"> <img src="{% static 'assets/images/make/daihatsu-1.svg' %}" alt="Abarath">Daihatsu</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='DFM' %}?listing_type=rent"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">DFM</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='DFSK' %}?listing_type=rent"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">DFSK</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Dodge' %}?listing_type=rent"> <img src="{% static 'assets/images/make/dodge.svg' %}" alt="Abarath">Dodge</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Dongfeng' %}?listing_type=rent"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Dongfeng</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='FAW' %}?listing_type=rent"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">FAW</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Ferrari' %}?listing_type=rent"> <img src="{% static 'assets/images/make/ferrari-ges.svg' %}" alt="Abarath">Ferrari</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Fiat' %}?listing_type=rent"> <img src="{% static 'assets/images/make/fiat-3.svg' %}" alt="Abarath">Fiat</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Ford' %}?listing_type=rent"><img src="{% static 'assets/images/make/ford-8.svg' %}" alt="Ford">Ford</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Forthing' %}?listing_type=rent"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Forthing</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Foton' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Foton-Logo-1.svg' %}" alt="Abarath">Foton</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='GAC' %}?listing_type=rent"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">GAC</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Geely' %}?listing_type=rent"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Geely</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Genesis' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Genesis Auto.svg' %}" alt="Abarath">Genesis</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='GMC' %}?listing_type=rent"> <img src="{% static 'assets/images/make/gmc-1.svg' %}" alt="Abarath">GMC</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Great Wall' %}?listing_type=rent"> <img src="{% static 'assets/images/make/great-wall-automotive.svg' %}" alt="Abarath">Great Wall</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Haval' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Haval-1XyidkX8_brandlogos.net.svg' %}" alt="Abarath">Haval</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Hawtai' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Hawtai-Motor-Logo-1.svg' %}" alt="Abarath">Hawtai</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Honda' %}?listing_type=rent"> <img src="{% static 'assets/images/make/honda-automobiles-1.svg' %}" alt="Abarath">Honda</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Hongqi' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Hongqi-Logo-3.svg' %}" alt="Abarath">Hongqi</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Hummer' %}?listing_type=rent"> <img src="{% static 'assets/images/make/hummer.svg' %}" alt="Abarath">Hummer</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Hunaghai' %}?listing_type=rent"> <img src="{% static 'assets/images/make/hyundai-automobiles-1.svg' %}" alt="Abarath">Hunaghai</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Hyundai' %}?listing_type=rent"> <img src="{% static 'assets/images/make/hyundai-automobiles-1.svg' %}" alt="Abarath">Hyundai</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='IM' %}?listing_type=rent"> <img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">IM</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Ineos' %}?listing_type=rent"> <img src="{% static 'assets/images/make/INEOS and Grenadier Vector.svg' %}" alt="Abarath">Ineos</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Infiniti' %}?listing_type=rent"> <img src="{% static 'assets/images/make/infiniti-logo-1.svg' %}" alt="Abarath">Infiniti</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Iran Khodro' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Iran_Khodro-Logo.wine.svg' %}" alt="Abarath">Iran Khodro</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Isuzu' %}?listing_type=rent"> <img src="{% static 'assets/images/make/isuzu-2.svg' %}" alt="Abarath">Isuzu</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='JAC' %}?listing_type=rent"> <img src="{% static 'assets/images/make/JAC-Logo-8.svg' %}" alt="Abarath">JAC</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Jaguar' %}?listing_type=rent"> <img src="{% static 'assets/images/make/jaguar-cars.svg' %}" alt="Abarath">Jaguar</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Jeep' %}?listing_type=rent"> <img src="{% static 'assets/images/make/jeep-7.svg' %}" alt="Abarath">Jeep</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Jetour' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Jetour-Logo-3.svg' %}" alt="Abarath">Jetour</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='JMC' %}?listing_type=rent"> <img src="{% static 'assets/images/make/JMC-Logo-2.svg' %}" alt="Abarath">JMC</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='JMEV' %}?listing_type=rent"> <img src="{% static 'assets/images/make/' %}" alt="Abarath">JMEV</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Kaiyi' %}?listing_type=rent"> <img src="{% static 'assets/images/make/Kaiyi-Logo-2.svg' %}" alt="Abarath">Kaiyi</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Kia' %}?listing_type=rent"> <img src="{% static 'assets/images/make/kia-4.svg' %}" alt="Abarath">Kia</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Lada' %}?listing_type=rent"> <img src="{% static 'assets/images/make/lada-logo.svg' %}" alt="Abarath">Lada</a></li>
                                                        <li class="hidden"><a href="{% url 'car_make' make='Lamborghini' %}?listing_type=rent"> <img src="{% static 'assets/images/make/lamborghini.svg' %}" alt="Abarath">Lamborghini</a></li> 
                                                    </div>

<!-- Second Column -->
<div class="column" id="column2Rent">
<li><a href="{% url 'car_make' make='Lancia' %}?listing_type=rent"><img src="{% static 'assets/images/make/Lancia.svg' %}" alt="Abarath">Lancia</a></li>
<li><a href="{% url 'car_make' make='Land Rover' %}?listing_type=rent"><img src="{% static 'assets/images/make/landrover.svg' %}" alt="Abarath">Land Rover</a></li>
<li><a href="{% url 'car_make' make='Leapmotor' %}?listing_type=rent"><img src="{% static 'assets/images/make/LeapMotor.svg' %}" alt="Abarath">Leapmotor</a></li>
<li><a href="{% url 'car_make' make='Lexus' %}?listing_type=rent"><img src="{% static 'assets/images/make/Lexus.svg' %}" alt="Abarath">Lexus</a></li>
<li><a href="{% url 'car_make' make='Lifan' %}?listing_type=rent"><img src="{% static 'assets/images/make/Lifan.svg' %}" alt="Abarath">Lifan</a></li>
<li><a href="{% url 'car_make' make='Lincoln' %}?listing_type=rent"><img src="{% static 'assets/images/make/lincoln.svg' %}" alt="Abarath">Lincoln</a></li>
<li><a href="{% url 'car_make' make='Ling Box' %}?listing_type=rent"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Ling Box</a></li>
<li><a href="{% url 'car_make' make='Lotus' %}?listing_type=rent"><img src="{% static 'assets/images/make/lotus.svg' %}" alt="Abarath">Lotus</a></li>
<li><a href="{% url 'car_make' make='Mahindra' %}?listing_type=rent"><img src="{% static 'assets/images/make/Mahindra.svg' %}" alt="Abarath">Mahindra</a></li>
<li><a href="{% url 'car_make' make='Maruti Suzuki' %}?listing_type=rent"><img src="{% static 'assets/images/make/suzuki.svg' %}" alt="Abarath">Maruti Suzuki</a></li>
<li><a href="{% url 'car_make' make='Maserati' %}?listing_type=rent"><img src="{% static 'assets/images/make/maserati.svg' %}" alt="Abarath">Maserati</a></li>
<li><a href="{% url 'car_make' make='Maxus' %}?listing_type=rent"><img src="{% static 'assets/images/make/Maxus.svg' %}" alt="Abarath">Maxus</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Mazda' %}?listing_type=rent"><img src="{% static 'assets/images/make/mazda-2.svg' %}" alt="Abarath">Mazda</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Mclaren' %}?listing_type=rent"><img src="{% static 'assets/images/make/mclaren-10.svg' %}" alt="Abarath">Mclaren</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Mercedes Benz' %}?listing_type=rent"><img src="{% static 'assets/images/make/mercedes.svg' %}" alt="Abarath">Mercedes Benz</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Mercury' %}?listing_type=rent"><img src="{% static 'assets/images/make/mercury-2.svg' %}" alt="Abarath">Mercury</a></li>
<li class="hidden"><a href="{% url 'car_make' make='MG' %}?listing_type=rent"><img src="{% static 'assets/images/make/mg.svg' %}" alt="Abarath">MG</a></li>
<li class="hidden"><a href="{% url 'car_make' make='MINI' %}?listing_type=rent"><img src="{% static 'assets/images/make/Mini.svg' %}" alt="Abarath">MINI</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Mitsubishi' %}?listing_type=rent"><img src="{% static 'assets/images/make/mitsubishi.svg' %}" alt="Abarath">Mitsubishi</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Neta' %}?listing_type=rent"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Neta</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Nissan' %}?listing_type=rent"><img src="{% static 'assets/images/make/nissan-6.svg' %}" alt="Abarath">Nissan</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Opel' %}?listing_type=rent"><img src="{% static 'assets/images/make/Opel_Automobile-Ohqcbsms3_brandlogos.net.svg' %}" alt="Abarath">Opel</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Pagani' %}?listing_type=rent"><img src="{% static 'assets/images/make/pagani.svg' %}" alt="Abarath">Pagani</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Peugeot' %}?listing_type=rent"><img src="{% static 'assets/images/make/peugeot.svg' %}" alt="Abarath">Peugeot</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Polestar' %}?listing_type=rent"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Polestar</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Pontiac' %}?listing_type=rent"><img src="{% static 'assets/images/make/pontiac-6.svg' %}" alt="Abarath">Pontiac</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Porsche' %}?listing_type=rent"><img src="{% static 'assets/images/make/Porsche.svg' %}" alt="Porsche">Porsche</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Proton' %}?listing_type=rent"><img src="{% static 'assets/images/make/proton-logo.svg' %}" alt="Abarath">Proton</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Rabdan' %}?listing_type=rent"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Rabdan</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Renault' %}?listing_type=rent"><img src="{% static 'assets/images/make/renault.svg' %}" alt="Abarath">Renault</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Rolls Royce' %}?listing_type=rent"><img src="{% static 'assets/images/make/rolls-royce.svg' %}" alt="Abarath">Rolls Royce</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Rox' %}?listing_type=rent"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Rox</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Saab' %}?listing_type=rent"><img src="{% static 'assets/images/make/saab-1.svg' %}" alt="Abarath">Saab</a></li>
<li class="hidden"><a href="{% url 'car_make' make='SAIPA' %}?listing_type=rent"><img src="{% static 'assets/images/make/saipa.svg' %}" alt="Abarath">SAIPA</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Samsung' %}?listing_type=rent"><img src="{% static 'assets/images/make/samsung-6.svg' %}" alt="Abarath">Samsung</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Saturn' %}?listing_type=rent"><img src="{% static 'assets/images/make/saturn-5.svg' %}" alt="Abarath">Saturn</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Scion' %}?listing_type=rent"><img src="{% static 'assets/images/make/scion.svg' %}" alt="Abarath">Scion</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Seat' %}?listing_type=rent"><img src="{% static 'assets/images/make/seat-1.svg' %}" alt="Abarath">Seat</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Skoda' %}?listing_type=rent"><img src="{% static 'assets/images/make/skoda-6.svg' %}" alt="Abarath">Skoda</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Skywell' %}?listing_type=rent"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Skywell</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Smart' %}?listing_type=rent"><img src="{% static 'assets/images/make/smart.svg' %}" alt="Abarath">Smart</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Soueast' %}?listing_type=rent"><img src="{% static 'assets/images/make/Soueast-logo.svg' %}" alt="Abarath">Soueast</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Spyker' %}?listing_type=rent"><img src="{% static 'assets/images/make/Spyker_Cars-Logo.wine.svg' %}" alt="Abarath">Spyker</a></li>
<li class="hidden"><a href="{% url 'car_make' make='SsangYong' %}?listing_type=rent"><img src="{% static 'assets/images/make/ssangyong.svg' %}" alt="Abarath">SsangYong</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Subaru' %}?listing_type=rent"><img src="{% static 'assets/images/make/subaru-9.svg' %}" alt="Abarath">Subaru</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Suzuki' %}?listing_type=rent"><img src="{% static 'assets/images/make/suzuki.svg' %}" alt="Abarath">Suzuki</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Tank' %}?listing_type=rent"><img src="{% static 'assets/images/make/' %}" alt="Abarath">Tank</a></li>
<li class="hidden"><a href="{% url 'car_make' make='TATA' %}?listing_type=rent"><img src="{% static 'assets/images/make/tata-1.svg' %}" alt="Abarath">TATA</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Tesla' %}?listing_type=rent"><img src="{% static 'assets/images/make/tesla-pure.svg' %}" alt="Tesla">Tesla</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Toyota' %}?listing_type=rent"><img src="{% static 'assets/images/make/toyota.svg' %}" alt="Toyota">Toyota</a></li>
<li class="hidden"><a href="{% url 'car_make' make='VGV' %}?listing_type=rent"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">VGV</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Volkswagen' %}?listing_type=rent"><img src="{% static 'assets/images/make/volkswagen.svg' %}" alt="Ford">Volkswagen</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Volvo' %}?listing_type=rent"><img src="{% static 'assets/images/make/volvo.svg' %}" alt="Abarath">Volvo</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Weltmeister' %}?listing_type=rent"><img src="{% static 'assets/images/make/Weltmeister-Logo-1.svg' %}" alt="Abarath">Weltmeister</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Wuling' %}?listing_type=rent"><img src="{% static 'assets/images/make/2007-Wuling-Logo-SVG-Vector.svg' %}" alt="Abarath">Wuling</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Yudo' %}?listing_type=rent"><img src="{% static 'assets/images/make/toyota-logo.png' %}" alt="Abarath">Yudo</a></li>
<li class="hidden"><a href="{% url 'car_make' make='Zeekr' %}?listing_type=rent"><img src="{% static 'assets/images/make/ZEEKR_id7FsW9S7t_1.svg' %}" alt="Abarath">Zeekr</a></li>
</div>
                                                    </div>
                                                    <li class="view-more" style="margin-left: 280px;">
                                                        <a href="javascript:void(0);" id="viewMoreBtnRent">
                                                            View All
                                                            <img src="{% static 'assets/images/2-03.png' %}" alt="View More" class="view-more-icon" />
                                                        </a>
                                                    </li>
                                                </ul>
                                            </li>
                                            
                                      
                                            <script>
                                                document.getElementById('viewMoreBtnSell').addEventListener('click', function() {
                                                    const hiddenItems1 = document.querySelectorAll('#column1Sell .hidden');
                                                    const hiddenItems2 = document.querySelectorAll('#column2Sell .hidden');
                                                    const button = this;
                                                
                                                    if (button.textContent.includes('View All')) {
                                                        // Show all hidden items
                                                        hiddenItems1.forEach(item => item.classList.remove('hidden'));
                                                        hiddenItems2.forEach(item => item.classList.remove('hidden'));
                                                        // Change button text to "View Less"
                                                        button.innerHTML = 'View Less <img src="{% static 'assets/images/2-03.png' %}" alt="View Less" class="view-more-icon" />';
                                                    } else {
                                                        // Hide all items that were previously hidden
                                                        hiddenItems1.forEach(item => item.classList.add('hidden'));
                                                        hiddenItems2.forEach(item => item.classList.add('hidden'));
                                                        // Change button text back to "View All"
                                                        button.innerHTML = 'View All <img src="{% static 'assets/images/2-03.png' %}" alt="View More" class="view-more-icon" />';
                                                    }
                                                });
                                                
                                                document.getElementById('viewMoreBtnRent').addEventListener('click', function() {
                                                    const hiddenItems1 = document.querySelectorAll('#column1Rent .hidden');
                                                    const hiddenItems2 = document.querySelectorAll('#column2Rent .hidden');
                                                    const button = this;
                                                
                                                    if (button.textContent.includes('View All')) {
                                                        // Show all hidden items
                                                        hiddenItems1.forEach(item => item.classList.remove('hidden'));
                                                        hiddenItems2.forEach(item => item.classList.remove('hidden'));
                                                        // Change button text to "View Less"
                                                        button.innerHTML = 'View Less <img src="{% static 'assets/images/2-03.png' %}" alt="View Less" class="view-more-icon" />';
                                                    } else {
                                                        // Hide all items that were previously hidden
                                                        hiddenItems1.forEach(item => item.classList.add('hidden'));
                                                        hiddenItems2.forEach(item => item.classList.add('hidden'));
                                                        // Change button text back to "View All"
                                                        button.innerHTML = 'View All <img src="{% static 'assets/images/2-03.png' %}" alt="View More" class="view-more-icon" />';
                                                    }
                                                });
                                            </script>
                                            <style>
                                                .hidden {
                                                    display: none;
                                                }
                                            </style>
                                                <li class="dropdown">
                                                    <a href="{% url 'motorcycle' %}">Motorcycle</a>
                                                    <ul class="submenu submenu-right two-column">
                                                        <div class="submenu-columns">
                                                            <!-- First Column -->
                                                            <div class="column">
                                                        <li><a href="{% url 'motorcycle_make' make='Sport Bike' %}">Sport Bike</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Adventure Touring' %}">Adventure/Touring</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Cruiser Chopper' %}">Cruiser/Chopper</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Off Road' %}">Off Road</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Scooter' %}">Scooter</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Standard Commuter' %}">Standard/Commuter</a></li>
                                                    </div>
                                                    <!-- Second Column -->
                                                    <div class="column">
                                                        <li><a href="{% url 'motorcycle_make' make='Cafe Racer' %}">Cafe Racer</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Trike' %}">Trike</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Trailer' %}">Trailer</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Karting' %}">Karting</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Moped' %}">Moped</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Golf Cart' %}">Golf Cart</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Others' %}">Others</a></li>
                                                    </div>
                                                </div>
                                                    </ul>
                                                </li>
                                                <li class="dropdown">
                                                    <a href="{% url 'heavyvehicle' %}">Heavy Vehicle</a>
                                                    <ul class="submenu submenu-right two-column">
                                                        <div class="submenu-columns">
                                                            <!-- First Column -->
                                                            <div class="column">
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Trucks' %}">Trucks</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Trailers' %}">Trailers</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Dump Trucks' %}">Dump Trucks</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Tankers' %}">Tankers</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Cranes' %}">Cranes</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Forklifts' %}">Forklifts</a></li>
                                                    </div>
                                                    <!-- Second Column -->
                                                    <div class="column">
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Concrete Mixers' %}">Concrete Mixers</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Bulldozers' %}">Bulldozers</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Excavators' %}">Excavators</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Loaders' %}">Loaders</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Graders' %}">Graders</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Compactors' %}">Compactors</a></li>
                                                    </div>
                                                    
                                                </div>
                                                    </ul>
                                                </li>
                                                <li class="dropdown">
                                                    <a href="{% url 'boat' %}">Boat</a>
                                                    <ul class="submenu submenu-right two-column">
                                                        <div class="submenu-columns">
                                                            <!-- First Column -->
                                                            <div class="column">
                                                        <li><a href="{% url 'boat' manufacturer='Motor boats' %}">Motor boats</a></li>
                                                        <li><a href="{% url 'boat' manufacturer='Sail Boats' %}">Sail Boats</a></li>
                                                    </div>
                                                    <!-- Second Column -->
                                                    <div class="column">
                                                        <li><a href="{% url 'boat' manufacturer='Row Paddle Boats' %}">Row / Paddle Boats</a></li>
                                                    </div>
                                                </div>
                                                        
                                                    </ul>
                                                </li>
                                                <li class="dropdown">
                                                    <a href="{% url 'accessoriesparts' %}">Accessories and parts</a>
                                                </li>
                                                <li class="dropdown">
                                                    <a href="{% url 'numberplate' %}">Number Plate</a>  
                                                </li>
                                                                      
                                                     
                                            </ul>
                                        </li>
                                        <li class="dropdown">
                                            <div class="real-estate-container">
                                                <a href="{% url 'index3' %}">Real Estate</a>
                                                <a href="{% url 'index3' %}" class="theme-btn-three mx-1 text-white">Exclusive</a>
                                            </div>
                                            <ul>
                                                <li class="nav-item dropdown">
                                                    <a class="nav-link" href="{% url 'index_sale' %}" id="forSaleDropdown" data-bs-toggle="dropdown" aria-expanded="false"><strong>
                                                        For Sale</strong>
                                                    </a>
                                                    <ul class="submenu submenu-right two-column">
                                                        <div class="submenu-columns">
                                                            <div class="column">
                                                                <li><a  href="{% url 'land' %}?listing_type=sell"> Lands for Sale </a></li>

                                                                <li><a  href="{% url 'apartment' %}?listing_type=sell">Apartments for Sale</a></li>
                                                                <li><a  href="{% url 'villa' %}?listing_type=sell"> Villa for Sale </a></li>
                                                                <li><a href="{% url 'townhouse' %}?listing_type=sell">Townhouses for Sale</a></li>

                                                                <li><a  href="{% url 'shop' %}?listing_type=sell">Shops for Sale</a></li>
                                                                <li><a  href="{% url 'farm' %}?listing_type=sell"> Farms & Chalets for Sale </a></li>

                                                                <li><a href="{% url 'cafe' %}?listing_type=sell">Restaurants & Cafes for Sale</a></li>
                                                                <li><a href="{% url 'wholebuilding' %}?listing_type=sell">Whole Building for Sale</a></li>
                                                                <li><a href="{% url 'office' %}?listing_type=sell">Offices for Sale</a></li>
                                                                <li><a href="{% url 'supermarket' %}?listing_type=sell">Supermarkets for Sale</a></li>
                                                            </div>
                                                            <div class="column">
                                                                <li><a href="{% url 'showrooms' %}?listing_type=sell">Showrooms for Sale</a></li>
                                                                <li><a  href="{% url 'clinic' %}?listing_type=sell">Clinics for Sale</a></li>
                                                                <li><a  href="{% url 'factory' %}?listing_type=sell">Factories for Sale</a></li>
                                                                <li><a href="{% url 'fullfloors' %}?listing_type=sell">Full Floors for Sale</a></li>
                                                                <li><a href="{% url 'staff' %}?listing_type=sell">Staff Housing for Sale</a></li>
                                                                <li><a href="{% url 'warehouse' %}?listing_type=sell">Warehouses for Sale</a></li>
                                                                <li><a  href="{% url 'commercial' %}?listing_type=sell"> Commercial  Villas for Sale</a></li>
                                                                
                                                                <li><a  href="{% url 'complex' %}?listing_type=sell">Complexes for Sale</a></li>                                                               
                                                                <li><a href="{% url 'hostel' %}?listing_type=sell">Hotels for Sale</a></li>                                                                                                           
                                                                                                                                
                                                                <li><a href="{% url 'foreign' %}?listing_type=sell">Foreign Real Estate for Sale</a></li>
                                                            </div>
                                                        </div>
                                                        
                                                    </ul>

                                                </li>
                                                <li><a class="ml-3" href="{% url 'land' %}?listing_type=sell">Lands for Sale</a></li>
                                                <li><a class="ml-3" href="{% url 'apartment' %}?listing_type=sell">Apartments for Sale</a></li>
                                                <li><a class="ml-3" href="{% url 'villa' %}?listing_type=sell">Villa for Sale</a></li>
                                                <li><a class="ml-3" href="{% url 'shop' %}?listing_type=sell">Shops for Sale</a></li>
                                                <li><a class="ml-3" href="{% url 'cafe' %}?listing_type=sell">Restaurants and Cafes for Sale</a></li>

                                                                                                
                                                <li class="nav-item dropdown">
                                                    <a class="nav-link" href="{% url 'index_rent' %}" id="forSaleDropdown" data-bs-toggle="dropdown" aria-expanded="false"><strong>
                                                        For Rent</strong>
                                                    </a>
                                                    <ul class="submenu submenu-right two-column">
                                                        <div class="submenu-columns" style="max-height: 213px;overflow-y: auto;">
                                                            <div class="column">
                                                                <li><a  href="{% url 'apartment' %}?listing_type=rent">Apartments for Rent</a></li>
                                                                <li><a  href="{% url 'shared' %}?listing_type=rent">Shared Rooms for Rent</a></li>
                                                                <li><a  href="{% url 'villa' %}?listing_type=rent">Villa for Rent</a></li>
                                                                <li><a  href="{% url 'farm' %}?listing_type=rent">Farms & Chalets for Rent</a></li>
                                                                <li><a  href="{% url 'shop' %}?listing_type=rent">Shops for Rent</a></li>
                                                                <li><a href="{% url 'office' %}?listing_type=rent">Offices for Rent</a></li>
                                                                <li><a href="{% url 'townhouse' %}?listing_type=rent">Townhouses for Rent</a></li>

                                                                <li><a href="{% url 'suits' %}?listing_type=rent">Hotel Apartments and Suites for Rent</a></li>
                                                                <li><a href="{% url 'warehouse' %}?listing_type=rent">Warehouses for Rent</a></li>
                                                                <li><a  href="{% url 'land' %}?listing_type=rent">Lands for Rent</a></li>
                                                                <li><a href="{% url 'showrooms' %}?listing_type=rent">Showrooms for Rent</a></li>
                                                                <li><a href="{% url 'wholebuilding' %}?listing_type=rent">Building for Rent</a></li>

                                                            </div>
                                                            <div class="column">

                                                                <li><a href="{% url 'cafe' %}?listing_type=rent">Restaurants & Cafes for Rent</a></li>
                                                                                                                                
                                                                <li><a  href="{% url 'commercial' %}?listing_type=rent">Commercial Villas for Rent</a></li>
                                                                <li><a  href="{% url 'factory' %}?listing_type=rent">Factories for Rent</a></li>
                                                                <li><a href="{% url 'staff' %}?listing_type=rent">Staff Housing for Rent</a></li>
                                                                <li><a href="{% url 'fullfloors' %}?listing_type=rent">Full Floors for Rent</a></li>
                                                                <li><a href="{% url 'foreign' %}?listing_type=rent">Foreign Real Estate for Rent</a></li>
                                                                <li><a  href="{% url 'clinic' %}?listing_type=rent">Clinics for Rent</a></li>
                                                                <li><a  href="{% url 'complex' %}?listing_type=rent">Complexes for Rent</a></li>                                                                
                                                                <li><a href="{% url 'supermarket' %}?listing_type=rent">Supermarkets for Rent</a></li>                                                       
                                                                <li><a href="{% url 'hostel' %}?listing_type=sell">Hotels for Rent</a></li>                                                              
                                                                                                                               
                                                                                                                             
                                                                                                                        
                                                                
                                                            </div>
                                                        </div>
                                                        
                                                    </ul>

                                                </li>
                                                 <li><a class="ml-3" href="{% url 'apartment' %}?listing_type=rent">Apartments for Rent</a></li>
                                                <li><a class="ml-3" href="{% url 'villa' %}?listing_type=rent">Villa for Rent</a></li>
                                                <li><a class="ml-3" href="{% url 'shop' %}?listing_type=rent">Shops for Rent</a></li>

                                                <li><a class="ml-3" href="{% url 'office' %}?listing_type=rent">Offices for Rent</a></li>
                                                <li><a class="ml-3" href="{% url 'wholebuilding' %}?listing_type=rent">Buildings for Rent</a></li>


                                            </ul>
                                        </li>
                                        <style>
                                            .main-menu .navigation > li > ul > li >.sublist a:hover,
.main-menu .navigation > li > ul > li > a:hover,
.main-menu .navigation > li > .megamenu li > a:hover{
  background-color: #F5F6F7;
  width: 180px;
  padding: 10px 25px; /* Add padding to enhance the highlight effect */
  border-radius: 0; /* Remove rounding if not needed */
  transition: background-color 0.3s ease; /* Smooth transition for hover */
  margin-left: -30px;
}
                                        </style>
                                        <li class="dropdown"><a href="{% url 'job' %}">Jobs</a>
                                            <ul>
                                                <li><a href="{% url 'jobcategories' %}">Jobs By Category</a></li>

                                                <li><a href="{% url 'full_time_jobs' %}">Full Time</a></li>
                                                <li><a href="{% url 'part_time_jobs' %}">Part Time</a></li>
                                                
                                            </ul>
                                        </li> 
                                        <li class="dropdown"><a href="{% url 'index5' %}">Classified</a>
                                            <ul>
                                                <li><a href="{% url 'fashion' %}">Fashion</a></li>
                                                <li><a href="{% url 'toys' %}">Toys</a></li>
                                                <li><a href="{% url 'foods' %}">Foods</a></li>
                                                <li><a href="{% url 'fitness' %}">Fitness</a></li>
                                                <li><a href="{% url 'pets' %}">Pets</a></li>
                                                <li><a href="{% url 'books' %}">Books</a></li>
                                                <li><a href="{% url 'appliances' %}">Appliances</a></li>
                                            </ul>
                                        </li>
                                        <li class="dropdown">
                                            <a href="{% url 'index6' %}">Mobiles & Tablets</a>
                                            <ul class="dropdown-menu">
                                                <!-- Mobiles Section -->
                                                <li class="dropdown">
                                                    <a href="{% url 'mobiles' %}">Mobiles</a>
                                                    <ul class="submenu">
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Samsung' %}">Samsung</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Oppo' %}">Oppo</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='iPhone' %}">iPhone</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Xiaomi' %}">Xiaomi</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='OnePlus' %}">OnePlus</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Huawei' %}">Huawei</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Realme' %}">Realme</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Nokia' %}">Nokia</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Google Pixel' %}">Google Pixel</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Vivo' %}">Vivo</a></li>
                                                    </ul>
                                                </li>
                                                <!-- Computers Section -->
                                                <li class="dropdown">
                                                    <a href="{% url 'computer' %}">Computers</a>
                                                    <ul class="submenu">
                                                        <li><a href="{% url 'computer_by_brand' brand='Dell' %}">Dell</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='HP' %}">HP</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Apple' %}">Apple</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Lenovo' %}">Lenovo</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Asus' %}">Asus</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Acer' %}">Acer</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Microsoft' %}">Microsoft</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Samsung' %}">Samsung</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='MSI' %}">MSI</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Razer' %}">Razer</a></li>
                                                    </ul>
                                                </li>
                                                <!-- Sounds Section -->
                                                <li class="dropdown">
                                                    <a href="{% url 'sounds' %}">Sounds</a>
                                                    <ul class="submenu">
                                                        <li><a href="{% url 'sound_by_brand' brand='Sony' %}">Sony</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Bose' %}">Bose</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='JBL' %}">JBL</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Sennheiser' %}">Sennheiser</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Beats' %}">Beats</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='AKG' %}">AKG</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Pioneer' %}">Pioneer</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Marshall' %}">Marshall</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Bang & Olufsen' %}">Bang & Olufsen</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Harman Kardon' %}">Harman Kardon</a></li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        
                                        <li class="dropdown"><a href="{% url 'community' %}">Community</a>
                                            <ul>
                                                <li><a href="{% url 'business' %}">Business</a></li>
                                                <li><a href="{% url 'education' %}">Education</a></li>
                                                <li><a href="{% url 'service' %}">Service</a></li>
                                            </ul>
                                        </li> 
                                        <li class="dropdown">
                                            <div class="real-estate-container">
                                                <a href="{% url 'upload_image' %}">Map</a>
                                                <a href="{% url 'listingads' %}" class="theme-btn-two  text-white mx-1">New</a>
                                            </div>
                                        </li> 
                                        <li class="dropdown">
                                            <div class="real-estate-container">
                                                <a href="{% if user.is_authenticated %}{% url 'user_chat' %}{% else %}{% url 'login' %}{% endif %}"> Chat with Ahmed</a>
                                                <a href="{% url 'listingads' %}" class="theme-btn-two text-white mx-1">New</a>
                                            </div>
                                        </li> 
                                    </ul>
                                </div>
                            </nav>
                        </div>
                        
                        
                    </div>
                    
                </div>
                
            </div>
            <hr>

            <!--sticky Header-->
            <div class="sticky-header">
                <div class="auto-container">
                    <div class="outer-box">
                        <div class="logo-box">
                            <figure class="logo"><a href="{% url 'index' %}"><img src="{% static 'assets\images\logo.png'%}" style="height:60px;" alt="Oman"></a></figure>
                        </div>
                        <div class="menu-area">
                            <nav class="main-menu clearfix">
                                <div class="collapse navbar-collapse show clearfix" id="navbarSupportedContent">
                                    <ul class="navigation clearfix" style="margin-top: -40px; margin-bottom: -50px;margin-left:-50px;">
                                        <li class="dropdown pl-5"><a href="{% url 'index2' %}">Motors</a>
                                            <ul class="dropdown-menu"  style="margin-top: -1px;">
                                              <!-- Cars Section -->
<li class="dropdown">
    <a href="{% url 'car' %}">Car</a>
    <ul class="submenu submenu-right two-column">
        <div class="submenu-columns">
            <!-- First Column -->
            <div class="column">
                <li><a href="{% url 'car_make' make='Toyota' %}">Toyota</a></li>
                <li><a href="{% url 'car_make' make='Honda' %}">Honda</a></li>
                <li><a href="{% url 'car_make' make='Ford' %}">Ford</a></li>
                <li><a href="{% url 'car_make' make='Chevrolet' %}">Chevrolet</a></li>
                <li><a href="{% url 'car_make' make='Nissan' %}">Nissan</a></li>
                <li><a href="{% url 'car_make' make='Hyundai' %}">Hyundai</a></li>
                <li><a href="{% url 'car_make' make='Kia' %}">Kia</a></li>
                <li><a href="{% url 'car_make' make='Volkswagen' %}">Volkswagen</a></li>
                <li><a href="{% url 'car_make' make='BMW' %}">BMW</a></li>
                <li><a href="{% url 'car_make' make='Mercedes-Benz' %}">Mercedes-Benz</a></li>
            </div>
            <!-- Second Column -->
            <div class="column">
                <li><a href="{% url 'car_make' make='Audi' %}">Audi</a></li>
                <li><a href="{% url 'car_make' make='Tesla' %}">Tesla</a></li>
                <li><a href="{% url 'car_make' make='Mazda' %}">Mazda</a></li>
                <li><a href="{% url 'car_make' make='Subaru' %}">Subaru</a></li>
                <li><a href="{% url 'car_make' make='Jaguar' %}">Jaguar</a></li>
                <li><a href="{% url 'car_make' make='Land Rover' %}">Land Rover</a></li>
                <li><a href="{% url 'car_make' make='Volvo' %}">Volvo</a></li>
                <li><a href="{% url 'car_make' make='Porsche' %}">Porsche</a></li>
                <li><a href="{% url 'car_make' make='Mitsubishi' %}">Mitsubishi</a></li>
                <li><a href="{% url 'car_make' make='Suzuki' %}">Suzuki</a></li>
            </div>
        </div>
                                                        <!-- View More Button -->
                                                        <li class="view-more" style="margin-left: 280px;">
                                                            <a href="">
                                                                View All
                                                                <img src="{% static 'assets/images/2-03.png' %}" alt="View More" class="view-more-icon" />
                                                            </a>
                                                        </li>
                                                        
                                                                                                            </ul>
                                                                                                        </li>
                                                                                                  

                                                <li class="dropdown">
                                                    <a href="{% url 'motorcycle' %}">Motorcycle</a>
                                                    <ul class="submenu submenu-right two-column">
                                                        <div class="submenu-columns">
                                                            <!-- First Column -->
                                                            <div class="column">
                                                        <li><a href="{% url 'motorcycle_make' make='Sport Bike' %}">Sport Bike</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Adventure Touring' %}">Adventure/Touring</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Cruiser Chopper' %}">Cruiser/Chopper</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Off Road' %}">Off Road</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Scooter' %}">Scooter</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Standard Commuter' %}">Standard/Commuter</a></li>
                                                    </div>
                                                    <!-- Second Column -->
                                                    <div class="column">
                                                        <li><a href="{% url 'motorcycle_make' make='Cafe Racer' %}">Cafe Racer</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Trike' %}">Trike</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Trailer' %}">Trailer</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Karting' %}">Karting</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Moped' %}">Moped</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Golf Cart' %}">Golf Cart</a></li>
                                                        <li><a href="{% url 'motorcycle_make' make='Others' %}">Others</a></li>
                                                    </div>
                                                </div>
                                                    </ul>
                                                </li>
                                                <li class="dropdown">
                                                    <a href="{% url 'heavyvehicle' %}">Heavy Vehicle</a>
                                                    <ul class="submenu submenu-right two-column">
                                                        <div class="submenu-columns">
                                                            <!-- First Column -->
                                                            <div class="column">
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Trucks' %}">Trucks</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Trailers' %}">Trailers</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Dump Trucks' %}">Dump Trucks</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Tankers' %}">Tankers</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Cranes' %}">Cranes</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Forklifts' %}">Forklifts</a></li>
                                                    </div>
                                                    <!-- Second Column -->
                                                    <div class="column">
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Concrete Mixers' %}">Concrete Mixers</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Bulldozers' %}">Bulldozers</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Excavators' %}">Excavators</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Loaders' %}">Loaders</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Graders' %}">Graders</a></li>
                                                        <li><a href="{% url 'heavy_vehicle' manufacturer='Compactors' %}">Compactors</a></li>
                                                    </div>
                                                </div>
                                                    </ul>
                                                </li>
                                                <li class="dropdown">
                                                    <a href="{% url 'boat' %}">Boat</a>
                                                    <ul class="submenu submenu-right two-column">
                                                        <div class="submenu-columns">
                                                            <!-- First Column -->
                                                            <div class="column">
                                                        <li><a href="{% url 'boat' manufacturer='Motor boats' %}">Motor boats</a></li>
                                                        <li><a href="{% url 'boat' manufacturer='Sail Boats' %}">Sail Boats</a></li>
                                                    </div>
                                                    <!-- Second Column -->
                                                    <div class="column">
                                                        <li><a href="{% url 'boat' manufacturer='Row Paddle Boats' %}">Row / Paddle Boats</a></li>
                                                    </div>
                                                </div>
                                                        
                                                    </ul>
                                                </li>
                                                <li class="dropdown">
                                                    <a href="{% url 'accessoriesparts' %}">Accessories and parts</a>
                                                </li>
                                                <li class="dropdown">
                                                    <a href="{% url 'numberplate' %}">Number Plate</a>  
                                                </li>
                                              
                                                
                                                     
                                            </ul>
                                        </li>
                                        <li class="dropdown">
                                            <div class="real-estate-container">
                                                <a href="{% url 'index3' %}">Real Estate</a>
                                               
                                            </div>
                                            <ul  style="margin-top: -1px;">
                                                <li class="nav-item dropdown">
                                                    <a class="nav-link" href="{% url 'index_sale' %}" id="forSaleDropdown" data-bs-toggle="dropdown" aria-expanded="false"><strong>
                                                        For Sale</strong>
                                                    </a>
                                                    <ul class="submenu submenu-right two-column">
                                                        <div class="submenu-columns">
                                                            <div class="column">
                                                                <li><a  href="{% url 'land' %}?listing_type=sell"> Lands for Sale </a></li>

                                                                <li><a  href="{% url 'apartment' %}?listing_type=sell">Apartments for Sale</a></li>
                                                                <li><a  href="{% url 'villa' %}?listing_type=sell"> Villa for Sale </a></li>
                                                                <li><a href="{% url 'townhouse' %}?listing_type=sell">Townhouses for Sale</a></li>

                                                                <li><a  href="{% url 'shop' %}?listing_type=sell">Shops for Sale</a></li>
                                                                <li><a  href="{% url 'farm' %}?listing_type=sell"> Farms & Chalets for Sale </a></li>

                                                                <li><a href="{% url 'cafe' %}?listing_type=sell">Restaurants & Cafes for Sale</a></li>
                                                                <li><a href="{% url 'wholebuilding' %}?listing_type=sell">Whole Building for Sale</a></li>
                                                                <li><a href="{% url 'office' %}?listing_type=sell">Offices for Sale</a></li>
                                                                <li><a href="{% url 'supermarket' %}?listing_type=sell">Supermarkets for Sale</a></li>
                                                            </div>
                                                            <div class="column">
                                                                <li><a href="{% url 'showrooms' %}?listing_type=sell">Showrooms for Sale</a></li>
                                                                <li><a  href="{% url 'clinic' %}?listing_type=sell">Clinics for Sale</a></li>
                                                                <li><a  href="{% url 'factory' %}?listing_type=sell">Factories for Sale</a></li>
                                                                <li><a href="{% url 'fullfloors' %}?listing_type=sell">Full Floors for Sale</a></li>
                                                                <li><a href="{% url 'staff' %}?listing_type=sell">Staff Housing for Sale</a></li>
                                                                <li><a href="{% url 'warehouse' %}?listing_type=sell">Warehouses for Sale</a></li>
                                                                <li><a  href="{% url 'commercial' %}?listing_type=sell"> Commercial  Villas for Sale</a></li>
                                                                
                                                                <li><a  href="{% url 'complex' %}?listing_type=sell">Complexes for Sale</a></li>                                                               
                                                                <li><a href="{% url 'hostel' %}?listing_type=sell">Hotels for Sale</a></li>                                                                                                           
                                                                                                                                
                                                                <li><a href="{% url 'foreign' %}?listing_type=sell">Foreign Real Estate for Sale</a></li>
                                                            </div>
                                                        </div>
                                                        
                                                    </ul>

                                                </li>
                                                <li><a class="ml-3" href="{% url 'land' %}?listing_type=sell">Lands for Sale</a></li>
                                                <li><a class="ml-3" href="{% url 'apartment' %}?listing_type=sell">Apartments for Sale</a></li>
                                                <li><a class="ml-3" href="{% url 'villa' %}?listing_type=sell">Villa for Sale</a></li>
                                                <li><a class="ml-3" href="{% url 'shop' %}?listing_type=sell">Shops for Sale</a></li>
                                                <li><a class="ml-3" href="{% url 'cafe' %}?listing_type=sell">Restaurants and Cafes for Sale</a></li>

                                                                                                
                                                <li class="nav-item dropdown">
                                                    <a class="nav-link" href="{% url 'index_rent' %}" id="forSaleDropdown" data-bs-toggle="dropdown" aria-expanded="false"><strong>
                                                        For Rent</strong>
                                                    </a>
                                                    <ul class="submenu submenu-right two-column">
                                                        <div class="submenu-columns" style="max-height: 213px;overflow-y: auto;">
                                                            <div class="column">
                                                                <li><a  href="{% url 'apartment' %}?listing_type=rent">Apartments for Rent</a></li>
                                                                <li><a  href="{% url 'shared' %}?listing_type=rent">Shared Rooms for Rent</a></li>
                                                                <li><a  href="{% url 'villa' %}?listing_type=rent">Villa for Rent</a></li>
                                                                <li><a  href="{% url 'farm' %}?listing_type=rent">Farms & Chalets for Rent</a></li>
                                                                <li><a  href="{% url 'shop' %}?listing_type=rent">Shops for Rent</a></li>
                                                                <li><a href="{% url 'office' %}?listing_type=rent">Offices for Rent</a></li>
                                                                <li><a href="{% url 'townhouse' %}?listing_type=rent">Townhouses for Rent</a></li>

                                                                <li><a href="{% url 'suits' %}?listing_type=rent">Hotel Apartments and Suites for Rent</a></li>
                                                                <li><a href="{% url 'warehouse' %}?listing_type=rent">Warehouses for Rent</a></li>
                                                                <li><a  href="{% url 'land' %}?listing_type=rent">Lands for Rent</a></li>
                                                                <li><a href="{% url 'showrooms' %}?listing_type=rent">Showrooms for Rent</a></li>
                                                                <li><a href="{% url 'wholebuilding' %}?listing_type=rent">Building for Rent</a></li>

                                                            </div>
                                                            <div class="column">

                                                                <li><a href="{% url 'cafe' %}?listing_type=rent">Restaurants & Cafes for Rent</a></li>
                                                                                                                                
                                                                <li><a  href="{% url 'commercial' %}?listing_type=rent">Commercial Villas for Rent</a></li>
                                                                <li><a  href="{% url 'factory' %}?listing_type=rent">Factories for Rent</a></li>
                                                                <li><a href="{% url 'staff' %}?listing_type=rent">Staff Housing for Rent</a></li>
                                                                <li><a href="{% url 'fullfloors' %}?listing_type=rent">Full Floors for Rent</a></li>
                                                                <li><a href="{% url 'foreign' %}?listing_type=rent">Foreign Real Estate for Rent</a></li>
                                                                <li><a  href="{% url 'clinic' %}?listing_type=rent">Clinics for Rent</a></li>
                                                                <li><a  href="{% url 'complex' %}?listing_type=rent">Complexes for Rent</a></li>                                                                
                                                                <li><a href="{% url 'supermarket' %}?listing_type=rent">Supermarkets for Rent</a></li>                                                       
                                                                <li><a href="{% url 'hostel' %}?listing_type=sell">Hotels for Rent</a></li>                                                              
                                                                                                                               
                                                                                                                             
                                                                                                                        
                                                                
                                                            </div>
                                                        </div>
                                                        
                                                    </ul>

                                                </li>
                                                 <li><a class="ml-3" href="{% url 'apartment' %}?listing_type=rent">Apartments for Rent</a></li>
                                                <li><a class="ml-3" href="{% url 'villa' %}?listing_type=rent">Villa for Rent</a></li>
                                                <li><a class="ml-3" href="{% url 'shop' %}?listing_type=rent">Shops for Rent</a></li>

                                                <li><a class="ml-3" href="{% url 'office' %}?listing_type=rent">Offices for Rent</a></li>
                                                <li><a class="ml-3" href="{% url 'wholebuilding' %}?listing_type=rent">Buildings for Rent</a></li>


                                            </ul>
                                        </li>
                                        <li class="dropdown"><a href="{% url 'job' %}">Jobs</a>
                                            <ul  style="margin-top: -1px;">
                                                <li><a href="{% url 'jobcategories' %}">Jobs By Category</a></li>

                                                <li><a href="{% url 'full_time_jobs' %}">Full Time</a></li>
                                                <li><a href="{% url 'part_time_jobs' %}">Part Time</a></li>
                                                
                                            </ul>
                                        </li> 
                                        <li class="dropdown"><a href="{% url 'index5' %}">Classified</a>
                                            <ul  style="margin-top: -1px;">
                                                <li><a href="{% url 'fashion' %}">Fashion</a></li>
                                                <li><a href="{% url 'toys' %}">Toys</a></li>
                                                <li><a href="{% url 'foods' %}">Foods</a></li>
                                                <li><a href="{% url 'fitness' %}">Fitness</a></li>
                                                <li><a href="{% url 'pets' %}">Pets</a></li>
                                                <li><a href="{% url 'books' %}">Books</a></li>
                                                <li><a href="{% url 'appliances' %}">Appliances</a></li>
                                            </ul>
                                        </li>
                                        <li class="dropdown">
                                            <a href="{% url 'index6' %}">Mobiles & Tablets</a>
                                            <ul class="dropdown-menu"  style="margin-top: -1px;">
                                                <!-- Mobiles Section -->
                                                <li class="dropdown">
                                                    <a href="{% url 'mobiles' %}">Mobiles</a>
                                                    <ul class="submenu">
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Samsung' %}">Samsung</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Oppo' %}">Oppo</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='iPhone' %}">iPhone</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Xiaomi' %}">Xiaomi</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='OnePlus' %}">OnePlus</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Huawei' %}">Huawei</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Realme' %}">Realme</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Nokia' %}">Nokia</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Google Pixel' %}">Google Pixel</a></li>
                                                        <li><a href="{% url 'mobiles_by_brand' brand='Vivo' %}">Vivo</a></li>
                                                    </ul>
                                                </li>
                                                <!-- Computers Section -->
                                                <li class="dropdown">
                                                    <a href="{% url 'computer' %}">Computers</a>
                                                    <ul class="submenu">
                                                        <li><a href="{% url 'computer_by_brand' brand='Dell' %}">Dell</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='HP' %}">HP</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Apple' %}">Apple</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Lenovo' %}">Lenovo</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Asus' %}">Asus</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Acer' %}">Acer</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Microsoft' %}">Microsoft</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Samsung' %}">Samsung</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='MSI' %}">MSI</a></li>
                                                        <li><a href="{% url 'computer_by_brand' brand='Razer' %}">Razer</a></li>
                                                    </ul>
                                                </li>
                                                <!-- Sounds Section -->
                                                <li class="dropdown">
                                                    <a href="{% url 'sounds' %}">Sounds</a>
                                                    <ul class="submenu">
                                                        <li><a href="{% url 'sound_by_brand' brand='Sony' %}">Sony</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Bose' %}">Bose</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='JBL' %}">JBL</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Sennheiser' %}">Sennheiser</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Beats' %}">Beats</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='AKG' %}">AKG</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Pioneer' %}">Pioneer</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Marshall' %}">Marshall</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Bang & Olufsen' %}">Bang & Olufsen</a></li>
                                                        <li><a href="{% url 'sound_by_brand' brand='Harman Kardon' %}">Harman Kardon</a></li>
                                                    </ul>
                                                </li>
                                            </ul>
                                        </li>
                                        
                                        <li class="dropdown"><a href="{% url 'community' %}">Community</a>
                                            <ul  style="margin-top: -1px;">
                                                <li><a href="{% url 'business' %}">Business</a></li>
                                                <li><a href="{% url 'education' %}">Education</a></li>
                                                <li><a href="{% url 'service' %}">Service</a></li>
                                            </ul>
                                        </li> 
                                        <li class="dropdown">
                                            <div class="real-estate-container">
                                                <a href="{% url 'upload_image' %}">Map</a>
                                               
                                            </div>
                                        </li> 
                                       <li class="dropdown">
                                            <div class="real-estate-container">
                                                <a href="{% if user.is_authenticated %}{% url 'user_chat' %}{% else %}{% url 'login' %}{% endif %}"> Chat with Ahmed</a>
                                              
                                            </div>
                                        </li> 
                                    </ul>
                                </div>
                            </nav>
                        </div>
                        
                        <nav class="navbar navbar-expand-lg navbar-light">
                            <div class="ml-auto current dropdown">
                                {% if user.is_authenticated %}
                                    {% if not user.is_superuser and not user.is_staff %}
                                        <!-- Regular user dropdown -->
                                        <span class="dropdown-toggle" id="userDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="cursor: pointer;">
                                            {% if user.image %}
                                                <img src="{{ user.image.url }}" alt="{{ user.username }}" class="user-image" style="width: 20px; height: 20px; border-radius: 50%; margin-right: 8px;">
                                            {% else %}
                                                <img src="{% static 'assets/images/resource/author-1.png' %}" alt="{{ user.username }}" class="user-image" style="width: 20px; height: 20px; border-radius: 50%; margin-right: 8px;">
                                            {% endif %}
                                            {{ user.username|title }}
                                        </span>
                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                                            <a class="dropdown-item" href="{% url 'userprofile' user.id %}">My Profile</a>
                                            <a class="dropdown-item" href="{% url 'jobapplication' user.id %}">My Job Application</a>
                                            <a class="dropdown-item" href="{% url 'adss1' user.id %}">My Ads</a>
                                            <a class="dropdown-item" href="{% url 'user_chat' %}">Chat</a>
                                            <a class="dropdown-item" href="{% url 'account_settings' user.id %}">Account Settings</a>
                                            <a class="dropdown-item" href="{% url 'favorites' user.id %}">Favorites</a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="{% url 'logout' %}">Sign out</a>
                                        </div>
                                    {% elif user.is_superuser %}
                                        <!-- Admin user content -->
                                        <span class="navbar-text">Admin</span>
                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="userDropdown">
                                            <a class="dropdown-item" href="{% url 'admin_dashboard' %}">Admin Dashboard</a>
                                            <div class="dropdown-divider"></div>
                                            <a class="dropdown-item" href="{% url 'adminlogout' %}">Sign out</a>
                                        </div>
                                    {% endif %}
                                {% else %}
                                <div class="sign-in">
    
                                    <a href="{% url 'login1' %}" class="login-link">

                                        Log in or sign up

                                    </a>

                                </div>
                                {% endif %}
                            </div>
                        </nav>
            
                        
                        
                    </div>
                </div>
            </div>
            
        </header>
        <!-- main-header end -->

        <!-- Mobile Menu  -->
        <div class="mobile-menu">
            <div class="menu-backdrop"></div>
            <div class="close-btn"><i class="fas fa-times"></i></div>
            
            <nav class="menu-box">
                <div class="nav-logo"><a href="{% url 'index' %}"><img src="{% static 'assets\images\logo.png'%}" alt="oman" title=""></a></div>
                <div class="menu-outer"><!--Here Menu Will Come Automatically Via Javascript / Same Menu as in Header--></div>
                <div class="contact-info">
                    <h4>Contact Info</h4>
                    <ul>
                        <li>Chicago 12, Melborne City, USA</li>
                        <li><a href="tel:+8801682648101">+88 01682648101</a></li>
                        <li><a href="mailto:info@example.com">info@example.com</a></li>
                    </ul>
                </div>
                <div class="social-links">
                    <ul class="clearfix">
                        <li><a href="index.html"><span class="fab fa-twitter"></span></a></li>
                        <li><a href="index.html"><span class="fab fa-facebook-square"></span></a></li>
                        <li><a href="index.html"><span class="fab fa-pinterest-p"></span></a></li>
                        <li><a href="index.html"><span class="fab fa-instagram"></span></a></li>
                        <li><a href="index.html"><span class="fab fa-youtube"></span></a></li>
                    </ul>
                </div>
            </nav>
        </div><!-- End Mobile Menu -->


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">


        
     <style>
               .multi-column-dropdown {
    width: 400px; /* Adjust width */
    padding: 15px;margin-left: 230px;
}

.multi-column-dropdown .row {
    display: flex;
    flex-wrap: nowrap;
}

.multi-column-dropdown .col-6 {
    flex: 1;
    padding: 10px;
}
.multi-column-dropdown li a:hover {
           
           color:  #E35D20;
           padding: 5px;
           border-radius: 4px;
           transition: background-color 0.2s;
       }
        /* Base styles for larger screens (default) */
    .custom-form {
       
    }
    
    .input-inner {
        display: flex;
        justify-content: space-between;
    }
    
    .form-group {
        flex: 1;
        margin-right: 10px;
    }function showCitiesDropdown() {
        var region = document.getElementById('region-dropdown').value;
        var citiesDropdown = document.getElementById('cities-dropdown');
        var citiesList = document.getElementById('cities-list');
        
        var cities = {
            'MS': ['Muscat City', 'Qurum', 'Seeb'],
            'DH': ['Salalah', 'Mirbat', 'Taqah'],
            'BT': ['Sohar', 'Barka', 'Ibri'],
            'DA': ['Nizwa', 'Izki', 'Manah'],
            'SH': ['Sur', 'Ibra', 'Bahla'],
            'BR': ['Buraimi', 'Mahda'],
            'ZU': ['Salalah', 'Mirbat'],
            'DZ': ['Khasab', 'Diba'],
            'WT': ['Haima', 'Shinas']
        };
    
        citiesList.innerHTML = ''; // Clear previous cities
    
        if (region && cities[region]) {
            cities[region].forEach(function(city) {
                var cityOption = document.createElement('div');
                cityOption.textContent = city;
                cityOption.onclick = function() {
                    alert('You selected ' + city + '!');
                    citiesDropdown.style.display = 'none'; // Hide cities dropdown after selection
                };
                citiesList.appendChild(cityOption);
            });
    
            citiesDropdown.style.display = 'block'; // Show cities dropdown
        } else {
            citiesDropdown.style.display = 'none'; // Hide cities dropdown if no region is selected
        }
    }
    
    
    /* Dropdown styles for regions and categories */
.form-group select {
    position: relative; /* Ensure the dropdown is positioned relative to the form */
    z-index: 10; /* Ensure it appears above other elements */
}

/* Adjust the dropdown list */
.region-list, .categories-list {
    position: absolute; /* Position the dropdown absolutely */
    top: 100%; /* Position it directly below the select input */
    left: 0; /* Align it to the left */
    background: white; /* Background color */
    border: 1px solid #ccc; /* Border */
    z-index: 1000; /* Ensure it appears above other elements */
    width: 100%; /* Match the width of the select input */
    max-height: 200px; /* Limit height */
    overflow-y: auto; /* Scroll if too many items */
    display: none; /* Initially hidden */
    margin-top: 5px; /* Add margin to create space below the input */
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); /* Optional: Add shadow for better visibility */
}

/* Ensure the form container has enough space */
.custom-form {
   
    position: relative; /* Ensure it is positioned relative for dropdowns */
}
    
    /* Responsive Styles */
    @media (max-width: 768px) {
        .custom-form {
            margin-left: 0; /* Remove left margin on mobile */
            margin-right: 20px; /* Optional: Add some right margin */
        }
        
        .input-inner {
            flex-direction: column; /* Stack input fields on mobile */
        }
        
        .form-group {
            margin-bottom: 15px;
            margin-right: 0;
        }
        
        .btn-box {
            text-align: center;
        }
    }
    
     </style>


     <style>
      
    
        .categories-container {
            display: none; /* Hide icons by default (for desktop) */
        }
    
        .category-icon {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100px;
            height: 100px;
            background-color: #ffffff; /* White background for the icon container */
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            text-align: center;
            transition: transform 0.3s ease; /* Add scaling effect */
            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
        }
    
        .category-icon i {
            font-size: 36px;
            background: linear-gradient(45deg, #F9AD1F, #EB362D); /* Gradient background on the icon */
            -webkit-background-clip: text; /* Apply the gradient to the text */
            color: transparent; /* Make the text color transparent to show the gradient */
            margin-bottom: 10px;
            transition: transform 0.3s ease; /* Add scaling effect on hover */
        }
    
        .category-icon span {
            font-size: 14px;
            color: #333; /* Regular text color */
        }
    
        .category-icon:hover {
            transform: scale(1.1); /* Scaling effect on hover */
            cursor: pointer;
        }
    
        .category-icon:hover i {
            transform: scale(1.2); /* Zoom effect on icon */
        }
    
        /* Mobile view: Show icons and adjust layout */
        @media screen and (max-width: 768px) {
            .categories-container {
                display: flex; /* Show icons on mobile */
                flex-wrap: wrap;
                justify-content: center;
                gap: 15px;
                padding: 10px;
                margin-top: -60px;
                margin-bottom: 10px;
            }
    
            .category-icon {
                width: calc(50% - 20px); /* Two per row */
                height: 120px;
            }
    
            .category-icon i {
                font-size: 40px;
            }
    
            .category-icon span {
                font-size: 12px;
            }
        }
    </style>
    
    <style>
        
        @media screen and (max-width: 768px) {
            .categories-section h2{
                display: none; /* Hide "Popular Categories" on mobile */
            }
    
            .app-section h2{
                display: block; /* Show "Download Our App" on mobile */
            }
        }
    </style>
    <style>
        /* Base styles for larger screens (default) */
    .custom-form {
        margin-left: 140px;
        {% comment %} margin-top:5px; {% endcomment %}
       width:825px;
    }
    
    .input-inner {
        display: flex;
        justify-content: space-between;
    }
    
    .form-group {
        flex: 1;
        margin-right: 10px;
    }
    
    
    
    /* Responsive Styles */
    @media (max-width: 768px) {
        .custom-form {
            margin-left: 0; /* Remove left margin on mobile */
            margin-right: 20px; /* Optional: Add some right margin */
        }
        
        .input-inner {
            flex-direction: column; /* Stack input fields on mobile */
        }
        
        .form-group {
            margin-bottom: 15px;
            margin-right: 0;
        }
        
        .btn-box {
            text-align: center;
        }
    }
    
     </style>
        <style>
            /* Banner Section */
            #banner-section {
                background-size: cover;
                background-position: center;
                /* height:10px; */
                position: relative;
                transition: background-image 1s ease-in-out;
            }
            .banner-section{
      position: relative;
      padding: 17px 0px 18px 0px;
      width: 100%;
      background-size: cover;
      background-repeat: no-repeat;
      background-position: center;
    }
        
            #banner-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(60deg, #F9AD1F, #EB362D);
            -webkit-mask: linear-gradient(60deg, #F9AD1F, #EB362D);
            -webkit-mask-composite: destination-in;
            mask: linear-gradient(60deg, #F9AD1F, #EB362D);
            mask-composite: intersect;
            z-index: 1;
            opacity: 0.8; /* Reduce opacity for a lighter masking effect */
            pointer-events: none; /* Ensure the mask does not block interactions */
        }
        
            #banner-section .content-column {
                position: relative;
                z-index: 2;
            }
        
            #banner-section .image {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }
            /* Exclusive Offers Section */
            #exclusive-offers {
                position: relative;
                margin-top: 35px;
                background:#E6F0F9;
                color: #fff;
                height: 133px; /* Adjust as needed for the container's content */
                font-family: 'FontStyle1', Arial, sans-serif;
                font-size:14px;
            }
            
            /* Image Container */
            .image-container {
                position: relative;
                width: 300px;
                text-align: center; /* Center the image inside the container */
                margin-top: -280px;
                z-index: 1;
                margin-left:-20px;
            
            }
            
            .image-container .image {
                width: 300px;
                height: 414px; /* Maintain aspect ratio */
              
                
            }
            
            /* Content Section */
            .content-section {
                text-align:left;
            }
            
            .content-section h2 {
                {% comment %} font-size: 2rem; {% endcomment %}
                margin-top: 10px;
                color:black;
                font-family: 'FontStyle6', Arial, sans-serif;
                margin-left:-40px;
                
            }
            
            .content-section p {
                {% comment %} font-size: 1rem; {% endcomment %}
                line-height: 1.1;
                color: black;
                margin-left:-40px;
                font-size:12px;
                font-family: 'FontStyle6', Arial, sans-serif;
                word-wrap: break-word; /* Ensure text breaks appropriately */
            }
        /* Responsive Styles */
        @media (max-width: 768px) {
            /* Exclusive Offers Section */
            #exclusive-offers {
                height: auto; /* Adjust height to fit content */
                padding: 20px;
                margin-top: 10px;
            }
            .image-container .image {
                height: 50%;
              
                
            }
        
            /* Image Section */
            .image-container {
                margin-top: -150px; /* Adjust margin for smaller screens */
                right: 0;
                transform: none; /* Remove transform for better alignment */
                width: 60%; /* Reduce image size */
                margin: 0 auto; /* Center the image */
            }
        
            /* Content Section */
            .content-section {
                margin: 0 auto; /* Center the content section */
                padding: 10px;
                margin-top: 20px;
                text-align: center; /* Center-align text for mobile */
            }
        
            .content-section h2 {
                font-size: 1.5rem; /* Adjust heading size */
                text-align: center; /* Center heading */
            }
        
            .content-section p {
                font-size: 0.9rem; /* Adjust font size for readability */
                text-align: center; /* Center-align paragraph text */
                margin-left: 0; /* Remove unnecessary margin */
                max-width: 100%; /* Use full width */
            }
        }
        
        @media (max-width: 480px) {
            /* Further adjustments for very small screens */
            .image-container {
                margin-top: -45px;
                width: 80%; /* Reduce image size further */
            }
        
            .content-section h2 {
                font-size: 1.2rem;
            }
        
            .content-section p {
                font-size: 0.8rem;
            }
        }
        .about-paragraph{
            color:black;
        }
        .input{
            margin-top:3px;
        }
       
        
        </style>
           
        <div class="auto-container">
                   
            <!-- banner-section -->
            <section id="banner-section" class="banner-section centred">
                <div class="auto-container">
                    <div class="content-column">
                        <div class="content-box">
                            <div class="custom-form">
                                <form action="{% url 'hostel' %}" method="get">
                                    {% csrf_token %}
                                    <div class="form-group-row">
                                        <!-- Search Input -->
                                        <div class="form-group oval-container">
                                            <img src="{% static 'assets/images/Icons-02.png' %}" alt="Location Icon" class="location-icon3">
                                            <input class="input" type="search" name="name" placeholder="Search for Everything" value="{{ name_query }}">
                                        </div>
                                
                                        <!-- Vertical Divider -->
                                        <div class="vertical-divider"></div>
                                
                                                                   
    <!-- First Dropdown (Regions and Cities) -->
    <div class="form-group oval-container">
        <input class="chosen-value" type="text" 
        placeholder="{% if selected_city %}{{ selected_city }}{% elif selected_region %}{{ selected_region }}{% else %}Select Location{% endif %}" 
        data-dropdown="dropdown1">
    <img src="{% static 'assets/images/Icons-03.png' %}" alt="Location Icon" class="location-icon2">
    <ul class="value-list" id="dropdown1">
        <li onclick="selectCity('All Cities', '')" class="allcities">All Cities</li> 
        <li onclick="selectRegions('MS')" class="main-menu1" data-region="MS">
            Muscat
            <div class="submenus" style="max-height: 350px;overflow-y: auto;">
                <ul>
                    <li onclick="selectCitys('Al Amarat', 'MS')">Al Amarat</li>
                    <li onclick="selectCitys('Al Bustan', 'MS')">Al Bustan</li>
                    <li onclick="selectCitys('Al Ghubrah', 'MS')">Al Ghubrah</li>
                    <li onclick="selectCitys('Al Hail', 'MS')">Al Hail</li>
                    <li onclick="selectCitys('Al Hamriyah', 'MS')"> Al Hamriyah</li>
                    <li onclick="selectCitys('Al Khoud', 'MS')"> Al Khoud</li>
                    <li onclick="selectCitys('Al Khuwair', 'MS')">Al Khuwair</li>
                    <li onclick="selectCitys('Al Maabilah', 'MS')"> Al Maabilah</li>
                    <li onclick="selectCitys('Al Mawaleh', 'MS')">Al Mawaleh</li>
                    <li onclick="selectCitys('Al Rusayl', 'MS')">Al Rusayl</li>
                    <li onclick="selectCitys('Al Seeb', 'MS')">Al Seeb</li>
                    <li onclick="selectCitys('Al Sifah', 'MS')">Al Sifah</li>
                    <li onclick="selectCitys('Al Wadi Al Kabir', 'MS')">Al Wadi Al Kabir</li>
                    <li onclick="selectCitys('Ansab', 'MS')">Ansab</li>
                    <li onclick="selectCitys('Azaiba', 'MS')">Azaiba</li>
                    <li onclick="selectCitys('Barr Al Jissah', 'MS')">Barr Al Jissah</li>
                    <li onclick="selectCitys('Bosher', 'MS')">Bosher</li>
                    <li onclick="selectCitys('Darsait', 'MS')"> Darsait</li>
                    <li onclick="selectCitys('Ghala', 'MS')"> Ghala</li>
                    <li onclick="selectCitys('Madinat As Sultan Qaboos', 'MS')"> Madinat As Sultan Qaboos</li>
                    <li onclick="selectCitys('Misfah', 'MS')"> Misfah</li>
                    <li onclick="selectCitys('Muscat - Other', 'MS')">Muscat - Other</li>
                    <li onclick="selectCitys('Muscat Hills', 'MS')">Muscat Hills</li>
                    <li onclick="selectCitys('Mutrah', 'MS')">Mutrah</li>
                    <li onclick="selectCitys('Qantab', 'MS')">Qantab</li>
                    <li onclick="selectCitys('Qurayyat', 'MS')">Qurayyat</li>
                    <li onclick="selectCitys('Qurum', 'MS')">Qurum</li>
                    <li onclick="selectCitys('Ruwi', 'MS')">Ruwi</li>
                    <li onclick="selectCitys('Sadab', 'MS')">Sadab</li>
                    <li onclick="selectCitys('Sultan Haitham City', 'MS')">Sultan Haitham City</li>
                    <li onclick="selectCitys('The Wave (Almouj)', 'MS')"> The Wave (Almouj)</li>
                    <li onclick="selectCitys('Yiti', 'MS')"> Yiti</li>
                </ul>
            </div>
        </li>
        <li class="main-menu1" data-region="DH">
            Dhofar
            <div class="submenus">
                <ul>
                    <li onclick="selectCity('Al Mazyona', 'DH')">Al Mazyona</li>
                    <li onclick="selectCity('Dhalkut', 'DH')"> Dhalkut</li>
                    <li onclick="selectCity('Mirbat', 'DH')">Mirbat</li>
                    <li onclick="selectCity('Muqshin', 'DH')">Muqshin</li>
                    <li onclick="selectCity('Rakhyut', 'DH')">Rakhyut</li>
                    <li onclick="selectCity('Sadah', 'DH')">Sadah</li>
                    <li onclick="selectCity('Salalah', 'DH')">Salalah</li>
                    <li onclick="selectCity('Shalim and The Hallaniyat', 'DH')">Shalim and The Hallaniyat</li>
                    <li onclick="selectCity('Taqaht', 'DH')">Taqaht</li>
                    <li onclick="selectCity('Thumrait', 'DH')">Thumrait</li>
                </ul>
            </div>
        </li>
        <li class="main-menu1" data-region="BT">
            Al Batinah
            <div class="submenus">
                <ul>
                    <li onclick="selectCity('Al 'Awabi', 'BT')"> Al 'Awabi</li>
                    <li onclick="selectCity('Al Khaboura', 'BT')">Al Khaboura</li>
                    <li onclick="selectCity('Al Masn'a', 'BT')">Al Masn'a</li>
                    <li onclick="selectCity('Al Rustaq', 'BT')">Al Rustaq</li>
                    <li onclick="selectCity('Barka', 'BT')">Barka</li>
                    <li onclick="selectCity('Liwa', 'BT')">Liwa</li>
                    <li onclick="selectCity('Nakhl', 'BT')">Nakhl</li>
                    <li onclick="selectCity('Saham', 'BT')">Saham</li>
                    <li onclick="selectCity('Shinas', 'BT')">Shinas</li>
                    <li onclick="selectCity('Sohar', 'BT')">Sohar</li>
                    <li onclick="selectCity('Suwaiq', 'BT')">Suwaiq</li>
                    <li onclick="selectCity('Wadi Al Ma'awal', 'BT')">Wadi Al Ma'awal</li>
                </ul>
            </div>
        </li>
        <li class="main-menu1" data-region="DA"> 
            Al Dakhiliya 
            <div class="submenus">
                <ul>
                    <li onclick="selectCity('Adam', 'DA')">Adam</li>
                    <li onclick="selectCity('Bahla', 'DA')">Bahla</li>
                    <li onclick="selectCity('Bidbid', 'DA')">Bidbid</li>
                    <li onclick="selectCity('Hamra', 'DA')">Hamra</li>
                    <li onclick="selectCity('Izki', 'DA')">Izki</li>
                    <li onclick="selectCity('Manah', 'DA')">Manah</li>
                    <li onclick="selectCity('Nizwa', 'DA')">Nizwa</li>
                    <li onclick="selectCity('Sumail', 'DA')">Sumail</li>
                </ul>
            </div>
        </li>
        <li class="main-menu1" data-region="SH">
            Al Sharqiya 
            <div class="submenus" style="max-height: 200px;overflow-y: auto;">
                <ul>
                    <li onclick="selectCity('Al Kamil and Al Waafi', 'SH')">Al Kamil and Al Waafi</li>
                    <li onclick="selectCity('Al Mudaibi', 'SH')"> Al Mudaibi</li>
                    <li onclick="selectCity('Al Qabil', 'SH')">Al Qabil</li>
                    <li onclick="selectCity('Bidiya', 'SH')">Bidiya</li>
                    <li onclick="selectCity('Dima and Al Taaiyin', 'SH')">Dima and Al Taaiyin</li>
                    <li onclick="selectCity('Ibra', 'SH')">Ibra</li>
                    <li onclick="selectCity('Ja'alan Bani Bu Ali', 'SH')">Ja'alan Bani Bu Ali</li>
                    <li onclick="selectCity('Jalan Bani Buhassan', 'SH')">Jalan Bani Buhassan</li>
                    <li onclick="selectCity('Masira', 'SH')">Masira</li>
                    <li onclick="selectCity('Sur', 'SH')">Sur</li>
                    <li onclick="selectCity('Wadi Bani Khalid', 'SH')">Wadi Bani Khalid</li>
                </ul>
            </div>
        </li>
        <li class="main-menu1" data-region="BR">
            Al Buraimi
            <div class="submenus">
                <ul>
                    <li onclick="selectCity('Al Buraimi', 'BR')">Al Buraimi</li>
                    <li onclick="selectCity('Al Sinainah', 'BR')">Al Sinainah</li>
                    <li onclick="selectCity('Mahdhah', 'BR')">Mahdhah</li>
                </ul>
            </div>
        </li>
        <li class="main-menu1" data-region="ZU">
            Al Dhahirah 
            <div class="submenus">
                <ul>
                    <li onclick="selectCitys('Dhank', 'ZU')">Dhank</li>
                    <li onclick="selectCitys('Ibri', 'ZU')">Ibri</li>
                    <li onclick="selectCitys('Yunqul', 'ZU')">Yunqul</li>
                </ul>
            </div>
        </li>
        <li class="main-menu1" data-region="DZ">
            Musandam 
            <div class="submenus">
                <ul>
                    <li onclick="selectCitys('Bukha', 'DZ')">Bukha</li>
                    <li onclick="selectCitys('Dibba', 'DZ')">Dibba</li>
                    <li onclick="selectCitys('Khasab', 'DZ')">Khasab</li>
                    <li onclick="selectCitys('Madha', 'DZ')">Madha</li>
                </ul>
            </div>
        </li>
        <li class="main-menu1" data-region="WT">
            Al Wusta 
            <div class="submenus" style="margin-top: -40px;">
                <ul>
                    <li onclick="selectCitys('Al Duqum', 'WT')">Al Duqum</li>
                    <li onclick="selectCitys('Al Jazur', 'WT')">Al Jazur</li>
                    <li onclick="selectCitys('Haima', 'WT')">Haima</li>
                    <li onclick="selectCitys('Mahut', 'WT')">Mahut</li>
                </ul>
            </div>
        </li>
    </ul>
    
    
    </div>
                                        <!-- Vertical Divider -->
                                        <div class="vertical-divider"></div>
                                
                                        <!-- Second Dropdown (Categories) -->
                                        <div class="form-group oval-container">
                                            <input class="chosen-value" type="text" placeholder="Properties" data-dropdown="dropdown2">
                                            <img src="{% static 'assets/images/Icons-04.png' %}" alt="Location Icon" class="location-icon2">
                                            <ul class="value-list" id="dropdown2">
                                                <li class="main-menu1" data-url="/index2/">Motors</li>
                                                <li class="main-menu1" data-url="/index3/">Properties</li>
                                                <li class="main-menu1" data-url="/job/">Job</li>
                                                <li class="main-menu1" data-url="/fashion">Fashion</li>
                                                <li class="main-menu1" data-url="/toys">Toys</li>
                                                <li class="main-menu1" data-url="/food">Food</li>
                                                <li class="main-menu1" data-url="/fitness">Fitness</li>
                                                <li class="main-menu1" data-url="/pets">Pets</li>
                                                <li class="main-menu1" data-url="/books">Books</li>
                                                <li class="main-menu1" data-url="/appliances">Appliances</li>
                                                <li class="main-menu1" data-url="/index6">Electronics</li>
                                                <li class="main-menu1" data-url="/community/">Services</li>  
                                            </ul>
                                        </div>
                                
                                        <!-- Submit Button -->
                                        <div class="btn-box oval-container">
                                            <button type="submit" class="theme-btn-one">Search</button>
                                        </div>
                                    </div>
                                </form>
                                <script>
                                    document.addEventListener('DOMContentLoaded', function () {
                                        const dropdownInputs = document.querySelectorAll('.chosen-value');
                                        const dropdownLists = document.querySelectorAll('.value-list');
                                    
                                        dropdownInputs.forEach(input => {
                                            const dropdownId = input.getAttribute('data-dropdown');
                                            const dropdown = document.getElementById(dropdownId);
                                    
                                            // Toggle dropdown visibility on click
                                            input.addEventListener('click', (event) => {
                                                event.stopPropagation(); // Prevent the click from propagating to the document
                                                dropdownLists.forEach(dropdown => dropdown.classList.remove('open')); // Close other dropdowns
                                                dropdown.classList.toggle('open');
                                            });
                                     // Handle clicks on category items
                                     dropdown.querySelectorAll('.main-menu1[data-url]').forEach(item => {
                                        item.addEventListener('click', (event) => {
                                            const url = item.getAttribute('data-url');
                                            if (url) {
                                                window.location.href = url;
                                            }
                                        });
                                    });
                                            // Prevent dropdown from closing when clicking inside
                                            dropdown.addEventListener('mousedown', (event) => {
                                                event.stopPropagation();
                                            });
                       // Handle clicks on region items
dropdown.querySelectorAll('.main-menu1[data-region]').forEach(item => {
    item.addEventListener('click', (event) => {
        event.stopPropagation(); // Prevent the click from propagating to the document
        const region = item.getAttribute('data-region');
        selectRegion(region); // Call the selectRegion function

        // Update the input field with the selected region only
        input.value = regionName; // Update the input with the selected region

        // Create a new URL object based on the current URL
        const url = new URL(window.location.href);
        url.searchParams.set('region', region); // Set the region parameter
        
        // Clear the city parameter if it exists
        url.searchParams.delete('city'); // Remove the city parameter if it exists
        
        window.location.href = url; // Redirect to the updated URL

        // Close the dropdown after selection
        dropdown.classList.remove('open');
    });

    // Handle clicks on submenu items (cities)
    item.querySelectorAll('ul li').forEach(subItem => {
        subItem.addEventListener('click', (event) => {
            event.stopPropagation(); // Prevent the click from propagating to the document
            const city = subItem.textContent; // Get the city name from the text content
            const region = item.getAttribute('data-region'); // Get the region from the parent item

            selectCity(city); // Call the selectCity function

            // Update the input field with the selected city and region
            input.value = `${city}`; // Update the input with city and region

            // Create a new URL object based on the current URL
            const url = new URL(window.location.href);
            url.searchParams.set('region', region); // Set the region parameter
            url.searchParams.set('city', city); // Set the city parameter
            window.location.href = url; // Redirect to the updated URL

            // Close the dropdown after selection
            dropdown.classList.remove('open');
        });
    });
});                 
                                           // Filter dropdown items based on input
// Filter dropdown items based on input
input.addEventListener('input', () => {
    const filter = input.value.toLowerCase();
    const items = dropdown.querySelectorAll('li');

    items.forEach(item => {
        const text = item.firstChild.textContent.toLowerCase();
        let matchFound = text.includes(filter);

        // Check submenu items if the main item doesn't match
        if (!matchFound && item.querySelector('.submenus')) {
            const subItems = item.querySelectorAll('.submenus ul li');
            subItems.forEach(subItem => {
                const subText = subItem.textContent.toLowerCase();
                if (subText.includes(filter)) {
                    matchFound = true;
                }
            });
        }

        // Show the main menu item if it or any of its submenu items match
        if (matchFound) {
            item.style.display = 'block';
            // Expand the main menu item if it has submenus
            if (item.classList.contains('main-menu1') && item.querySelector('.submenus')) {
                item.classList.add('open'); // Add a class to expand the main menu
                item.querySelector('.submenus').style.display = 'block'; // Show submenus
            }
        } else {
            item.style.display = 'none';
            // Hide submenus if the main menu item is not matched
            if (item.querySelector('.submenus')) {
                item.querySelector('.submenus').style.display = 'none';
                item.classList.remove('open'); // Optionally remove the class to indicate submenus are hidden
            }
        }
    });

    // If the input is empty, show all main menu items and hide all submenus
    if (filter === '') {
        items.forEach(item => {
            item.style.display = 'block'; // Show all main menu items
            if (item.querySelector('.submenus')) {
                item.querySelector('.submenus').style.display = 'none'; // Hide all submenus
                item.classList.remove('open'); // Optionally remove the class to indicate submenus are hidden
            }
        });
    }
});                       
                                            // Show submenus on hover
                                            dropdown.querySelectorAll('.main-menu1').forEach(item => {
                                                item.addEventListener('mouseenter', () => {
                                                    if (item.querySelector('.submenus')) {
                                                        item.querySelector('.submenus').style.display = 'block';
                                                    }
                                                });
                                
                                                item.addEventListener('mouseleave', () => {
                                                    if (item.querySelector('.submenus')) {
                                                        item.querySelector('.submenus').style.display = 'none';
                                                    }
                                                });
                                            });
                                            // Close dropdown when mouse leaves the dropdown container
                                            dropdown.addEventListener('mouseout', (event) => {
                                                // Check if the mouse is leaving the dropdown container
                                                if (!dropdown.contains(event.relatedTarget)) {
                                                    dropdown.classList.remove('open');
                                                }
                                            });
                                        });
                                    
                                        // Close dropdown if clicking outside
                                        document.addEventListener('click', (event) => {
                                            if (!event.target.matches('.chosen-value')) {
                                                dropdownLists.forEach(dropdown => dropdown.classList.remove('open'));
                                            }
                                        });
                                    });
                                    // Handle clicks on category items
                                    dropdown.querySelectorAll('.main-menu1[data-url]').forEach(item => {
                                        item.addEventListener('click', (event) => {
                                            const url = item.getAttribute('data-url');
                                            if (url) {
                                                window.location.href = url;
                                            }
                                        });
                                    });
                            
                                    // Example function to select a region
                                    function selectRegions(region) {
                                        console.log(`Region selected: ${region}`);
                                        // Additional logic for selecting a region
                                    }
                                    
                                    // Example function to select a city
                                    function selectCitys(city) {
                                        console.log(`City selected: ${city}`);
                                        // Additional logic for selecting a city
                                    }
                                </script>
                                <style>
                                    .form-group-row {
                                        display: flex;
                                        align-items: center;
                                        background-color: rgb(255, 255, 255);
                                        padding: 10px;
                                        border-radius: 50px;
                                        border: 1px solid #ccc;
                                    }
                                
                                    .oval-container {
                                        flex: 1;
                                        position: relative;
                                        padding: 10px;
                                        display: flex;
                                        align-items: center;
                                        gap: 10px;
                                        height: 20px;
                                    }
                                
                                   .chosen-value {
                                        width: 100%;
                                        padding-left: 27px;
                                        padding-top:15px;
                                        font-size: 12px;
                                        font-family: 'FontStyle6', Arial, sans-serif;
                                        border: none;
                                        background: transparent;
                                        outline: none;
                                    }
                                    .input {
                                        width: 100%;
                                        padding-left: 27px;
                                        padding-top:15px;
                                        font-size: 13px;
                                        font-family: 'FontStyle6', Arial, sans-serif;
                                        border: none;
                                        background: transparent;
                                        outline: none;
                                    }
                                    .location-icon2 {
                                        position: absolute;
                                        margin-top:6px;
                                        z-index: 1;
                                       
                                    }
                                    .location-icon1 {
                                        position: absolute;
                                        margin-left:4px;
                                        z-index: 1;
                                        height:23px;
                                       
                                    }
                                    .location-icon3 {
                                        position: absolute;
                                        margin-left:-35px;
                                       
                                    }
                                
                                    .value-list {
                                        position: absolute;
                                        top: 45px;
                                        left: 0;
                                        width: 225px;
                                        font-family: 'FontStyle6', Arial, sans-serif;
                                        font-size: 13px;
                                        background-color: #fff;
                                        border: 1px solid #ccc;
                                        border-top: none;
                                        list-style: none;
                                        margin-left:-10px;
                                        z-index: 1000;
                                        display: none;
                                    }
                                
                                    .value-list.open {
                                        display: block;
                                    }
                                
                                    .value-list li {
                                        padding: 10px;
                                        cursor: pointer;
                                        transition: background-color 0.3s;
                                        position: relative;
                                    }
                                
                                    .value-list li:hover {
                                        background-color: #f0f0f0;
                                        color: #E35D20;
                                    }
                                
                                    /* Submenu Styles */
                                    .submenus {
                                        display: none;
                                        position: absolute;
                                        left: 100%;
                                        top: 0px;
                                        font-family: 'FontStyle6', Arial, sans-serif;
                                        font-size: 13px;
                                        background-color: #fff;
                                        {% comment %} border: 1px solid #ccc; {% endcomment %}
                                        padding: 10px;
                                        width: 400px;
                                        z-index: 1001;
                                    }
                                
                                    .value-list li:hover .submenus {
                                        display: block;
                                    }
                                
                                    .submenus ul {
                                        list-style: none;
                                        padding: 0;
                                        margin: 0;
                                    }
                                
                                    .submenus li {
                                        padding: 5px 10px;
                                        cursor: pointer;
                                        transition: background-color 0.3s;
                                        color: black;
                                    }
                                    .main-menu1 .submenus {
                                        display: none; /* Hide submenus by default */
                                    }
                                    
                                    .main-menu1.open .submenus {
                                        display: block; /* Show submenus when the main menu item is open */
                                    }
                                    .submenus li:hover {
                                        background-color: #f0f0f0;
                                        color: #E35D20;
                                    }
                                
                                    .vertical-divider {
                                        width: 1px;
                                        height: 40px;
                                        background-color: #ccc;
                                        margin: 0 10px;
                                    }
                                
                                    .btn-box {
                                        flex: 0 0 auto;
                                    }
                                
                                    .theme-btn-one {
                                     
                                        color: #fff;
                                        border: none;
                                        border-radius: 50px;
                                        cursor: pointer;
                                        width: 130px;
                                      
                                    }
                                     /* Mobile Responsive Styling */
@media (max-width: 768px) {
    .form-group-row {
        display: flex;
        flex-direction: column;
        align-items: stretch;
        background-color: #fff;
        padding: 8px;
        border-radius: 10px;
        border: 1px solid #ccc;
        width: 38%;
        margin-top: -75px;
    }

    .oval-container {
        display: flex;
        align-items: center;
        gap: 5px;
        padding: 5px;
        width: 100%;
        position: relative;
    }

    .input, .chosen-value {
        width: 100%;
        font-size: 12px;
        
        border: none;
        background: transparent;
        outline: none;
    }
     .location-icon3{
        position: absolute;
        left: 37px;
        height: 15px;
        margin-top: 10px;


     }

    .location-icon1, .location-icon2 {
        position: absolute;
        left: 5px;
        height: 15px;
    }

    .value-list {
        position: absolute;
        top: 100%;
        left: 0;
        width: 100%;
        background-color: #fff;
        border: 1px solid #ccc;
        list-style: none;
        z-index: 1000;
        display: none;
    }

    .value-list.open {
        display: block;
    }

    .value-list li {
        padding: 6px;
        cursor: pointer;
        transition: background-color 0.3s;
    }

    .value-list li:hover {
        background-color: #f0f0f0;
        color: #E35D20;
    }

    .submenus {
        display: none;
        position: absolute;
        left: 100%;
        top: 0;
        background-color: #fff;
        padding: 6px;
        width: 100%;
        z-index: 1001;
    }

    .value-list li:hover .submenus {
        display: block;
    }

    .submenus li {
        padding: 4px 6px;
        cursor: pointer;
        transition: background-color 0.3s;
        color: black;
    }

    .submenus li:hover {
        background-color: #f0f0f0;
        color: #E35D20;
    }

   

    .theme-btn-one {
        color: #fff;
       
        cursor: pointer;
       
       
        text-align: center;
        margin-top: -10px;
      
    }
.vertical-divider{
    display: none;
}
}

                                   
                            </style>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="dual-ad-loop-box">
                <style>
                    .dual-ad-loop-box {
                        width: 100%;
                        padding: 15px 0;
                        box-sizing: border-box;
                        display: flex;
                        justify-content: center;
                        margin: 0 auto;
                    }
            
                    .dual-ad-loop-box .swiper-container {
                        width: 100%;
                        max-width: 1200px;
                        margin: 0 auto;
                        height: 250px;
                        padding: 0; /* Further reduced padding */
                    }
            
                    .dual-ad-loop-box .swiper-wrapper {
                        align-items: center;
                    }
            
                    .dual-ad-loop-box .swiper-slide {
                        width: calc(50% - 3px) !important; /* Reduced gap to just 3px */
                        height: 230px;
                        transition: all 0.4s ease;
                        opacity: 1;
                    }
            
                    .dual-ad-loop-box .swiper-slide:not(.swiper-slide-visible) {
                        opacity: 0;
                        pointer-events: none;
                    }
            
                    .dual-ad-loop-box .ad-box {
                        width: 100%;
                        height: 100%;
                        border-radius: 10px;
                        overflow: hidden;
                        box-shadow: 0 3px 10px rgba(0,0,0,0.1);
                        border: 1px solid #eee;
                        background: white;
                        transition: all 0.3s ease;
                    }
            
                    .dual-ad-loop-box .ad-box:hover {
                        transform: translateY(-5px);
                        box-shadow: 0 5px 15px rgba(0,0,0,0.1);
                    }
            
                    .dual-ad-loop-box .ad-box img {
                        width: 100%;
                        height: 100%;
                        object-fit: cover;
                    }
            
                    @media (max-width: 768px) {
                        .dual-ad-loop-box .swiper-container {
                            height: 220px;
                            padding: 0 5px; /* Minimal padding on mobile */
                        }
            
                        .dual-ad-loop-box .swiper-slide {
                            height: 200px;
                            width: calc(50% - 2px) !important; /* Nearly touching on mobile */
                        }
                    }
                </style>
            
                <div class="swiper-container">
                    <div class="swiper-wrapper">
                        {% for advertisement in advertisement %}
                        <div class="swiper-slide">
                            <div class="ad-box">
                                <a href="{{ advertisement.url }}" target="_blank" {% if not advertisement.url %}onclick="return false;"{% endif %}>
                                    <img src="{{ advertisement.image.url }}" alt="Advertisement">
                                </a>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
            
                <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
                <script>
                    document.addEventListener('DOMContentLoaded', function () {
                        const swiper = new Swiper('.dual-ad-loop-box .swiper-container', {
                            slidesPerView: 2,
                            spaceBetween: 6, /* Very small gap - 6px */
                            loop: true,
                            autoplay: {
                                delay: 3000,
                                disableOnInteraction: false,
                            },
                            breakpoints: {
                                320: {
                                    spaceBetween: 3 /* Almost touching on mobile */
                                },
                                768: {
                                    spaceBetween: 6 
                                }
                            },
                            on: {
                                init: function () {
                                    updateVisibleSlides(this);
                                },
                                slideChange: function () {
                                    updateVisibleSlides(this);
                                }
                            }
                        });
            
                        function updateVisibleSlides(swiperInstance) {
                            const slides = swiperInstance.slides;
                            slides.forEach(slide => {
                                slide.classList.remove('swiper-slide-visible');
                            });
            
                            const visibleIndices = [swiperInstance.activeIndex, swiperInstance.activeIndex + 1];
                            visibleIndices.forEach(index => {
                                const slide = slides[index % slides.length];
                                if (slide) {
                                    slide.classList.add('swiper-slide-visible');
                                }
                            });
                        }
                    });
                </script>
            </section>

<div class="auto-container">
    <div class="row clearfix">
        <form action="{% url 'hostel' %}" method="GET">
            <div class="filter-form">
                <div class="filter-box">
                    <!-- City Dropdown -->
                    <div class="filter-item" id="toggle-regions-filter">
                        <label for="regions">Region</label>
                        <i class="fas fa-chevron-down dropdown-icons"></i>
                        <input type="text" name="regions" id="selected-city" placeholder="Select City" readonly>
                    </div>
 <!-- Regions & Cities List Container -->
 <div id="regions-list-container" class="regions-list-container">
    <button id="back-to-oman" style="display: none;">Back to Regions</button>
  <button id="clear-selected-city" class="clear-button" style="display: none;">Clear</button> 
    

    <input type="text" id="city_search" placeholder="Search Regions.." />
    <div class="regions-lists">
        <ul id="region-list">
            <li class="region-item" data-region="Muscat">Muscat
                <ul class="city-list">
                    <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" class="hidden-checkbox select-all-cities" data-region="Muscat" id="select-all-muscat">
                        <label for="select-all-muscat" class="oval-button">Select All</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Bustan" id="al-bustan" class="hidden-checkbox">
                        <label for="al-bustan" class="oval-button">Al Bustan</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Ghubrah" id="al-ghubrah" class="hidden-checkbox">
                        <label for="al-ghubrah" class="oval-button">Al Ghubrah</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Hail" id="al-hail" class="hidden-checkbox">
                        <label for="al-hail" class="oval-button">Al Hail</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Mutrah" id="mutrah" class="hidden-checkbox">
                        <label for="mutrah" class="oval-button">Mutrah</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Qurum" id="qurum" class="hidden-checkbox">
                        <label for="qurum" class="oval-button">Qurum</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Muscat" id="muscat" class="hidden-checkbox">
                        <label for="muscat" class="oval-button">Muscat</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Amarat" id="al-amarat" class="hidden-checkbox">
                        <label for="al-amarat" class="oval-button">Al Amarat</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Hamriyah" id="al-hamriyah" class="hidden-checkbox">
                        <label for="al-hamriyah" class="oval-button">Al Hamriyah</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Khoud" id="al-khoud" class="hidden-checkbox">
                        <label for="al-khoud" class="oval-button">Al Khoud</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Khuwair" id="al-khuwair" class="hidden-checkbox">
                        <label for="al-khuwair" class="oval-button">Al Khuwair</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Maabilah" id="al-maabilah" class="hidden-checkbox">
                        <label for="al-maabilah" class="oval-button">Al Maabilah</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Mawaleh" id="al-mawaleh" class="hidden-checkbox">
                        <label for="al-mawaleh" class="oval-button">Al Mawaleh</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Rusayl" id="al-rusayl" class="hidden-checkbox">
                        <label for="al-rusayl" class="oval-button">Al Rusayl</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Seeb" id="al-seeb" class="hidden-checkbox">
                        <label for="al-seeb" class="oval-button">Al Seeb</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Sifah" id="al-sifah" class="hidden-checkbox">
                        <label for="al-sifah" class="oval-button">Al Sifah</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Wadi Al Kabir" id="al-wadi-al-kabir" class="hidden-checkbox">
                        <label for="al-wadi-al-kabir" class="oval-button">Al Wadi Al Kabir</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Ansab" id="ansab" class="hidden-checkbox">
                        <label for="ansab" class="oval-button">Ansab</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Azaiba" id="azaiba" class="hidden-checkbox">
                        <label for="azaiba" class="oval-button">Azaiba</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Barr Al Jissah" id="barr-al-jissah" class="hidden-checkbox">
                        <label for="barr-al-jissah" class="oval-button">Barr Al Jissah</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Bosher" id="bosher" class="hidden-checkbox">
                        <label for="bosher" class="oval-button">Bosher</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Darsait" id="darsait" class="hidden-checkbox">
                        <label for="darsait" class="oval-button">Darsait</label>
                    </li>
             
               
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Ghala" id="ghala" class="hidden-checkbox">
                        <label for="ghala" class="oval-button">Ghala</label>
                    </li>
                </div>
                    <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Madinat As Sultan Qaboos" id="madinat-as-sultan-qaboos" class="hidden-checkbox">
                        <label for="madinat-as-sultan-qaboos" class="oval-button">Madinat As Sultan Qaboos</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Misfah" id="misfah" class="hidden-checkbox">
                        <label for="misfah" class="oval-button">Misfah</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Muscat - Other" id="muscat-other" class="hidden-checkbox">
                        <label for="muscat-other" class="oval-button">Muscat - Other</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Muscat Hills" id="muscat-hills" class="hidden-checkbox">
                        <label for="muscat-hills" class="oval-button">Muscat Hills</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Qantab" id="qantab" class="hidden-checkbox">
                        <label for="qantab" class="oval-button">Qantab</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Qurayyat" id="qurayyat" class="hidden-checkbox">
                        <label for="qurayyat" class="oval-button">Qurayyat</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Ruwi" id="ruwi" class="hidden-checkbox">
                        <label for="ruwi" class="oval-button">Ruwi</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Sadab" id="sadab" class="hidden-checkbox">
                        <label for="sadab" class="oval-button">Sadab</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Sultan Haitham City" id="sultan-haitham-city" class="hidden-checkbox">
                        <label for="sultan-haitham-city" class="oval-button">Sultan Haitham City</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="The Wave (Almouj)" id="the-wave-almouj" class="hidden-checkbox">
                        <label for="the-wave-almouj" class="oval-button">The Wave (Almouj)</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Yiti" id="yiti" class="hidden-checkbox">
                        <label for="yiti" class="oval-button">Yiti</label>
                    </li>
                </div>
                </ul>
            </li>
            <li class="region-item" data-region="Dhofar">Dhofar
                <ul class="city-list">
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" class="hidden-checkbox select-all-cities" data-region="Dhofar" id="select-all-dhofar">
                        <label for="select-all-dhofar" class="oval-button">Select All</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Salalah" id="salalah" class="hidden-checkbox">
                        <label for="salalah" class="oval-button">Salalah</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Mirbat" id="mirbat" class="hidden-checkbox">
                        <label for="mirbat" class="oval-button">Mirbat</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Sadah" id="sadah" class="hidden-checkbox">
                        <label for="sadah" class="oval-button">Sadah</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Taqah" id="taqah" class="hidden-checkbox">
                        <label for="taqah" class="oval-button">Taqah</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Al Mazyona" id="al-mazyona" class="hidden-checkbox">
                        <label for="al-mazyona" class="oval-button">Al Mazyona</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Dhalkut" id="dhalkut" class="hidden-checkbox">
                        <label for="dhalkut" class="oval-button">Dhalkut</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Muqshin" id="muqshin" class="hidden-checkbox">
                        <label for="muqshin" class="oval-button">Muqshin</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Rakhyut" id="rakhyut" class="hidden-checkbox">
                        <label for="rakhyut" class="oval-button">Rakhyut</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Shalim and The Hallaniyat" id="shalim-hallaniyat" class="hidden-checkbox">
                        <label for="shalim-hallaniyat" class="oval-button">Shalim and The Hallaniyat</label>
                    </li>
                </div>
                <div class="checkbox-row">
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Taqaht" id="taqaht" class="hidden-checkbox">
                        <label for="taqaht" class="oval-button">Taqaht</label>
                    </li>
                    <li class="oval-button-group">
                        <input type="checkbox" data-city="Thumrait" id="thumrait" class="hidden-checkbox">
                        <label for="thumrait" class="oval-button">Thumrait</label>
                    </li>
                </div>
                </ul>
            </li>
<li class="region-item" data-region="Al Batinah">Al Batinah
<ul class="city-list">
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" class="hidden-checkbox select-all-cities" data-region="Al Batinah" id="select-all-batinah">
    <label for="select-all-batinah" class="oval-button">Select All</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Barka" id="barka" class="hidden-checkbox">
    <label for="barka" class="oval-button">Barka</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Rustaq" id="rustaq" class="hidden-checkbox">
    <label for="rustaq" class="oval-button">Rustaq</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Suwaiq" id="suwaiq" class="hidden-checkbox">
    <label for="suwaiq" class="oval-button">Suwaiq</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Shinas" id="shinas" class="hidden-checkbox">
    <label for="shinas" class="oval-button">Shinas</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Al 'Awabi" id="al-awabi" class="hidden-checkbox">
    <label for="al-awabi" class="oval-button">Al 'Awabi</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Al Khaboura" id="al-khaboura" class="hidden-checkbox" >
    <label for="al-khaboura" class="oval-button">Al Khaboura</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Al Masn'a" id="al-masna" class="hidden-checkbox">
    <label for="al-masna" class="oval-button">Al Masn'a</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Liwa" id="liwa" class="hidden-checkbox">
    <label for="liwa" class="oval-button">Liwa</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Nakhl" id="nakhl" class="hidden-checkbox">
    <label for="nakhl" class="oval-button">Nakhl</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Saham" id="saham" class="hidden-checkbox">
    <label for="saham" class="oval-button">Saham</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Sohar" id="sohar" class="hidden-checkbox">
    <label for="sohar" class="oval-button">Sohar</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Wadi Al Ma'awal" id="wadi-al-maawal" class="hidden-checkbox">
    <label for="wadi-al-maawal" class="oval-button">Wadi Al Ma'awal</label>
</li>
</div>
</ul>
</li>
<li class="region-item" data-region="Al Dakhiliya">Al Dakhiliya
<ul class="city-list">
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" class="hidden-checkbox select-all-cities" data-region="Al Dakhiliya" id="select-all-dakhiliya">
    <label for="select-all-dakhiliya" class="oval-button">Select All</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Adam" id="adam" class="hidden-checkbox">
    <label for="adam" class="oval-button">Adam</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Bahla" id="bahla" class="hidden-checkbox">
    <label for="bahla" class="oval-button">Bahla</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Bidbid" id="bidbid" class="hidden-checkbox">
    <label for="bidbid" class="oval-button">Bidbid</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Hamra" id="hamra" class="hidden-checkbox">
    <label for="hamra" class="oval-button">Hamra</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Izki" id="izki" class="hidden-checkbox">
    <label for="izki" class="oval-button">Izki</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Manah" id="manah" class="hidden-checkbox">
    <label for="manah" class="oval-button">Manah</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Nizwa" id="nizwa" class="hidden-checkbox">
    <label for="nizwa" class="oval-button">Nizwa</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Sumail" id="sumail" class="hidden-checkbox">
    <label for="sumail" class="oval-button">Sumail</label>
</li>
</div>
</ul>
</li>
<li class="region-item" data-region="Al Sharqiya">Al Sharqiya
<ul class="city-list">
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" class="hidden-checkbox select-all-cities" data-region="Al Sharqiya" id="select-all-sharqiya">
    <label for="select-all-sharqiya" class="oval-button">Select All</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Al Kamil and Al Waafi" id="al-kamil-waafi" class="hidden-checkbox">
    <label for="al-kamil-waafi" class="oval-button">Al Kamil and Al Waafi</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Al Mudaibi" id="al-mudaibi" class="hidden-checkbox">
    <label for="al-mudaibi" class="oval-button">Al Mudaibi</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Al Qabil" id="al-qabil" class="hidden-checkbox">
    <label for="al-qabil" class="oval-button">Al Qabil</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Bidiya" id="bidiya" class="hidden-checkbox">
    <label for="bidiya" class="oval-button">Bidiya</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Dima and Al Taaiyin" id="dima-taaiyin" class="hidden-checkbox">
    <label for="dima-taaiyin" class="oval-button">Dima and Al Taaiyin</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Ibra" id="ibra" class="hidden-checkbox">
    <label for="ibra" class="oval-button">Ibra</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Ja'alan Bani Bu Ali" id="jaalan-bani-bu-ali" class="hidden-checkbox">
    <label for="jaalan-bani-bu-ali" class="oval-button">Ja'alan Bani Bu Ali</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Jalan Bani Buhassan" id="jalan-bani-buhassan" class="hidden-checkbox">
    <label for="jalan-bani-buhassan" class="oval-button">Jalan Bani Buhassan</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Masira" id="masira" class="hidden-checkbox">
    <label for="masira" class="oval-button">Masira</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Sur" id="sur" class="hidden-checkbox">
    <label for="sur" class="oval-button">Sur</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Wadi Bani Khalid" id="wadi-bani-khalid" class="hidden-checkbox">
    <label for="wadi-bani-khalid" class="oval-button">Wadi Bani Khalid</label>
</li>
</div>
</ul>
</li>
<li class="region-item" data-region="Al Buraimi">Al Buraimi
<ul class="city-list">
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" class="hidden-checkbox select-all-cities" data-region="Al Buraimi" id="select-all-buraimi">
    <label for="select-all-buraimi" class="oval-button">Select All</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Al Buraimi" id="al-buraimi" class="hidden-checkbox">
    <label for="al-buraimi" class="oval-button">Al Buraimi</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Al Sinainah" id="al-sinainah" class="hidden-checkbox">
    <label for="al-sinainah" class="oval-button">Al Sinainah</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Mahdhah" id="mahdhah" class="hidden-checkbox">
    <label for="mahdhah" class="oval-button">Mahdhah</label>
</li>
</div>
</ul>
</li>
<li class="region-item" data-region="Al Dhahirah">Al Dhahirah
<ul class="city-list">
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" class="hidden-checkbox select-all-cities" data-region="Al Dhahirah" id="select-all-dhahirah">
    <label for="select-all-dhahirah" class="oval-button">Select All</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Dhank" id="dhank" class="hidden-checkbox">
    <label for="dhank" class="oval-button">Dhank</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Ibri" id="ibri" class="hidden-checkbox">
    <label for="ibri" class="oval-button">Ibri</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Yunqul" id="yunqul" class="hidden-checkbox">
    <label for="yunqul" class="oval-button">Yunqul</label>
</li>
</div>
</ul>
</li>
<li class="region-item" data-region="Musandam">Musandam
<ul class="city-list">
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" class="hidden-checkbox select-all-cities" data-region="Musandam" id="select-all-musandam">
    <label for="select-all-musandam" class="oval-button">Select All</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Bukha" id="bukha" class="hidden-checkbox">
    <label for="bukha" class="oval-button">Bukha</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Dibba" id="dibba" class="hidden-checkbox">
    <label for="dibba" class="oval-button">Dibba</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Khasab" id="khasab" class="hidden-checkbox">
    <label for="khasab" class="oval-button">Khasab</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Madha" id="madha" class="hidden-checkbox">
    <label for="madha" class="oval-button">Madha</label>
</li>
</div>
</ul>
</li>
<li class="region-item" data-region="Al Wusta">Al Wusta
<ul class="city-list">
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" class="hidden-checkbox select-all-cities" data-region="Al Wusta" id="select-all-wusta">
    <label for="select-all-wusta" class="oval-button">Select All</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Al Duqum" id="al-duqum" class="hidden-checkbox">
    <label for="al-duqum" class="oval-button">Al Duqum</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Al Jazur" id="al-jazur" class="hidden-checkbox">
    <label for="al-jazur" class="oval-button">Al Jazur</label>
</li>
<li class="oval-button-group">
    <input type="checkbox" data-city="Haima" id="haima" class="hidden-checkbox">
    <label for="haima" class="oval-button">Haima</label>
</li>
</div>
<div class="checkbox-row">
<li class="oval-button-group">
    <input type="checkbox" data-city="Mahut" id="mahut" class="hidden-checkbox">
    <label for="mahut" class="oval-button">Mahut</label>
</li>
</div>
</ul>
</li>

</ul>

</div>
</div>

<script>
// 1. Toggle the regions/cities dropdown visibility
document.getElementById('toggle-regions-filter').addEventListener('click', function(e) {
e.stopPropagation();
const regionContainer = document.getElementById('regions-list-container');


// Close all other containers first
if (regionContainer.style.display !== 'block') {
closeAllFilterContainers();
}

if (regionContainer.style.display === 'none' || !regionContainer.style.display) {
regionContainer.style.display = 'block';
// Reset search when opening
document.getElementById('city_search').value = '';
resetSearchHighlights();
} else {
regionContainer.style.display = 'none';
}
});

// 2. Handle region selection (show its cities)
document.querySelectorAll('.region-item').forEach(regionItem => {
regionItem.addEventListener('click', function(e) {
if (e.target.tagName === 'INPUT' || e.target.tagName === 'LABEL') return;

e.stopPropagation();

// Show back button and hide search
document.getElementById('back-to-oman').style.display = 'block';
document.getElementById('city_search').style.display = 'none';

// Hide all regions
document.querySelectorAll('.region-item').forEach(item => {
item.style.display = 'none';
});

// Show selected region and its cities
this.style.display = 'block';
const cityList = this.querySelector('.city-list');
if (cityList) {
cityList.style.display = 'block';
}
});
});

// 3. Handle "Back to Regions" button
document.getElementById('back-to-oman').addEventListener('click', function(event) {
event.preventDefault();
event.stopPropagation();

this.style.display = 'none';
document.getElementById('city_search').style.display = 'block';

// Show all regions again
document.querySelectorAll('.region-item').forEach(region => {
region.style.display = 'block';
});

// Hide all city lists
document.querySelectorAll('.city-list').forEach(cityList => {
cityList.style.display = 'none';
});
});

// 4. Handle city selection changes
function handleCitySelection() {
const selectedCities = [];
document.querySelectorAll('.city-list input[data-city]:checked').forEach(checkbox => {
selectedCities.push(checkbox.getAttribute('data-city'));
});

// Update display
document.getElementById('selected-city').value = selectedCities.join(', ') || "Select City";
document.getElementById('clear-selected-city').style.display = selectedCities.length ? 'block' : 'none';

// Update "Select All" checkboxes
document.querySelectorAll('.city-list').forEach(cityList => {
const cityCheckboxes = cityList.querySelectorAll('input[data-city]');
const checkedCount = cityList.querySelectorAll('input[data-city]:checked').length;
const selectAllCheckbox = cityList.querySelector('.select-all-cities');

if (selectAllCheckbox) {
selectAllCheckbox.checked = checkedCount === cityCheckboxes.length;
selectAllCheckbox.indeterminate = checkedCount > 0 && checkedCount < cityCheckboxes.length;
}
});

// Update filters via AJAX
updateFilters();
}

// 5. Handle "Select All" for cities in a region
document.querySelectorAll('.select-all-cities').forEach(selectAllCheckbox => {
selectAllCheckbox.addEventListener('change', function() {
const cityList = this.closest('.city-list');
cityList.querySelectorAll('input[data-city]').forEach(checkbox => {
checkbox.checked = this.checked;
});
handleCitySelection();
});
});

// 6. Initialize city checkboxes
document.querySelectorAll('.city-list input[data-city]').forEach(checkbox => {
checkbox.addEventListener('change', handleCitySelection);
});

// 7. Clear selected cities
document.getElementById('clear-selected-city').addEventListener('click', function(e) {
e.preventDefault();
e.stopPropagation();
document.querySelectorAll('.city-list input').forEach(checkbox => {
checkbox.checked = false;
});
handleCitySelection();
});

// 8. Search functionality with Enter key support
document.getElementById('city_search').addEventListener('input', function(e) {
const searchTerm = e.target.value.toLowerCase();
const isViewingRegions = document.getElementById('back-to-oman').style.display === 'none';

if (isViewingRegions) {
let firstMatch = null;
document.querySelectorAll('.region-item').forEach(region => {
const regionName = region.getAttribute('data-region')?.toLowerCase() || '';
const cities = region.querySelectorAll('.city-list input[data-city]');
let matchFound = false;

cities.forEach(cityInput => {
    const cityName = cityInput.getAttribute('data-city').toLowerCase();
    if (cityName.includes(searchTerm)) {
        matchFound = true;
    }
});

if (regionName.includes(searchTerm) || matchFound) {
    region.style.display = 'block';
    if (regionName.includes(searchTerm) && !firstMatch) {
        firstMatch = region;
        region.setAttribute('data-highlight', 'true');
    } else {
        region.removeAttribute('data-highlight');
    }
} else {
    region.style.display = 'none';
    region.removeAttribute('data-highlight');
}
});
} else {
document.querySelectorAll('.city-list:visible li').forEach(li => {
const cityInput = li.querySelector('input[data-city]');
if (cityInput) {
    const cityName = cityInput.getAttribute('data-city').toLowerCase();
    li.style.display = cityName.includes(searchTerm) ? '' : 'none';
}
});
}
});

// 9. Handle Enter key in search (for both regions and cities)
document.getElementById('city_search').addEventListener('keydown', function(e) {
if (e.key === 'Enter') {
e.preventDefault();
const searchTerm = this.value.toLowerCase();
const isViewingRegions = document.getElementById('back-to-oman').style.display === 'none';

if (isViewingRegions) {
// Handle region selection
const highlightedRegion = document.querySelector('.region-item[data-highlight="true"]');
if (highlightedRegion) {
    // Show back button and hide search
    document.getElementById('back-to-oman').style.display = 'block';
    document.getElementById('city_search').style.display = 'none';

    // Hide all regions
    document.querySelectorAll('.region-item').forEach(item => {
        item.style.display = 'none';
    });

    // Show selected region and its cities
    highlightedRegion.style.display = 'block';
    highlightedRegion.querySelector('.city-list').style.display = 'block';
    
    // Clear search and reset display
    this.value = '';
    document.querySelectorAll('.region-item').forEach(item => {
        item.removeAttribute('data-highlight');
    });
}
} else {
// Handle city selection
let firstMatchingCity = null;
document.querySelectorAll('.city-list:visible input[data-city]').forEach(cityInput => {
    const cityName = cityInput.getAttribute('data-city').toLowerCase();
    if (cityName.includes(searchTerm)) {
        if (!firstMatchingCity) {
            firstMatchingCity = cityInput;
        }
    }
});

if (firstMatchingCity) {
    firstMatchingCity.checked = !firstMatchingCity.checked;
    handleCitySelection();
}
}
}
});

// 10. Initialize from URL on page load
window.addEventListener('load', function() {
// Initialize container states
document.getElementById('regions-list-container').style.display = 'none';
document.getElementById('back-to-oman').style.display = 'none';
document.querySelectorAll('.city-list').forEach(list => {
list.style.display = 'none';
});

// Load any selected cities from URL
const urlParams = new URLSearchParams(window.location.search);
const selectedCities = urlParams.getAll('city');
selectedCities.forEach(city => {
const checkbox = document.querySelector(`.city-list input[data-city="${city}"]`);
if (checkbox) checkbox.checked = true;
});

handleCitySelection();
});

// 11. Close dropdown when clicking outside
document.addEventListener('click', function(e) {
if (!e.target.closest('#regions-list-container') && 
!e.target.closest('#toggle-regions-filter')) {
document.getElementById('regions-list-container').style.display = 'none';
}
});

// 12. Dummy updateFilters function (replace with your actual logic)
function updateFilters() {
console.log("Filters updated.");
// Add your actual filter update logic here
}
</script>


<style> 
/* Container Styles */
.regions-list-container {
padding: 10px;
border: 2px solid #ddd;
border-radius: 5px;
width: 300px;
position: absolute;
margin-top: 60px;
z-index: 9999;
display: none;
background: white;
}

/* Search Input */
#city_search {
width: 100%;
padding: 5px;
border-radius: 5px;
border: 1px solid #ccc;
margin-bottom: 10px;
}

/* Regions List */
.regions-lists {
max-height: 200px;
overflow-y: auto;
}

.region-item {
cursor: pointer;
padding: 5px;
}

/* Cities List */
.city-list {
list-style: none;
padding-left: 15px;
display: none;
}

.city-list li {
cursor: pointer;
{% comment %} padding: 5px; {% endcomment %}
color: #333;
}

/* Back Button */
#back-to-oman {
display: none;
width: 100%;
padding: 5px;
margin-top: 5px;
border: none;
background:#E35D20;
color: white;
border-radius: 5px;
cursor: pointer;
}
#clear-selected-city {
display: none;
width: 100%;
padding: 5px;
margin-top:10px; 
border: none;
color: white;
background:#E35D20;
border-radius: 5px;
cursor: pointer;
}

#back-to-oman:hover {
background:#E35D20;
}
/* Hide the actual checkbox */
.hidden-checkbox {
position: absolute;
opacity: 0;
width: 0;
height: 0;
}

/* Style the label to look like a button */
.oval-button {
display: inline-block;
padding: 6px 12px;
border: 1px solid #ccc;
border-radius: 20px;
background-color: #f8f8f8;
cursor: pointer;
user-select: none;
margin: 2px;
}

/* Style for checked state */
.hidden-checkbox:checked + .oval-button {
background-color: #E35D20;
color: white;
border-color: #E35D20;
}

/* Style for indeterminate state (for Select All) */
.hidden-checkbox:indeterminate + .oval-button {
background-color: #f8f8f8;
color: #333;
border-color: #E35D20;
}
/* Style for the checkbox row container */
.checkbox-row {
display: flex;
gap: 5px; /* Space between checkboxes */
margin-bottom: 5px;
}

/* Keep your existing oval button styles */
.oval-button-group {
display: inline-block; /* Makes them sit side by side */
margin-right: 5px;
}

/* Your existing button styles */
.oval-button {
display: inline-block;
padding: 6px 12px;
border: 1px solid #ccc;
border-radius: 20px;
background-color: #f8f8f8;
cursor: pointer;
user-select: none;
margin: 2px;
}

.hidden-checkbox:checked + .oval-button {
background-color: #E35D20;
color: white;
border-color: #E35D20;
}

.hidden-checkbox:indeterminate + .oval-button {
background-color: #f8f8f8;
color: #333;
border-color: #E35D20;
}
</style>
<div class="separators"></div>
                   
<!-- Bedrooms Filter -->
<div class="filter-item" id="toggle-bedrooms">
    <label for="bedrooms">Bedrooms</label>
    <i class="fas fa-chevron-down dropdown-icons"></i>
    <input type="text" id="selected-bedrooms" placeholder="Select Bedrooms" readonly>
</div>

<div class="separators"></div>

<div class="bedrooms-container" id="bedrooms-container">
    <div class="bedrooms-inputs" id="bedrooms-list">
        <div class="oval-button-group">
            <input type="checkbox" name="bedrooms" id="bedroom_studio" value="studio" class="oval-checkbox">
            <label for="bedroom_studio" class="oval-button">Studio</label>

            <input type="checkbox" name="bedrooms" id="bedroom_1" value="1" class="oval-checkbox">
            <label for="bedroom_1" class="oval-button">1 bed</label>

            <input type="checkbox" name="bedrooms" id="bedroom_2" value="2" class="oval-checkbox">
            <label for="bedroom_2" class="oval-button">2 bed</label>

            <input type="checkbox" name="bedrooms" id="bedroom_3" value="3" class="oval-checkbox">
            <label for="bedroom_3" class="oval-button">3 bed</label>

            <input type="checkbox" name="bedrooms" id="bedroom_4" value="4" class="oval-checkbox">
            <label for="bedroom_4" class="oval-button">4 bed</label>

            <input type="checkbox" name="bedrooms" id="bedroom_5" value="5" class="oval-checkbox">
            <label for="bedroom_5" class="oval-button">5 bed</label>

            <input type="checkbox" name="bedrooms" id="bedroom_6plus" value="6+" class="oval-checkbox">
            <label for="bedroom_6plus" class="oval-button">6+ bed</label>
        </div>
    </div>
    <hr>
    <button type="button" class="btn-apply" id="clear-bedrooms-filter">Clear</button>
</div>

<script>
// Bedrooms filter toggle
document.getElementById('toggle-bedrooms').addEventListener('click', function() {
    const container = document.getElementById('bedrooms-container');
    if (container.style.display === 'block') {
        container.style.display = 'none';
    } else {
        closeAllFilterContainers();
        container.style.display = 'block';
    }
});

// Update filter when checkboxes change
function updateBedroomsFilter() {
    const selectedCheckboxes = Array.from(document.querySelectorAll('input[name="bedrooms"]:checked'));
    const selectedValues = selectedCheckboxes.map(cb => cb.value);
    const selectedLabels = selectedCheckboxes.map(cb => cb.nextElementSibling.textContent);

    // Update input placeholder text
    document.getElementById('selected-bedrooms').value = selectedLabels.length > 0 ? selectedLabels.join(', ') : "Select Bedrooms";

    // Update URL
    const queryParams = new URLSearchParams(window.location.search);
    queryParams.delete('bedrooms');

    if (selectedValues.length > 0) {
        queryParams.set('bedrooms', selectedValues.join(','));
    }

    window.history.replaceState(null, '', '?' + queryParams.toString());

    // Optional: Call your filter logic
    updateFilters();
}

// Listen for changes on all checkboxes
document.querySelectorAll('input[name="bedrooms"]').forEach(cb => {
    cb.addEventListener('change', function () {
        updateBedroomsFilter();
    });
});

// Clear button
document.getElementById('clear-bedrooms-filter').addEventListener('click', function () {
    document.querySelectorAll('input[name="bedrooms"]').forEach(cb => cb.checked = false);
    document.getElementById('selected-bedrooms').value = "Select Bedrooms";

    const queryParams = new URLSearchParams(window.location.search);
    queryParams.delete('bedrooms');
    window.history.replaceState(null, '', '?' + queryParams.toString());

    updateFilters();
    document.getElementById('bedrooms-container').style.display = 'none';
});

// On page load, restore previous selections
window.addEventListener('load', function () {
    const urlParams = new URLSearchParams(window.location.search);
    const selectedBedrooms = urlParams.get('bedrooms');

    if (selectedBedrooms) {
        const selectedValues = selectedBedrooms.split(',');
        document.querySelectorAll('input[name="bedrooms"]').forEach(cb => {
            if (selectedValues.includes(cb.value)) {
                cb.checked = true;
            }
        });
        updateBedroomsFilter(); // This sets the input field text
    }
});
</script>

<style>
.bedrooms-container {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 5px;
    width: 220px;
    background-color: white;
    position: absolute;
    margin-top: 60px;
    left: 420px;
    z-index: 9999;
    display: none;
}
</style>
<!-- Surface Area Filter -->
<div class="filter-item" id="toggle-surface-area">
    <label for="surface_area">Surface Area</label>
    <i class="fas fa-chevron-down dropdown-icons"></i>
    <input type="text" id="selected-surface-area" placeholder="Select Surface Area" readonly>
</div>
<div class="separators"></div>
<div class="surface-area-container" id="surface-area-container">
    <div class="surface-area-inputs">
        <label for="surface_area">Surface Area</label>
        <div class="input-row">
            <input type="number" id="surface_area_from" name="surface_area_from" min="0" placeholder="From">
            <input type="number" id="surface_area_to" name="surface_area_to" min="0" placeholder="To">
        </div>
    </div>
    <div class="button-row">
        <button type="button" class="btn-apply ml-2" id="clear-surface-area-filter">Clear</button>
        <button type="button" class="btn-apply" id="apply-surface-area-filter">Apply</button>
    </div>
</div>

<script>
    // Function to update the selected input display
    function updateSelectedInput() {
        const from = document.getElementById('surface_area_from').value;
        const to = document.getElementById('surface_area_to').value;
        const displayInput = document.getElementById('selected-surface-area');
        
        if (from && to) {
            displayInput.value = `${from} - ${to}`;
        } else if (from) {
            displayInput.value = `From ${from}`;
        } else if (to) {
            displayInput.value = `Up to ${to}`;
        } else {
            displayInput.value = '';
            displayInput.placeholder = 'Select Surface Area';
        }
    }

    // Function to apply filters
    function applyFilters() {
        const from = document.getElementById('surface_area_from').value;
        const to = document.getElementById('surface_area_to').value;
        
        // Update URL
        const params = new URLSearchParams(window.location.search);
        if (from) params.set('surface_area_from', from);
        else params.delete('surface_area_from');
        if (to) params.set('surface_area_to', to);
        else params.delete('surface_area_to');
        history.replaceState(null, '', '?' + params.toString());
        
        // Update display
        updateSelectedInput();
        
        // Filter products
        filterProducts();
    }

    // Product filtering function
    function filterProducts() {
        const from = parseFloat(document.getElementById('surface_area_from').value) || 0;
        const to = parseFloat(document.getElementById('surface_area_to').value) || Infinity;
        
        document.querySelectorAll('.product').forEach(product => {
            const area = parseFloat(product.dataset.surfaceArea) || 0;
            product.style.display = (area >= from && area <= to) ? 'block' : 'none';
        });
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        // Get params from URL
        const params = new URLSearchParams(window.location.search);
        const fromParam = params.get('surface_area_from');
        const toParam = params.get('surface_area_to');
        
        // Set input values
        if (fromParam) document.getElementById('surface_area_from').value = fromParam;
        if (toParam) document.getElementById('surface_area_to').value = toParam;
        
        // Update display immediately
        updateSelectedInput();
        
        // Apply filters
        filterProducts();
    });

    // Event listeners
    document.getElementById('apply-surface-area-filter').addEventListener('click', function() {
        applyFilters();
        document.getElementById('surface-area-container').style.display = 'none';
    });

    document.getElementById('clear-surface-area-filter').addEventListener('click', function() {
        document.getElementById('surface_area_from').value = '';
        document.getElementById('surface_area_to').value = '';
        const queryParams = new URLSearchParams(window.location.search);
        queryParams.delete('surface_area_from');
        queryParams.delete('surface_area_to');
        window.history.replaceState(null, '', '?' + queryParams.toString());
    
        updateFilters();
        updateSelectedInput();
        document.getElementById('surface-area-container').style.display = 'none';
    });
  
    // Surface area filter toggle
document.getElementById('toggle-surface-area').addEventListener('click', function() {
    const container = document.getElementById('surface-area-container');
    if (container.style.display === 'block') {
        container.style.display = 'none';
    } else {
        closeAllFilterContainers();
        container.style.display = 'block';
    }
});

</script>
<style>
.surface-area-container {
    padding: 15px;
    border: 2px solid #ddd;
    border-radius: 5px;
    width: 250px; /* Adjusted width for better layout */
    background-color: white;
    position: absolute;
    margin-top: 60px; /* Adjusted margin */
    left: 640px; /* Adjust as needed */
    z-index: 9999;
    display: none;
}

.input-row {
    display: flex;
    align-items: center;
    justify-content: space-between; /* Space between inputs */
    margin-bottom: 10px; /* Space below the input row */
}

.input-row input {
    width: 100px; /* Fixed width for inputs */
    padding: 5px;
    border-radius: 5px;
    border: 1px solid #aaa9a9;
}

.input-row span {
    margin: 0 10px; /* Space around the 'to' text */
    font-size: 16px;
    font-weight: bold;
}


.btn-apply {
    padding: 5px 10px;
    border: none;
    border-radius: 5px;
    background-color: #007bff; /* Bootstrap primary color */
    color: white;
    cursor: pointer;
}

.btn-apply:hover {
    background-color: #0056b3; /* Darker shade on hover */
}
</style>
                  
<!--Floor Filter -->
<div class="filter-item" id="toggle-floors">
    <label for="floors">Floors</label>
    <i class="fas fa-chevron-down dropdown-icons"></i>
    <input type="text" id="selected-floors" placeholder="Select Floors" readonly>
</div>

<div class="separators"></div>

<div class="floors-container" id="floors-container">
    <div class="floors-inputs" id="floors-list">
        <div class="oval-button-group">
            <input type="checkbox" name="floors" id="floors_1" value="1_floor" class="oval-checkbox">
            <label for="floors_1" class="oval-button">1 Floor</label>
            
            <input type="checkbox" name="floors" id="floors_2" value="2_floor" class="oval-checkbox">
            <label for="floors_2" class="oval-button">2 Floors</label>
            
            <input type="checkbox" name="floors" id="floors_3" value="3_floor" class="oval-checkbox">
            <label for="floors_3" class="oval-button">3 Floors</label>
            
            <input type="checkbox" name="floors" id="floors_4" value="4_floor" class="oval-checkbox">
            <label for="floors_4" class="oval-button">4 Floors</label>
            
            <input type="checkbox" name="floors" id="floors_5" value="5_floor" class="oval-checkbox">
            <label for="floors_5" class="oval-button">5+ Floors</label>
        </div>
    </div>
    <hr>
    <button type="button" class="btn-apply" id="clear-floors-filter">Clear</button>
</div>

<script>
// Floors filter toggle
document.getElementById('toggle-floors').addEventListener('click', function() {
    const container = document.getElementById('floors-container');
    if (container.style.display === 'block') {
        container.style.display = 'none';
    } else {
        closeAllFilterContainers();
        container.style.display = 'block';
    }
});

// Update filter when checkboxes change
function updateFloorsFilter() {
    const selectedCheckboxes = Array.from(document.querySelectorAll('input[name="floors"]:checked'));
    const selectedValues = selectedCheckboxes.map(cb => cb.value);
    const selectedLabels = selectedCheckboxes.map(cb => cb.nextElementSibling.textContent);

    // Update input placeholder text
    document.getElementById('selected-floors').value = selectedLabels.length > 0 ? selectedLabels.join(', ') : "Select Floors";

    // Update URL
    const queryParams = new URLSearchParams(window.location.search);
    queryParams.delete('floors');

    if (selectedValues.length > 0) {
        queryParams.set('floors', selectedValues.join(','));
    }

    window.history.replaceState(null, '', '?' + queryParams.toString());

    // Optional: Call your filter logic
    updateFilters();
}

// Listen for changes on all checkboxes
document.querySelectorAll('input[name="floors"]').forEach(cb => {
    cb.addEventListener('change', function () {
        updateFloorsFilter();
    });
});

// Clear button
document.getElementById('clear-floors-filter').addEventListener('click', function () {
    document.querySelectorAll('input[name="floors"]').forEach(cb => cb.checked = false);
    document.getElementById('selected-floors').value = "Select Floors";

    const queryParams = new URLSearchParams(window.location.search);
    queryParams.delete('floors');
    window.history.replaceState(null, '', '?' + queryParams.toString());

    updateFilters();
    document.getElementById('floors-container').style.display = 'none';
});

// On page load, restore previous selections
window.addEventListener('load', function () {
    const urlParams = new URLSearchParams(window.location.search);
    const selectedFloors = urlParams.get('floors');

    if (selectedFloors) {
        const selectedValues = selectedFloors.split(',');
        document.querySelectorAll('input[name="floors"]').forEach(cb => {
            if (selectedValues.includes(cb.value)) {
                cb.checked = true;
            }
        });
        updateFloorsFilter(); // This sets the input field text
    }
});
</script>

<style>
.floors-container {
    padding: 10px;
    border: 2px solid #ddd;
    border-radius: 5px;
    width: 220px;
    background-color: white;
    position: absolute;
    margin-top: 60px;
    left: 860px;
    z-index: 9999;
    display: none;
}
</style>
<!-- Additional Filters Container -->
<div class="filter-item" id="toggle-additional-filters">
    <label for="additional_filters">Additional Filters</label>
    <i class="fas fa-chevron-down dropdown-icons"></i>
    <input type="text" id="selected-additional-filters" placeholder="Select Additional Filters" readonly>
</div>
<div class="additional-filters-container" id="additional-filters-container" style="display: none;">
    <div class="additional-filters-inputs">
        <label>Lister Type</label>
        <div class="oval-button-group">
            <input type="radio" name="lister_type" id="lister_agent" value="agent" class="oval-radio">
            <label for="lister_agent" class="oval-button">Agent</label>
            
            <input type="radio" name="lister_type" id="lister_landlord" value="landlord" class="oval-radio">
            <label for="lister_landlord" class="oval-button">Landlord</label>
        </div>
        <label>Mortgaged</label>
        <div class="oval-button-group">
            <input type="radio" name="property_mortgage" id="property_mortgage_yes" value="yes" class="oval-radio">
            <label for="property_mortgage_yes" class="oval-button">Yes</label>
            
            <input type="radio" name="property_mortgage" id="property_mortgage_no" value="no" class="oval-radio">
            <label for="property_mortgage_no" class="oval-button">No</label>
        </div>

        <!-- Main Amenities (Checkbox Buttons) -->
        <label>Main Amenities</label>
        <div class="oval-button-group">
            <input type="checkbox" name="main_amenity" id="amenity_pool" value="Pool" class="oval-checkbox">
            <label for="amenity_pool" class="oval-button">Pool</label>
            
            <input type="checkbox" name="main_amenity" id="amenity_gym" value="Gym" class="oval-checkbox">
            <label for="amenity_gym" class="oval-button">Gym</label>
            
            <input type="checkbox" name="main_amenity" id="amenity_parking" value="Parking" class="oval-checkbox">
            <label for="amenity_parking" class="oval-button">Parking</label>
        </div>

        <!-- Additional Amenities (Checkbox Buttons) -->
        <label>Additional Amenities</label>
        <div class="oval-button-group">
            <input type="checkbox" name="additional_amenity" id="amenity_garden" value="Garden" class="oval-checkbox">
            <label for="amenity_garden" class="oval-button">Garden</label>
            
            <input type="checkbox" name="additional_amenity" id="amenity_security" value="Security" class="oval-checkbox">
            <label for="amenity_security" class="oval-button">Security</label>
            
            <input type="checkbox" name="additional_amenity" id="amenity_elevator" value="Elevator" class="oval-checkbox">
            <label for="amenity_elevator" class="oval-button">Elevator</label>
        </div>

        <!-- Nearby (Checkbox Buttons) -->
        <label>Nearby</label>
        <div class="oval-button-group">
            <input type="checkbox" name="nearby" id="nearby_school" value="School" class="oval-checkbox">
            <label for="nearby_school" class="oval-button">School</label>
            
            <input type="checkbox" name="nearby" id="nearby_hospital" value="Hospital" class="oval-checkbox">
            <label for="nearby_hospital" class="oval-button">Hospital</label>
            
            <input type="checkbox" name="nearby" id="nearby_mall" value="Mall" class="oval-checkbox">
            <label for="nearby_mall" class="oval-button">Mall</label>
        </div>


        <!-- Price -->
        <label for="price_from">Price Range</label>
        <div class="input-row">
            <input type="number" id="price_from" name="price_from" min="0" placeholder="From">
            <input type="number" id="price_to" name="price_to" min="0" placeholder="To">
        </div>
    </div>
    <hr>
    <div class="additional-filters-footer">
        <button type="button" class="btn-apply mx-3" id="clear-additional-filters">Clear</button>
        <button type="button" class="btn-apply" id="apply-additional-filters">Apply</button>
    </div>
</div>

<script>
      // Add this to your DOMContentLoaded event listener

    // Add this to your DOMContentLoaded event listener
document.querySelectorAll('.oval-radio').forEach(radio => {
    radio.addEventListener('click', function(e) {
        // If this radio is already checked, uncheck it
        if (this.checked && this.dataset.wasChecked === 'true') {
            this.checked = false;
            this.dataset.wasChecked = 'false';
            updateSelectedFiltersDisplay();
            updateFilters();
        } else {
            this.dataset.wasChecked = 'true';
            // The normal radio button behavior will handle the checking
        }
    });
});
    // Function to update the selected filters display
    function updateSelectedFiltersDisplay() {
        const selectedFilters = [];
        
       
        
        // Building Age
        const selectedBuildingAges = Array.from(document.querySelectorAll('input[name="building"]:checked'));
        if (selectedBuildingAges.length > 0) {
            const ageLabels = selectedBuildingAges.map(age => age.nextElementSibling.textContent);
            selectedFilters.push(`Age: ${ageLabels.join(', ')}`);
        }
        
        // Main Amenities
        const selectedMainAmenities = Array.from(document.querySelectorAll('input[name="main_amenity"]:checked'));
        if (selectedMainAmenities.length > 0) {
            const amenityLabels = selectedMainAmenities.map(amenity => amenity.nextElementSibling.textContent);
            selectedFilters.push(`Amenities: ${amenityLabels.join(', ')}`);
        }
        
        // Additional Amenities
        const selectedAdditionalAmenities = Array.from(document.querySelectorAll('input[name="additional_amenity"]:checked'));
        if (selectedAdditionalAmenities.length > 0) {
            const amenityLabels = selectedAdditionalAmenities.map(amenity => amenity.nextElementSibling.textContent);
            selectedFilters.push(`Extras: ${amenityLabels.join(', ')}`);
        }
        
        // Nearby
        const selectedNearby = Array.from(document.querySelectorAll('input[name="nearby"]:checked'));
        if (selectedNearby.length > 0) {
            const nearbyLabels = selectedNearby.map(nearby => nearby.nextElementSibling.textContent);
            selectedFilters.push(`Nearby: ${nearbyLabels.join(', ')}`);
        }
        
        // Facade
        const selectedFacades = Array.from(document.querySelectorAll('input[name="facade"]:checked'));
        if (selectedFacades.length > 0) {
            const facadeLabels = selectedFacades.map(facade => facade.nextElementSibling.textContent);
            selectedFilters.push(`Facade: ${facadeLabels.join(', ')}`);
        }
         // Lister Type
         const listerType = document.querySelector('input[name="lister_type"]:checked');
         if (listerType) {
             selectedFilters.push(`Lister: ${listerType.nextElementSibling.textContent}`);
         }
         const propertyMortgage = document.querySelector('input[name="property_mortgage"]:checked');
         if (propertyMortgage) {
             selectedFilters.push(`Mortgaged: ${propertyMortgage.nextElementSibling.textContent}`);
         }
        // Price Range
        const priceFrom = document.getElementById('price_from').value;
        const priceTo = document.getElementById('price_to').value;
        if (priceFrom || priceTo) {
            selectedFilters.push(`Price: ${priceFrom || '0'} - ${priceTo || '∞'}`);
        }
        
        // Update the input field
        const displayInput = document.getElementById('selected-additional-filters');
        if (selectedFilters.length > 0) {
            displayInput.value = selectedFilters.join(' | ');
            document.getElementById('toggle-additional-filters').classList.add('active');
        } else {
            displayInput.value = '';
            document.getElementById('toggle-additional-filters').classList.remove('active');
        }
    }

    // Function to check if any filters are applied
    function hasActiveFilters() {
        return [
            document.getElementById('surface_area_from').value,
            document.getElementById('surface_area_to').value,
            document.querySelector('input[name="lister_type"]:checked'),
            document.querySelector('input[name="property_mortgaged"]:checked'),
            document.querySelectorAll('input[name="floors"]:checked').length > 0,
            document.querySelectorAll('input[name="building"]:checked').length > 0,
            document.querySelectorAll('input[name="main_amenity"]:checked').length > 0,
            document.querySelectorAll('input[name="additional_amenity"]:checked').length > 0,
            document.querySelectorAll('input[name="nearby"]:checked').length > 0,
            document.querySelectorAll('input[name="facade"]:checked').length > 0,
            document.getElementById('price_from').value,
            document.getElementById('price_to').value
        ].some(value => {
            if (value === null) return false;
            if (typeof value === 'object') return true;
            return value !== '';
        });
    }

    // Main AJAX filtering function
    function updateFilters() {
        // Show loading indicator
        const container = document.getElementById('hostel-list-container');
        container.innerHTML = '<div class="loading-indicator">Loading...</div>';
        
        // Get all filter values
        const params = new URLSearchParams();
        
        // City filter
        const cityCheckboxes = document.querySelectorAll('.city-list input[type="checkbox"]:checked');
        cityCheckboxes.forEach(checkbox => params.append('city', checkbox.getAttribute('data-city')));
        
        // Bedrooms filter
        const bedroomRadio = document.querySelector('input[name="bedrooms"]:checked');
        if (bedroomRadio) {
            params.set('bedrooms', bedroomRadio.value);
        }
        
        // Bathrooms filter
        const bathroomRadio = document.querySelector('input[name="bathrooms"]:checked');
        if (bathroomRadio) {
            params.set('bathrooms', bathroomRadio.value);
        }
        
        // Furnished filter
        const furnishedSelected = document.querySelector('#furnished-options li.selected');
        if (furnishedSelected) {
            params.set('furnished', furnishedSelected.getAttribute('data-furnished'));
        }

        // Lister Type
        const listerType = document.querySelector('input[name="lister_type"]:checked');
        if (listerType) {
            params.set('lister_type', listerType.value);
        } else {
            params.delete('lister_type');
        }

         // Property Mortgaged
         const propertyMortagage = document.querySelector('input[name="property_mortgage"]:checked');
         if (propertyMortagage) {
             params.set('property_mortgage', propertyMortagage.value);
         } else {
             params.delete('property_mortgage');
         }
        
        // Surface Area
        const surfaceAreaFrom = document.getElementById('surface_area_from').value;
        const surfaceAreaTo = document.getElementById('surface_area_to').value;
        if (surfaceAreaFrom) params.set('surface_area_from', parseFloat(surfaceAreaFrom).toFixed(2));
        if (surfaceAreaTo) params.set('surface_area_to', parseFloat(surfaceAreaTo).toFixed(2));

       
        
        // Number of Floors
        const selectedFloors = Array.from(document.querySelectorAll('input[name="floors"]:checked'));
        if (selectedFloors.length > 0) {
            params.set('floors', selectedFloors.map(floor => floor.value).join(','));
        }
        
        // Building Age
        const selectedBuildingAges = Array.from(document.querySelectorAll('input[name="building"]:checked'));
        if (selectedBuildingAges.length > 0) {
            params.set('building', selectedBuildingAges.map(age => age.value).join(','));
        }
        
        // Main Amenities
        const selectedMainAmenities = Array.from(document.querySelectorAll('input[name="main_amenity"]:checked'));
        if (selectedMainAmenities.length > 0) {
            params.set('main_amenity', selectedMainAmenities.map(amenity => amenity.value).join(','));
        }
        
        // Additional Amenities
        const selectedAdditionalAmenities = Array.from(document.querySelectorAll('input[name="additional_amenity"]:checked'));
        if (selectedAdditionalAmenities.length > 0) {
            params.set('additional_amenity', selectedAdditionalAmenities.map(amenity => amenity.value).join(','));
        }
        
        // Nearby
        const selectedNearby = Array.from(document.querySelectorAll('input[name="nearby"]:checked'));
        if (selectedNearby.length > 0) {
            params.set('nearby', selectedNearby.map(nearby => nearby.value).join(','));
        }
        
        // Facade
        const selectedFacades = Array.from(document.querySelectorAll('input[name="facade"]:checked'));
        if (selectedFacades.length > 0) {
            params.set('facade', selectedFacades.map(facade => facade.value).join(','));
        }
        
        // Price Range
        const priceFrom = document.getElementById('price_from').value;
        const priceTo = document.getElementById('price_to').value;
        if (priceFrom) params.set('price_from', priceFrom);
        if (priceTo) params.set('price_to', priceTo);
        
        // Make AJAX request
        fetch(`{% url 'hostel' %}?${params.toString()}`, {
            headers: {
                'X-Requested-With': 'XMLHttpRequest'
            }
        })
        .then(response => response.text())
        .then(html => {
            container.innerHTML = html;
            initializeSliders();
            initializeChatDropdowns();
            // Update browser history without reload
            history.pushState(null, '', `?${params.toString()}`);
        })
        .catch(error => {
            console.error('Error:', error);
            container.innerHTML = '<div class="error-message">Error loading results. Please try again.</div>';
        });
    }

    // Initialize sliders for hostel images
    function initializeSliders() {
        document.querySelectorAll('.feature-block-one').forEach(block => {
            const slider = block.querySelector('.slider');
            const imgElement = slider.querySelector('img');
            const images = JSON.parse(imgElement.getAttribute('data-images') || '[]');
    
            const backwardBtn = block.querySelector('.backward');
            const forwardBtn = block.querySelector('.forward');
    
            if (images.length > 0) {
                imgElement.src = images[0];
                slider.setAttribute('data-current-index', 0);
            }
    
            if (images.length <= 1) {
                if (backwardBtn) backwardBtn.style.display = 'none';
                if (forwardBtn) forwardBtn.style.display = 'none';
            }
        });
    }
    
    // Initialize chat dropdowns
    function initializeChatDropdowns() {
        document.querySelectorAll('.chat-dropdown a').forEach(link => {
            link.addEventListener('click', function(event) {
                event.preventDefault();
                let menu = event.target.closest('.chat-dropdown').querySelector('.chat-options');
                menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
            });
        });
        
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.chat-dropdown')) {
                document.querySelectorAll('.chat-options').forEach(menu => {
                    menu.style.display = 'none';
                });
            }
        });
    }

    // Handle AJAX pagination
    function handlePagination(e) {
        if (e.target.classList.contains('ajax-paginate') || 
            (e.target.parentElement && e.target.parentElement.classList.contains('ajax-paginate'))) {
            e.preventDefault();
            const link = e.target.classList.contains('ajax-paginate') ? e.target : e.target.parentElement;
            
            // Show loading indicator
            const container = document.getElementById('hostel-list-container');
            container.innerHTML = '<div class="loading-indicator">Loading...</div>';
            
            fetch(link.href, {
                headers: {
                    'X-Requested-With': 'XMLHttpRequest'
                }
            })
            .then(response => response.text())
            .then(html => {
                container.innerHTML = html;
                initializeSliders();
                initializeChatDropdowns();
            })
            .catch(error => {
                console.error('Error:', error);
                container.innerHTML = '<div class="error-message">Error loading results. Please try again.</div>';
            });
        }
    }

    // Initialize on page load
    document.addEventListener('DOMContentLoaded', function() {
        // Set initial values from URL
        const urlParams = new URLSearchParams(window.location.search);
        
        // Surface Area
        if (urlParams.has('surface_area_from')) {
            document.getElementById('surface_area_from').value = urlParams.get('surface_area_from');
        }
        if (urlParams.has('surface_area_to')) {
            document.getElementById('surface_area_to').value = urlParams.get('surface_area_to');
        }

        
        // Number of Floors
        if (urlParams.has('floors')) {
            const floorValues = urlParams.get('floors').split(',');
            floorValues.forEach(value => {
                const checkbox = document.querySelector(`input[name="floors"][value="${value}"]`);
                if (checkbox) checkbox.checked = true;
            });
        }
        
        // Building Age
        if (urlParams.has('building')) {
            const ageValues = urlParams.get('building').split(',');
            ageValues.forEach(value => {
                const checkbox = document.querySelector(`input[name="building"][value="${value}"]`);
                if (checkbox) checkbox.checked = true;
            });
        }
        
        // Main Amenity
        if (urlParams.has('main_amenity')) {
            const amenityValues = urlParams.get('main_amenity').split(',');
            amenityValues.forEach(value => {
                const checkbox = document.querySelector(`input[name="main_amenity"][value="${value}"]`);
                if (checkbox) checkbox.checked = true;
            });
        }
        
        // Additional Amenity
        if (urlParams.has('additional_amenity')) {
            const amenityValues = urlParams.get('additional_amenity').split(',');
            amenityValues.forEach(value => {
                const checkbox = document.querySelector(`input[name="additional_amenity"][value="${value}"]`);
                if (checkbox) checkbox.checked = true;
            });
        }
        
        // Nearby
        if (urlParams.has('nearby')) {
            const nearbyValues = urlParams.get('nearby').split(',');
            nearbyValues.forEach(value => {
                const checkbox = document.querySelector(`input[name="nearby"][value="${value}"]`);
                if (checkbox) checkbox.checked = true;
            });
        }
        
        // Facade
        if (urlParams.has('facade')) {
            const facadeValues = urlParams.get('facade').split(',');
            facadeValues.forEach(value => {
                const checkbox = document.querySelector(`input[name="facade"][value="${value}"]`);
                if (checkbox) checkbox.checked = true;
            });
        }
        
        
        // Price Range
        if (urlParams.has('price_from')) {
            document.getElementById('price_from').value = urlParams.get('price_from');
        }
        if (urlParams.has('price_to')) {
            document.getElementById('price_to').value = urlParams.get('price_to');
        }
        
        // Update display based on initial values
        if (hasActiveFilters()) {
            updateSelectedFiltersDisplay();
        }
        
        // Initialize components
        initializeSliders();
        initializeChatDropdowns();
        
       // Additional filters toggle
document.getElementById('toggle-additional-filters').addEventListener('click', function() {
    const container = document.getElementById('additional-filters-container');
    if (container.style.display === 'block') {
        container.style.display = 'none';
    } else {
        closeAllFilterContainers();
        container.style.display = 'block';
    }
});
        // Apply additional filters
        document.getElementById('apply-additional-filters').addEventListener('click', function() {
            updateSelectedFiltersDisplay();
            document.getElementById('additional-filters-container').style.display = 'none';
            updateFilters();
        });

      // In the clear-additional-filters click handler, update the clearing code:
document.getElementById('clear-additional-filters').addEventListener('click', function() {
    // Clear all inputs
    document.getElementById('surface_area_from').value = '';
    document.getElementById('surface_area_to').value = '';
    
    // Clear all checkboxes
    document.querySelectorAll('.additional-filters-inputs input[type="checkbox"]').forEach(checkbox => {
        checkbox.checked = false;
    });

    // Clear radio buttons (both lister_type and property_mortgage)
    document.querySelectorAll('input[name="lister_type"]').forEach(radio => {
        radio.checked = false;
    });
    document.querySelectorAll('input[name="property_mortgage"]').forEach(radio => {
        radio.checked = false;
    });
    
    // Clear price range
    document.getElementById('price_from').value = '';
    document.getElementById('price_to').value = '';
    
    // Update display
    updateSelectedFiltersDisplay();
    
    // Update URL and refresh results - make sure to delete these params
    const params = new URLSearchParams(window.location.search);
    params.delete('surface_area_from');
    params.delete('surface_area_to');
    params.delete('floors');
    params.delete('building');
    params.delete('lister_type');  // Add this
    params.delete('property_mortgage');  // Add this
    params.delete('main_amenity');
    params.delete('additional_amenity');
    params.delete('nearby');
    params.delete('facade');
    params.delete('price_from');
    params.delete('price_to');
    
    history.pushState(null, '', `?${params.toString()}`);
    updateFilters();
});
        // Handle pagination
        document.addEventListener('click', handlePagination);
        
        // Handle browser back/forward
        window.addEventListener('popstate', function() {
            updateFilters();
        });
    });
</script>

<style>
    .additional-filters-footer {
        padding: 10px;
        border-top: 1px solid #ddd;
        background: white;
        position: sticky;
        bottom: -12px;
        display: flex;
        justify-content: flex-end;
    }
    .additional-filters-container {
        padding: 10px;
        border: 2px solid #ddd;
        border-radius: 5px;
        width: 300px; 
        background-color: white;
        position: absolute;
        margin-top: 60px;
        left: 1000px;
        z-index: 9999;
        display: none;
        max-height: 400px; 
        overflow-y: auto; 
    }
    
    .additional-filters-inputs {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .input-row {
        display: flex;
        gap: 10px; 
    }
    
    .additional-filters-inputs input,
    .additional-filters-inputs select {
        padding: 5px;
        border-radius: 5px;
        border: 1px solid #aaa9a9;
        width: 100px;
        flex: 1; 
    }

    /* Oval Button Styles */
    .oval-button-group {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin-bottom: 10px;
    }

    .oval-checkbox {
        position: absolute;
        opacity: 0;
        width: 0;
        height: 0;
    }

    .oval-button {
        display: inline-block;
        padding: 5px 12px;
        border: 1px solid #ccc;
        border-radius: 20px;
        background-color: #f8f8f8;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 14px;
        text-align: center;
        white-space: nowrap;
    }

    .oval-checkbox:checked + .oval-button {
        background-color:#E35D20;
        color: white;
        border-color:#E35D20;
    }

    .oval-button:hover {
        background-color: #e0e0e0;
    }

    .filter-item.active {
        border-radius: 5px;
        background-color: #f0f8ff;
    }
    
    .loading-indicator {
        padding: 20px;
        text-align: center;
        font-weight: bold;
    }
    
    .error-message {
        padding: 20px;
        text-align: center;
        color: red;
        font-weight: bold;
    }
</style>
                </div>
            </div>
        </form>
      
    </div>
</div>
<style>
    .additional-filters-footer {
        padding: 10px;
        border-top: 1px solid #ddd;
        background: white;
        position: sticky;
        bottom: -12px;
        display: flex;
        justify-content: flex-end;
    }
    .additional-filters-container {
        padding: 10px;
        border: 2px solid #ddd;
        border-radius: 5px;
        width: 300px; 
        background-color: white;
        position: absolute;
        margin-top: 60px;
        left: 1000px;
        z-index: 9999;
        display: none;
        max-height: 400px; 
        overflow-y: auto; 
    }
    
    .additional-filters-inputs {
        display: flex;
        flex-direction: column;
        gap: 10px;
    }

    .input-row {
        display: flex;
        gap: 10px; 
    }
    
    .additional-filters-inputs input,
    .additional-filters-inputs select {
        padding: 5px;
        border-radius: 5px;
        border: 1px solid #aaa9a9;
        width: 100px;
        flex: 1; 
    }

    /* Oval Button Styles */
    .oval-button-group {
        display: flex;
        flex-wrap: wrap;
        gap: 5px;
        margin-bottom: 10px;
    }

    .oval-radio {
        position: absolute;
        opacity: 0;
        width: 0;
        height: 0;
    }

    .oval-button {
        display: inline-block;
        padding: 5px 12px;
        border: 1px solid #ccc;
        border-radius: 20px;
        background-color: #f8f8f8;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 14px;
        text-align: center;
        white-space: nowrap;
    }

    .oval-radio:checked + .oval-button {
        background-color:#E35D20;
        color: white;
        border-color:#E35D20;
    }

    .oval-button:hover {
        background-color: #e0e0e0;
    }

    .filter-item.active {
        border-radius: 5px;
        background-color: #f0f8ff;
    }
    
    .loading-indicator {
        padding: 20px;
        text-align: center;
        font-weight: bold;
    }
    
    .error-message {
        padding: 20px;
        text-align: center;
        color: red;
        font-weight: bold;
    }
</style>
<script>
    function closeAllFilterContainers() {
        document.getElementById('regions-list-container').style.display = 'none';
        document.getElementById('bedrooms-container').style.display = 'none';
        document.getElementById('surface-area-container').style.display = 'none';
        document.getElementById('floors-container').style.display = 'none';
        document.getElementById('additional-filters-container').style.display = 'none';
    }

    document.addEventListener('click', function(e) {
        if (!e.target.closest('#regions-list-container') &&
            !e.target.closest('#toggle-regions-filter') &&
            !e.target.closest('#bedrooms-container') &&
            !e.target.closest('#toggle-bedrooms') &&
            !e.target.closest('#surface-area-container') &&
            !e.target.closest('#toggle-surface-area') &&
            !e.target.closest('#floors-container') &&
            !e.target.closest('#toggle-floors') &&
            !e.target.closest('#additional-filters-container') &&
            !e.target.closest('#toggle-additional-filters')) {
            closeAllFilterContainers();
        }
    });
document.addEventListener("click", function (event) {
    var bedroomsContainer = document.getElementById('bedrooms-container');
    var bathroomContainer = document.getElementById('bathrooms-container');
    var furnishedContainer = document.getElementById('furnished-container');
    var regionsContainer = document.getElementById('regions-list-container');
    var additionalfiltersContainer = document.getElementById('additional-filters-container');

    var bedroomsToggle = document.getElementById('toggle-bedrooms');
    var bathroomToggle = document.getElementById('toggle-bathrooms');
    var furnishedToggle = document.getElementById('toggle-furnished');
    var regionsToggle = document.getElementById('toggle-regions-filter');
    var additionalfiltersToggle = document.getElementById('toggle-additional-filters');

   
    if (!bedroomsContainer.contains(event.target) && !bedroomsToggle.contains(event.target)) {
        bedroomsContainer.style.display = 'none';
    }
    if (!bathroomContainer.contains(event.target) && !bathroomToggle.contains(event.target)) {
        bathroomContainer.style.display = 'none';
    }
    if (!furnishedContainer.contains(event.target) && !furnishedToggle.contains(event.target)) {
        furnishedContainer.style.display = 'none';
    }
    if (!regionsContainer.contains(event.target) && !regionsToggle.contains(event.target)) {
        regionsContainer.style.display = 'none';
    }
    if (!additionalfiltersContainer.contains(event.target) && !additionalfiltersToggle.contains(event.target)) {
        additionalfiltersContainer.style.display = 'none';
    }
});

document.getElementById('regions-list-container').addEventListener('click', function(e) {
    e.stopPropagation();
});
document.getElementById('bedrooms-container').addEventListener('click', function(e) {
    e.stopPropagation();
});
document.getElementById('surface-area-container').addEventListener('click', function(e) {
    e.stopPropagation();
});
document.getElementById('floors-container').addEventListener('click', function(e) {
    e.stopPropagation();
});
document.getElementById('additional-filters-container').addEventListener('click', function(e) {
    e.stopPropagation();
});
</script>

<style>

.filter-form {
display: flex;
justify-content: center;
width: 100%;
padding: 30px 0;

}

.filter-box {
display: flex;
flex-wrap: wrap;
gap: 22px;
border:1px solid #5d5b5b;
padding: 10px;
border-radius:20px;
width: 100%;
box-shadow: 0 4px 12px rgba(157, 154, 154, 0.1);

}

.separators {
width: 1px;
background-color: #ccc;
height: 100%;
margin-top:
}

.filter-item {
flex: 1;
max-width: 220px;
display: flex;
flex-direction: column;
gap: 8px;
}

.filter-item label {
font-size: 14px;
font-family: 'FontStyle1', Arial, sans-serif;
margin-bottom:-5px;

}

.form-control {


border-radius: 8px;
}


.btn-apply {
padding: 10px 20px;
font-size: 16px;
color: white;
background-color: #E35D20;
border: none;
border-radius: 8px;
cursor: pointer;
transition: background-color 0.3s ease;
}

.btn-apply:hover {
background-color: #d35400;
}

.price-label, .year-label {
cursor: pointer;
font-size: 14px;
font-weight: bold;
}
</style>
<style>
  
    .dropdown-icons {
        position: absolute;
        top: 610px;
        padding-left: 170px;
        transform: translateY(-50%);
        font-size: 12px;
        transition: transform 0.3s ease; 
        }
.filter-form {
display: flex;
justify-content: center;
width: 100%;
padding: 30px 0;

}

.filter-box {
display: flex;
flex-wrap: wrap;
gap: 22px;
border:1px solid #5d5b5b;
padding: 10px;
border-radius:20px;
width: 100%;
box-shadow: 0 4px 12px rgba(157, 154, 154, 0.1);

}

.separators {
width: 1px;
background-color: #ccc;
height: 100%;
margin-top:
}

.filter-item {
flex: 1;
max-width: 220px;
display: flex;
flex-direction: column;
gap: 8px;
}

.filter-item label {
font-size: 14px;
font-family: 'FontStyle1', Arial, sans-serif;
margin-bottom:-5px;

}

.form-control {


border-radius: 8px;
}


.btn-apply {
padding: 10px 20px;
font-size: 16px;
color: white;
background-color: #E35D20;
border: none;
border-radius: 8px;
cursor: pointer;
transition: background-color 0.3s ease;
}

.btn-apply:hover {
background-color: #d35400;
}

.price-label, .year-label {
cursor: pointer;
font-size: 14px;
font-weight: bold;
}
</style>        
                         <!-- Content Section -->
                         <div class="col-lg-16 col-md-12 col-sm-12 content-side" style="margin-top: 10px;">
                             <div class="category-details-content">
                               
                                  <style>
                                    .breadcrumb {
                            list-style: none;
                            padding: 10px;
                            background-color: #ffffff;
                            border-radius: 5px;
                            }
                            
                            .breadcrumb li {
                            display: inline;
                            font-size: 16px;
                            }
                            
                            .breadcrumb li + li:before {
                            content: ">";
                            padding: 0 8px;
                            color: #999;
                            }
                            
                            .breadcrumb li a {
    color: #15818E;
    text-decoration: none;
}

                            
                            .breadcrumb li a:hover {
                            text-decoration: underline;
                            }
                            
                            .breadcrumb li[aria-current="page"] {
                            color: #666;
                            }
                                  </style>
             
                                 <!-- Sorting and View Options -->
                                 <!-- Sorting and View Options -->
<div class="item-shorting clearfix">
    <div class="right-column pull-right clearfix">
        <div class="select-box">
            <!-- You can add a select dropdown here if needed -->
        </div>
        
        
    </div>
</div>

             
                              
             
<div class="category-block wrapper list-view-active" id="list-view">
    <div class="list-item feature-style2-three pd-0" id="hostel-list-container">
        {% include 'estate/hostel_list_partial.html' %}
    </div>
</div>
<script>
    document.addEventListener('DOMContentLoaded', function () {
document.body.addEventListener('click', function (e) {
const icon = e.target.closest('.favorite-link'); // Detect the clicked element
if (!icon) return;

const iconElement = icon.querySelector('i'); // Ensure we have the icon
const productId = icon.getAttribute('data-product-id');
const productType = icon.getAttribute('data-product-type'); // e.g., 'land', 'apartment', etc.
const isAuthenticated = icon.getAttribute('data-is-authenticated') === 'true';

if (!iconElement || !productId || !productType) {
console.error('Missing required attributes:', icon);
return;
}

e.preventDefault();

// Redirect to login if the user is not authenticated
if (!isAuthenticated) {
window.location.href = '/login/';
return;
}

// Determine if we are adding or removing the favorite
const isFavorite = !iconElement.classList.contains('filled');
const action = isFavorite ? 'add' : 'remove';

// Toggle the icon state before the request
iconElement.classList.toggle('filled', isFavorite);

// Update localStorage
localStorage.setItem(`favorite_${productType}_${productId}`, isFavorite);

// Send the AJAX request
fetch(`/add-to-favorites/${productType}/${productId}/${action}/`, {
method: 'GET',
headers: { 'X-Requested-With': 'XMLHttpRequest' },
})
.then(response => response.json())
.then(data => {
if (data.status === 'added') {
console.log(data.message);
} else if (data.status === 'removed') {
console.log(data.message);
}
})
.catch(error => {
console.error("Error updating favorite:", error);
// Rollback UI change if AJAX fails
iconElement.classList.toggle('filled', !isFavorite);
});
});

// Ensure favorite icons reflect their state when dynamically added
function updateFavoriteIcons() {
document.querySelectorAll('.favorite-link').forEach(icon => {
const iconElement = icon.querySelector('i');
const productId = icon.getAttribute('data-product-id');
const productType = icon.getAttribute('data-product-type');
if (localStorage.getItem(`favorite_${productType}_${productId}`) === 'true') {
iconElement?.classList.add('filled');
} else {
iconElement?.classList.remove('filled');
}
});
}

// Run on initial load and also expose it for future use
updateFavoriteIcons();
window.updateFavoriteIcons = updateFavoriteIcons;
});

</script>



<!-- Add some CSS to handle the filled state -->
<style>
.far.fa-heart {
transition: color 0.3s ease; /* For smooth transition */
}

.far.fa-heart.filled {
color: red;  /* Change color when the icon is filled */
font-weight: bold;  /* Make the icon bold */
}


</style> 
                                 
                                 <script>
                                    function navigateSlide(button, direction) {
                                        const slider = button.closest('.feature-block-one').querySelector('.slider');
                                        const imgElement = slider.querySelector('img');
                                        const images = JSON.parse(imgElement.getAttribute('data-images') || '[]');
                                    
                                        if (images.length === 0) return; // Exit if no images are present
                                    
                                        // Get the current index from the `data-current-index` attribute or default to 0
                                        let currentIndex = parseInt(slider.getAttribute('data-current-index')) || 0;
                                    
                                        // Calculate the new index with wrapping
                                        let newIndex = (currentIndex + direction + images.length) % images.length;
                                    
                                        // Update the current image source
                                        imgElement.src = images[newIndex];
                                    
                                        // Update the slider's current index attribute
                                        slider.setAttribute('data-current-index', newIndex);
                                    
                                        // Update dots (if applicable)
                                        updateDots(slider, newIndex);
                                    }
                                    
                                    // Function to update dots
                                    function updateDots(slider, currentIndex) {
                                        const dotsContainer = slider.closest('.feature-block-one').querySelector('.dots-container');
                                        const imgElement = slider.querySelector('img');
                                        const images = JSON.parse(imgElement.getAttribute('data-images') || '[]');
                                    
                                        // Clear and recreate dots
                                        dotsContainer.innerHTML = '';
                                        images.forEach((_, index) => {
                                            const dot = document.createElement('span');
                                            dot.className = `dot ${index === currentIndex ? 'active' : ''}`;
                                            dot.onclick = () => {
                                                slider.querySelector('img').src = images[index];
                                                slider.setAttribute('data-current-index', index);
                                                updateDots(slider, index);
                                            };
                                            dotsContainer.appendChild(dot);
                                        });
                                    }
                                    
                                    // Initialize sliders and hide navigation buttons if only one image
                                    document.querySelectorAll('.feature-block-one').forEach(block => {
                                        const slider = block.querySelector('.slider');
                                        const imgElement = slider.querySelector('img');
                                        const images = JSON.parse(imgElement.getAttribute('data-images') || '[]');
                                    
                                        const backwardBtn = block.querySelector('.backward');
                                        const forwardBtn = block.querySelector('.forward');
                                    
                                        if (images.length > 0) {
                                            imgElement.src = images[0]; // Set the first image as the default
                                            slider.setAttribute('data-current-index', 0);
                                            updateDots(slider, 0);
                                        }
                                    
                                        // Hide navigation buttons if only one image
                                        if (images.length <= 1) {
                                            backwardBtn.style.display = 'none';
                                            forwardBtn.style.display = 'none';
                                        }
                                    });
                                    
                                </script>
                                 
                                 <style>
                                    .image-box {
      position: relative; /* Ensure positioning context for the dots */
  }
  
  .dots-container {
      display: flex;
      justify-content: center;
      position: absolute;
      bottom: 10px; /* Adjust this value to position the dots as needed */
      left: 100px;
      transform: translateX(-50%); /* Center the dots horizontally */
      z-index: 10; /* Ensure dots appear above other elements */
  }
  
  .dot {
      width: 7px;
      height: 7px;
      background-color: lightgray;
      border-radius: 50%;
      margin: 0 3px;
      cursor: pointer;
  }
  
  .dot.active {
      background-color: rgb(182, 181, 181);
  }
  
  .btn {
       position: absolute;
      top: 40%;
      transform: translateY(-50%);
      background: rgba(0, 0, 0, 0.7); /* Dark semi-transparent background */
      color: white;
      border: none;
      height: 32px; /* Reduced height */
      width: 1px; /* Further reduced width */
      cursor: pointer;
      border-radius: 08px; /* Same rounded edges */
      z-index: 1;
      display: flex; /* Enable flexbox for centering */
      align-items: center; /* Center content vertically */
      justify-content: center; /* Center content horizontally */
     
      transition: background 0.3s ease, transform 0.2s ease; /* Smooth hover effects */
  }
  
  .btn.backward {
      left: 15px;
  }
  .btn.forward {
       right: 180px;/* Adjusted to move the forward button to the extreme right */
  }
  
                                   
                                       .btn:hover {
                                           /* transform: scale(1.1); Slightly enlarge on hover */
                                           color: #000; /* Change icon color */
                                           background-color: rgba(0, 0, 0, 0.4); /* Darker background */
                                           /* box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.5); Stronger shadow */
                                           opacity: 1; /* Fully visible on hover */
                                       }
                                   
                                       .btn:active {
                                           transform: scale(1.1); /* Scale slightly more when clicked */
                                           color: #d9534f; /* Red color for active state */
                                       }
                                   
                                       .backward {
                                           margin-top: 30px;
                                           left: 10px; /* Positioned to the left */
                                       }
                                   
                                       .forward {
                                           margin-top: 30px;
                                           right: 50px; /* Positioned to the right */
                                       }
                                   
                                       /* Make buttons visible when hovering over the parent container */
                                       .category-block:hover .btn {
                                           opacity: 1; /* Show buttons */
                                       }
                                       @media (max-width: 768px) {
    .dots-container {
        bottom: 5px; /* Adjust positioning */
        left: 50%;
        transform: translateX(-50%); /* Center align */
    }

    .dot {
        width: 6px; /* Smaller dots */
        height: 6px;
        margin: 0 2px;
    }

    .btn {
        width: 28px; /* Increase width for touch */
        height: 28px;
        top: 50%;
        transform: translateY(-50%);
    }

    .btn.backward {
        left: 5px; /* Keep it closer to the image */
    }

    .btn.forward {
        right: 5px; /* Adjust to align properly */
    }

    .btn::before {
        font-size: 12px; /* Adjust arrow size */
    }
}

@media (max-width: 480px) {
    .dots-container {
        bottom: 0px;
    }

    .dot {
        width: 5px;
        height: 5px;
    }

    .btn {
        width: 24px;
        height: 24px;
    }

    .btn.backward {
        left: 2px;
    }

    .btn.forward {
        right: 2px;
    }

    .btn::before {
        font-size: 10px;
    }
}
@media (max-width: 768px) {
    #toggle-cities-filter {
        display: none; /* Hides the city filter on mobile */
    }

    .filter-form{
        display: none;

    }

    .separators {
        display: none; /* Hide separators if needed */
    }
}
                                   </style>
                                 <style>
                                     .gradient1-text {
       background: #EB362D;
       -webkit-background-clip: text; /* Clips the background to the text */
       -webkit-text-fill-color: transparent; /* Makes the text transparent to show the gradient */
       font-weight: bold; /* Optional */
     }                         .slide-image{
        height:200px;
        border-radius:8px 8px 8px 8px;
     }
  
                                 </style>
                                 
                                 
                                 

<style>
    .chat-dropdown {
        position: relative;
        display: inline-block;
        z-index: 100;
        
    }
    .chat-options {
        display: none;
        position: absolute;
        top: 100%;
        left: 0;
        background: white;
        list-style: none;
        padding: 5px 0;
        border-radius: 5px;
        box-shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    .chat-options li {
        padding: 5px 15px;
        white-space: nowrap;
    }
    .chat-options li a {
        text-decoration: none;
        color: black;
        display: flex;
        align-items: center;
    }
    .chat-options li a i {
        margin-right: 5px;
    }
</style>

<script>
    function toggleChatOptions(event) {
        event.preventDefault();
        let menu = event.target.closest('.chat-dropdown').querySelector('.chat-options');
        menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
    }
    document.addEventListener('click', function(event) {
        if (!event.target.closest('.chat-dropdown')) {
            document.querySelectorAll('.chat-options').forEach(menu => menu.style.display = 'none');
        }
    });
</script>
                                                                         
                                 </div>
                                
                                    
        
                                 
                                    <style>
                               
                                        /* General Styles for Mobile */
                                        @media (max-width: 768px) {
                                          .category-block .feature-style2-three {
                                            width: 90%; /* Adjust width for mobile responsiveness */
                                            margin: 0 auto; /* Center the container */
                                           
                                          }
                                        
                                          .feature-style2-three .feature-block-one {
                                            margin-bottom: 20px;
                                            width: 100%;
                                            border: 1px solid #ddd; /* Border around the container */
                                            border-radius: 8px; /* Rounded corners */
                                            padding: 20px; /* Space between content and border */
                                            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); /* Subtle shadow */
                                            background: #fff; /* White background for contrast */
                                            height: 450px; /* Allow the container to expand with content */
                                          }
                                        
                                          
                                          .feature-style2-three .feature-block-one .inner-box {
                                            display: flex;
                                            flex-direction: column;
                                            padding: 0;
                                            width: 100%;
                                           
                                            border-radius: 8px;
                                            background-color: #fff;
                                          }
                                        
                                          /* Image Box */
                                          .feature-style2-three .feature-block-one .inner-box .image-box {
                                            width: 100%;
                                            margin-bottom: 15px;
                                            text-align: center;
                                          }
                                        
                                          .feature-style2-three .feature-block-one .inner-box .image-box img {
                                            width: 100%;
                                           
                                            border-radius: 8px 8px 0 0; /* Rounded corners on the top */
                                          }
                                        
                                          /* Content Section (below and outside the inner box) */
                                          .feature-style2-three .feature-block-one .lower-content {
                                            padding: 20px; /* Add padding around the content */
                                            margin-top: 250px; /* Add space between image and content */
                                            border-top: 1px solid #ddd; /* Optional: Add border between image and content */
                                          }
                                        
                                          .feature-style2-three .feature-block-one .lower-content h4 {
                                            margin-bottom: 10px;
                                            font-size: 18px;
                                            font-weight: bold;
                                            color: #333;
                                          }
                                        
                                          /* Action Buttons */
                                          .feature-style2-three .feature-block-one .lower-content .action-buttons {
                                            display: flex;
                                            flex-direction: row;
                                            gap: 10px; /* Space between buttons */
                                            justify-content: center;
                                          }
                                        
                                          .feature-style2-three .feature-block-one .lower-content .action-buttons li {
                                            list-style: none;
                                          }
                                        
                                          .feature-style2-three .feature-block-one .lower-content .action-buttons li a {
                                            display: inline-block;
                                            padding: 12px 20px;
                                            font-size: 14px;
                                            color: #fff;
                                            background: #EB362D;
                                            border-radius: 5px;
                                            text-decoration: none;
                                            transition: background 0.3s ease;
                                            margin-left: -9px;
                                          }
                                        
                                          .feature-style2-three .feature-block-one .lower-content .action-buttons li a:hover {
                                            background: #F9AD1F; /* Hover effect */
                                          }
                                        }
                                        
                                            </style>
                                 
                                 
                                 
             
             <script>
                function showListView() {
                    document.getElementById('grid-view').style.display = 'none';
                    document.getElementById('list-view').style.display = 'block';
                }
            
                function showGridView() {
                    document.getElementById('list-view').style.display = 'none';
                    document.getElementById('grid-view').style.display = 'block';
                }
            </script>
            
            
            <script>
                document.addEventListener("DOMContentLoaded", () => {
        const gridButton = document.querySelector(".grid-view");
        const listButton = document.querySelector(".list-view");
        const categoryBlock = document.querySelector(".category-block.wrapper");
    
        // Set initial state: List view active
        categoryBlock.classList.add("list-view-active");
        listButton.classList.add("on");
        gridButton.classList.remove("on");
    
        gridButton.addEventListener("click", () => {
            categoryBlock.classList.add("grid-view-active");
            categoryBlock.classList.remove("list-view-active");
            gridButton.classList.add("on");
            listButton.classList.remove("on");
            console.log("Switched to Grid View");
        });
    
        listButton.addEventListener("click", () => {
            categoryBlock.classList.add("list-view-active");
            categoryBlock.classList.remove("grid-view-active");
            listButton.classList.add("on");
            gridButton.classList.remove("on");
            console.log("Switched to List View");
        });
    });
    
            </script>
    
    
            </div>

            <script>
                const bannerSection = document.getElementById('banner-section');
                const images = [
                    "{% static 'assets/images/banner/1-01.png' %}",
                    "{% static 'assets/images/banner/1-02.png' %}",
                    "{% static 'assets/images/banner/1-03.png' %}",
                    "{% static 'assets/images/banner/1-04.png' %}",
                ];
                let currentIndex = 0;
            
                function changeBackground() {
                    bannerSection.style.backgroundImage = `url(${images[currentIndex]})`; // Corrected line
                    currentIndex = (currentIndex + 1) % images.length; // Loop through the images
                }
            
                // Change background every 4 seconds
                setInterval(changeBackground, 4000);
            
                // Initialize with the first image
                changeBackground();
            </script>
            <script>
                function updateFilters() {
                    const container = document.getElementById('hostel-list-container');
                    container.innerHTML = '<div class="loading-indicator">Loading...</div>';
            
                    const params = new URLSearchParams(window.location.search);
            
                    // City checkboxes
                    const cityCheckboxes = document.querySelectorAll('.city-list input[type="checkbox"]:checked');
                    params.delete('city');
                    cityCheckboxes.forEach(cb => params.append('city', cb.getAttribute('data-city')));
            
                    // Multi-select filters
                    const multiFilters = ['bedrooms', 'bathrooms', 'building', 'floors', 'facade', 'main_amenity', 'additional_amenity', 'nearby'];
                    multiFilters.forEach(filter => {
                        const checkboxes = document.querySelectorAll(`input[name="${filter}"]:checked`);
                        params.delete(filter);
                        if (checkboxes.length > 0) {
                            const selected = Array.from(checkboxes).map(cb => cb.value);
                            params.set(filter, selected.join(','));
                        }
                    });
                    // Lister Type
                    const listerType = document.querySelector('input[name="lister_type"]:checked');
                    if (listerType) {
                        params.set('lister_type', listerType.value);
                    } else {
                        params.delete('lister_type');
                    }

                    // Property Mortgaged
                    const propertyMortagage = document.querySelector('input[name="property_mortgage"]:checked');
                    if (propertyMortagage) {
                        params.set('property_mortgage', propertyMortagage.value);
                    } else {
                        params.delete('property_mortgage');
                    }
            
                    // Furnished
                    const furnishedSelected = document.querySelector('#furnished-options li.selected');
                    furnishedSelected ? params.set('furnished', furnishedSelected.getAttribute('data-furnished')) : params.delete('furnished');
            
                    // Surface Area Filter
                    const surfaceAreaFrom = document.getElementById('surface_area_from').value;
                    const surfaceAreaTo = document.getElementById('surface_area_to').value;
                    surfaceAreaFrom ? params.set('surface_area_from', surfaceAreaFrom) : params.delete('surface_area_from');
                    surfaceAreaTo ? params.set('surface_area_to', surfaceAreaTo) : params.delete('surface_area_to');
            
                   
            
                    // Price Range
                    const priceFrom = document.getElementById('price_from').value;
                    const priceTo = document.getElementById('price_to').value;
                    if (priceFrom) params.set('price_from', priceFrom);
                    if (priceTo) params.set('price_to', priceTo);
            
                    fetch(`{% url 'hostel' %}?${params.toString()}`, {
                        headers: { 'X-Requested-With': 'XMLHttpRequest' }
                    })
                    .then(response => response.text())
                    .then(html => {
                        container.innerHTML = html;
                        initializeSliders();
                        initializeChatDropdowns();
                        history.pushState(null, '', `?${params.toString()}`);
                        updateBreadcrumbs(params);
                    })
                    .catch(error => {
                        console.error('Error:', error);
                        container.innerHTML = '<div class="error-message">Error loading results. Please try again.</div>';
                    });
                }
                function updateBreadcrumbs(params) {
        const breadcrumbContainer = document.getElementById('breadcrumb-container');
        const breadcrumbItems = [];

        // Add city to breadcrumb
        const cityParams = params.getAll('city');
        if (cityParams.length > 0) {
            breadcrumbItems.push(`City: ${cityParams.join(', ')}`);
        }

        // Add bedrooms to breadcrumb
        const bedroomParams = params.getAll('bedrooms');
        if (bedroomParams.length > 0) {
            breadcrumbItems.push(`Bedrooms: ${bedroomParams.join(', ')}`);
        }

        // Add bathrooms to breadcrumb
        const bathroomParams = params.getAll('bathrooms');
        if (bathroomParams.length > 0) {
            breadcrumbItems.push(`Bathrooms: ${bathroomParams.join(', ')}`);
        }

        // Add furnished to breadcrumb
        const furnishedParam = params.get('furnished');
        if (furnishedParam) {
            breadcrumbItems.push(`Furnished: ${furnishedParam}`);
        }

        // Add surface area to breadcrumb
        const surfaceAreaFrom = params.get('surface_area_from');
        const surfaceAreaTo = params.get('surface_area_to');
        if (surfaceAreaFrom || surfaceAreaTo) {
            breadcrumbItems.push(`Surface Area: ${surfaceAreaFrom || ''} - ${surfaceAreaTo || ''}`);
        }

        // Add price range to breadcrumb
        const priceFrom = params.get('price_from');
        const priceTo = params.get('price_to');
        if (priceFrom || priceTo) {
            breadcrumbItems.push(`Price: ${priceFrom || ''} - ${priceTo || ''}`);
        }

        // Set breadcrumb content
        // breadcrumbContainer.innerHTML = breadcrumbItems.join(' > ');
        document.addEventListener("DOMContentLoaded", function() {
    attachFilterCloseEvents();
    updateBreadcrumbs(new URLSearchParams(window.location.search)); // Initialize breadcrumbs on page load
});

function attachFilterCloseEvents() {
    document.querySelectorAll("#filters-container .filter-badge a").forEach(function (btn) {
        btn.removeEventListener("click", handleClick); // Remove existing listener
        btn.addEventListener("click", handleClick); // Add new listener
    });
}

function handleClick(event) {
    console.log("Close button clicked"); // Debugging line
    event.preventDefault();  // Stop full page reload

    let badge = this.closest('.filter-badge');
    let paramKey = badge.textContent.split(":")[0].trim().toLowerCase();

    let url = new URL(window.location.href);
    url.searchParams.delete(paramKey); // Remove the filter from the URL

    // Update the URL in the browser without reloading
    history.pushState(null, '', url.toString());

    // Send AJAX request to update villa list
    fetch(url, {
        headers: {
            'X-Requested-With': 'XMLHttpRequest'
        }
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.text();
    })
    .then(data => {
        // Replace villa list with new HTML
        document.querySelector("#hostel-list-container").innerHTML = data;

        // Reattach event listeners for new elements if needed
        attachFilterCloseEvents();

        // Update breadcrumbs based on the new URL parameters
        updateBreadcrumbs(new URLSearchParams(window.location.search));
    })
    .catch(error => {
        console.error('Error fetching filtered villas:', error);
    });
}
    }
                function initializeSliders() {
                    document.querySelectorAll('.feature-block-one').forEach(block => {
                        const slider = block.querySelector('.slider');
                        const imgElement = slider.querySelector('img');
                        const images = JSON.parse(imgElement.getAttribute('data-images') || '[]');
                        const backwardBtn = block.querySelector('.backward');
                        const forwardBtn = block.querySelector('.forward');
                        if (images.length > 0) {
                            imgElement.src = images[0];
                            slider.setAttribute('data-current-index', 0);
                        }
                        if (images.length <= 1) {
                            if (backwardBtn) backwardBtn.style.display = 'none';
                            if (forwardBtn) forwardBtn.style.display = 'none';
                        }
                    });
                }
            
                function initializeChatDropdowns() {
                    document.querySelectorAll('.chat-dropdown a').forEach(link => {
                        link.addEventListener('click', function(event) {
                            event.preventDefault();
                            let menu = event.target.closest('.chat-dropdown').querySelector('.chat-options');
                            menu.style.display = menu.style.display === 'block' ? 'none' : 'block';
                        });
                    });
                    document.addEventListener('click', function(event) {
                        if (!event.target.closest('.chat-dropdown')) {
                            document.querySelectorAll('.chat-options').forEach(menu => {
                                menu.style.display = 'none';
                            });
                        }
                    });
                }
            
                function handlePagination(e) {
                    if (e.target.classList.contains('ajax-paginate') ||
                        (e.target.parentElement && e.target.parentElement.classList.contains('ajax-paginate'))) {
                        e.preventDefault();
                        const link = e.target.classList.contains('ajax-paginate') ? e.target : e.target.parentElement;
                        const container = document.getElementById('hostel-list-container');
                        container.innerHTML = '<div class="loading-indicator">Loading...</div>';
            
                        fetch(link.href, {
                            headers: { 'X-Requested-With': 'XMLHttpRequest' }
                        })
                        .then(response => response.text())
                        .then(html => {
                            container.innerHTML = html;
                            initializeSliders();
                            initializeChatDropdowns();
                        })
                        .catch(error => {
                            console.error('Error:', error);
                            container.innerHTML = '<div class="error-message">Error loading results. Please try again.</div>';
                        });
                    }
                }
            
                document.addEventListener('DOMContentLoaded', function() {
                    initializeSliders();
                    initializeChatDropdowns();
            
                    const multiFilterNames = ['bedrooms', 'bathrooms', 'building', 'floors', 'facade', 'main_amenity', 'additional_amenity', 'nearby'];
            
                    multiFilterNames.forEach(name => {
                        document.querySelectorAll(`input[name="${name}"]`).forEach(el => el.addEventListener('change', updateFilters));
                    });
            
                    document.querySelectorAll('.city-list input[type="checkbox"]').forEach(el => el.addEventListener('change', updateFilters));
            
                    document.querySelectorAll('#furnished-options li').forEach(item => {
                        item.addEventListener('click', function() {
                            document.querySelectorAll('#furnished-options li').forEach(li => li.classList.remove('selected'));
                            this.classList.add('selected');
                            updateFilters();
                        });
                    });

                       // Lister Type
                       document.querySelectorAll('input[name="lister_type"]').forEach(radio => {
                        radio.addEventListener('change', updateFilters);
                    });
                    // propertyMortagage
                    document.querySelectorAll('input[name="property_mortgage"]').forEach(radio => {
                        radio.addEventListener('change', updateFilters);
                    });
            
                    document.getElementById('price_from').addEventListener('change', updateFilters);
                    document.getElementById('price_to').addEventListener('change', updateFilters);

                    // Surface Area Filter
                    document.getElementById('surface_area_from')?.addEventListener('change', updateFilters);
                    document.getElementById('surface_area_to')?.addEventListener('change', updateFilters);
            
                    document.addEventListener('click', handlePagination);
                    window.addEventListener('popstate', function() {
                        updateFilters();
                    });
            
                    // Restore multi-checkbox values from URL
                    const urlParams = new URLSearchParams(window.location.search);
                    multiFilterNames.forEach(name => {
                        if (urlParams.has(name)) {
                            const values = urlParams.get(name).split(',');
                            document.querySelectorAll(`input[name="${name}"]`).forEach(cb => {
                                if (values.includes(cb.value)) cb.checked = true;
                            });
                        }
                    });
                });
            </script>
            
                        
                                                                        <style>
                                                                        .loading-indicator {
                                                                            padding: 20px;
                                                                            text-align: center;
                                                                            font-size: 18px;
                                                                            color: #666;
                                                                        }
                                                                        
                                                                        .error-message {
                                                                            padding: 20px;
                                                                            text-align: center;
                                                                            font-size: 18px;
                                                                            color: #EB362D;
                                                                        }
                                                                        </style> 

<script>
    document.addEventListener('DOMContentLoaded', function () {
    
        // 🔁 Helper: Update visible filter display fields (badges, inputs, etc.)
        function updateFilterDisplay() {
            const floorsSelected = Array.from(document.querySelectorAll('input[name="floors"]:checked'))
                .map(cb => `${cb.value} floors`);
            const floorsField = document.querySelector('#selected-floors');
            if (floorsField) floorsField.value = floorsSelected.join(', ');
    
            const bedroomSelected = Array.from(document.querySelectorAll('input[name="bedrooms"]:checked'))
.map(cb => `${cb.value} bed`);
const bedroomField = document.querySelector('#selected-bedrooms');
if (bedroomField) bedroomField.value = bedroomSelected.join(', ');

const params = new URLSearchParams(window.location.search);

const surfaceAreaFromInput = document.querySelector('#surface_area_from');
const surfaceAreaToInput = document.querySelector('#surface_area_to');
const surfaceAreaField = document.querySelector('#selected-surface-area');

const from = params.get('surface_area_from');
const to = params.get('surface_area_to');

if (surfaceAreaFromInput) surfaceAreaFromInput.value = from || '';
if (surfaceAreaToInput) surfaceAreaToInput.value = to || '';

if (surfaceAreaField) {
if (from && to) {
surfaceAreaField.value = `${from} - ${to} sqm`;
} else if (from) {
surfaceAreaField.value = `From ${from} sqm`;
} else if (to) {
surfaceAreaField.value = `Up to ${to} sqm`;
} else {
surfaceAreaField.value = '';
}
}


const furnishedSelected = Array.from(document.querySelectorAll('input[name="furnished"]:checked'))
.map(cb => `${cb.value}`);
const furnishedField = document.querySelector('#selected-furnished');
if (furnishedField) furnishedField.value = furnishedSelected.join(', ');
const propertyMortgageSelected = Array.from(document.querySelectorAll('input[name="property_mortgage"]:checked'))
    .map(cb => `${cb.value}`);
const propertyMortgageField = document.querySelector('#selected-property-mortgage');
if (propertyMortgageField) propertyMortgageField.value = propertyMortgageSelected.join(', ');

const listerType = Array.from(document.querySelectorAll('input[name="lister_type"]:checked')).map(i => i.value);
let listerTypeText = listerType.length ? `Lister Type: ${listerType.join(', ')}` : '';

// 🔶 Get selected mortgage status
const mortgageStatus = Array.from(document.querySelectorAll('input[name="property_mortgage"]:checked')).map(i => i.value);
let mortgageText = mortgageStatus.length ? `Mortgaged: ${mortgageStatus.join(', ')}` : '';

const buildings = Array.from(document.querySelectorAll('input[name="building"]:checked')).map(i => i.value);
const mainAmenities = Array.from(document.querySelectorAll('input[name="main_amenity"]:checked')).map(i => i.value);
const addAmenities = Array.from(document.querySelectorAll('input[name="additional_amenity"]:checked')).map(i => i.value);
const nearby = Array.from(document.querySelectorAll('input[name="nearby"]:checked')).map(i => i.value);
const facades = Array.from(document.querySelectorAll('input[name="facade"]:checked')).map(i => i.value);

// 🔶 Price Range
const priceFromInput = document.querySelector('#price_from');
const priceToInput = document.querySelector('#price_to');
const priceField = document.querySelector('#selected-additional-filters');

const priceFrom = params.get('price_from');
const priceTo = params.get('price_to');

if (priceFromInput) priceFromInput.value = priceFrom || '';
if (priceToInput) priceToInput.value = priceTo || '';

let priceText = '';
if (priceFrom && priceTo) {
priceText = `${priceFrom} - ${priceTo}`;
} else if (priceFrom) {
priceText = `From ${priceFrom}`;
} else if (priceTo) {
priceText = `Up to ${priceTo}`;
}

// Combine price range with other filters
const additionalValues = [
...buildings, 
...mainAmenities, 
...addAmenities, 
...nearby, 
...facades, 
priceText,
listerTypeText, // Include lister type
    mortgageText
].filter(value => value); // Remove empty values

// Update the additional filters field
const additionalField = document.querySelector('#selected-additional-filters');
if (additionalField) additionalField.value = additionalValues.length ? additionalValues.join(', ') : '';

            const cities = Array.from(document.querySelectorAll('.city-list input[type="checkbox"]:checked'))
                .map(i => i.getAttribute('data-city'));
            const cityField = document.querySelector('#selected-city');
            if (cityField) cityField.value = cities.length ? cities.join(', ') : '';
    
            const clearCityBtn = document.querySelector('#clear-selected-city');
            if (clearCityBtn) {
                clearCityBtn.style.display = cities.length ? 'inline-block' : 'none';
            }
    
            const regions = Array.from(document.querySelectorAll('.region-list input[type="checkbox"]:checked'))
                .map(i => i.getAttribute('data-region'));
            const regionField = document.querySelector('#selected-regions');
            if (regionField) regionField.value = regions.length ? regions.join(', ') : '';
    
            updateSelectAllCheckboxes(); // ✅ Update select all checkboxes based on children
        }
    
        // ✅ New helper: Update "Select All" checkboxes based on their child checkboxes
        function updateSelectAllCheckboxes() {
            document.querySelectorAll('.select-all-cities').forEach(selectAll => {
                const region = selectAll.dataset.region;
                const regionCities = document.querySelectorAll(`.region-item[data-region="${region}"] .city-list input[type="checkbox"]`);
                const allChecked = Array.from(regionCities).every(cb => cb.checked);
                selectAll.checked = allChecked;
            });
        }
    
        // 🟨 Individual checkbox update
        document.querySelectorAll('.city-list input[type="checkbox"]').forEach(cityCheckbox => {
            cityCheckbox.addEventListener('change', function () {
                updateFilterDisplay();
            });
        });
    
        // 🟨 Region 'Select All'
        document.querySelectorAll('.select-all-cities').forEach(selectAllCheckbox => {
            selectAllCheckbox.addEventListener('change', function () {
                const region = this.dataset.region;
                const regionCities = document.querySelectorAll(`.region-item[data-region="${region}"] .city-list input[type="checkbox"]`);
                regionCities.forEach(checkbox => {
                    checkbox.checked = this.checked;
                });
                updateFilterDisplay();
            });
        });
    
        // 🟥 Remove individual filter
        document.body.addEventListener('click', function (e) {
            if (e.target.matches('.remove-filter') && !e.target.id.includes('clear-all-filters')) {
                e.preventDefault();
    
                const key = e.target.getAttribute('data-key');
                const value = e.target.getAttribute('data-value');
    
                const url = new URL(window.location.href);
                const params = new URLSearchParams(url.search);
    
                const updated = [];
                params.getAll(key).forEach(val => {
                    val.split(',').forEach(item => {
                        if (item !== value && item !== 'null' && item !== 'None') {
                            updated.push(item);
                        }
                    });
                });
    
                params.delete(key);
                if (updated.length) {
                    params.append(key, updated.join(','));
                }
                params.delete('page');
    
                const finalUrl = `${url.pathname}?${params.toString()}`;
    
                fetch(finalUrl, { headers: { 'X-Requested-With': 'XMLHttpRequest' } })
                    .then(res => res.text())
                    .then(html => {
                        document.querySelector('#hostel-list-container').innerHTML = html;
                        history.pushState(null, '', finalUrl);
    
                        const cityCheckbox = document.querySelector(`.city-list input[data-city="${value}"]`);
                        if (cityCheckbox) cityCheckbox.checked = false;
    
                        document.querySelectorAll(`input[name="${key}"]`).forEach(input => {
                            const inputVal = decodeURIComponent(input.value).trim();
                            const targetVal = decodeURIComponent(value).trim();
    
                            if (inputVal === targetVal) {
                                input.checked = false;
                            } else if (inputVal.includes(',')) {
                                const splitVals = inputVal.split(',').filter(v => v.trim() !== targetVal);
                                input.value = splitVals.join(',');
                            }
                        });
    
                        document.querySelectorAll(`#${key}-options li.selected`).forEach(li => {
                            if (li.textContent.trim() === value) {
                                li.classList.remove('selected');
                            }
                        });
    
                        const displayField = document.querySelector(`#selected-${key}`);
                        if (displayField) {
                            const currentVals = displayField.value.split(',').map(v => v.trim());
                            const updatedVals = currentVals.filter(v => v !== value);
                            displayField.value = updatedVals.join(', ');
                        }
    
                        const badge = e.target.closest('.filter-badge');
                        if (badge) badge.remove();
    
                        updateFilterDisplay();
                    });
            }
    
            // 🟢 Clear All Filters
            if (e.target.matches('#clear-all-filters')) {
e.preventDefault();

// Clear all checkboxes
document.querySelectorAll('input[type="checkbox"]').forEach(input => input.checked = false);

// Clear all radio buttons
document.querySelectorAll('input[type="radio"]').forEach(input => input.checked = false);

// Clear selected classes
document.querySelectorAll('#furnished-options li.selected').forEach(el => el.classList.remove('selected'));
document.querySelectorAll('#property-options li.selected').forEach(el => el.classList.remove('selected')); // 🆕 Clear property selection

// Clear input fields
const filterFields = [
'#selected-bathrooms', '#selected-bedrooms', '#selected-furnished',
'#selected-additional-filters', '#selected-city', '#selected-nearby',
'#selected-regions', '#surface_area_from', '#surface_area_to',
'#selected-surface-area', '#price_from', '#price_to',
'#selected-property','#selected-floors', // 🆕 Clear Property Status input
];
filterFields.forEach(id => {
const el = document.querySelector(id);
if (el) el.value = '';
});

// Hide clear city button
const clearCityBtn = document.querySelector('#clear-selected-city');
if (clearCityBtn) clearCityBtn.style.display = 'none';

// Reload results
const url = new URL(window.location.href);
const base = url.origin + url.pathname;
const listingType = new URLSearchParams(window.location.search).get('listing_type');
const finalUrl = listingType ? `${base}?listing_type=${listingType}` : base;

fetch(finalUrl, { headers: { 'X-Requested-With': 'XMLHttpRequest' } })
.then(res => res.text())
.then(html => {
document.querySelector('#hostel-list-container').innerHTML = html;
history.pushState(null, '', finalUrl);
updateFilterDisplay(); // Refresh filter UI
});
}

        });
    
        // Initial load — update "Select All" based on state
        updateFilterDisplay();
    
    });
    </script> 
   

              </div>
        
        {% include 'footer.html' %}










